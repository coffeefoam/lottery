function editHashPair(e,t){return HashMap.hashMapSingleton.editPair(e,t)}function getHashObject(e){return HashMap.hashMapSingleton.getObject(e)}function deleteHashPair(e){HashMap.hashMapSingleton.deletePair(e)}function reverseDeleteHashPairs(e){HashMap.hashMapSingleton.reverseDeletePair(e)}function getHashKeyListCopy(){return HashMap.hashMapSingleton.getKeyListCopy()}function getHashObjectListCopy(){return HashMap.hashMapSingleton.getObjectListCopy()}function trace(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];InitConfig.isRelease||console.log(Array.prototype.join.call(arguments," "))}var __reflect=this&&this.__reflect||function(e,t,r){e.__class__=t,r?r.push(t):r=[t],e.__types__=e.__types__?r.concat(e.__types__):r},__extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},HashMap=function(){function e(){this.keyArray=new Array,this.objArray=new Array}return Object.defineProperty(e,"hashMapSingleton",{get:function(){return this.instance||(this.instance=new e),this.instance},enumerable:!0,configurable:!0}),e.prototype.editPair=function(e,t){var r=this.keyArray.indexOf(e);return-1==r?(this.keyArray.push(e),this.objArray.push(t)):this.objArray[r]=t,new HashPair(e,t)},e.prototype.getObject=function(e){var t=this.keyArray.indexOf(e);return-1!=t?this.objArray[t]:null},e.prototype.deletePair=function(e){var t=this.keyArray.indexOf(e);-1!=t&&(this.keyArray.splice(t,1),this.objArray.splice(t,1))},e.prototype.getKeyListCopy=function(){return this.keyArray.concat()},e.prototype.getObjectListCopy=function(){return this.objArray.concat()},e.prototype.reverseDeletePair=function(e){for(var t=0;t<this.objArray.length;t++)this.objArray[t]===e&&(this.keyArray.splice(t,1),this.objArray.splice(t,1),t--)},e}();__reflect(HashMap.prototype,"HashMap");var HashPair=function(){function e(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.key=e,this.object=t}return e}();__reflect(HashPair.prototype,"HashPair");var disDev;!function(e){var t=function(e){function t(){var t=e.call(this)||this;if(t.$loopStartFrame=0,t.$loopEndFrame=0,t.$driverType=disTypes.DriverType.FRAME,t.playInterval=1,t.currentInterval=0,t.executeFrameScript=!0,t.executeLoop=!0,t.executeDriverType=!0,"disDev.AbstractAnimation"==egret.getQualifiedClassName(t))throw new Error(t.__class__+" 是用于被继承的抽象类，不能实例化");return t}return __extends(t,e),t.prototype.addFrameScript=function(e,t,r,i){},t.prototype.removeFrameScript=function(e){},t.prototype.stop=function(){},t.prototype.play=function(){},t.prototype.gotoAndPlay=function(e){},t.prototype.gotoAndStop=function(e){},t.prototype.nextFrame=function(){},t.prototype.prevFrame=function(){},t.prototype.playHandler=function(e){void 0===e&&(e=null)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this.$totalFrames},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){return this.$currentFrame},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPlaying",{get:function(){return this.$isPlaying},enumerable:!0,configurable:!0}),t.prototype.setDriver=function(e,t){void 0===e&&(e=disTypes.DriverType.FRAME),void 0===t&&(t=1)},t.prototype.setLoopPoint=function(e,t,r,i,n){if(void 0===r&&(r=!1),void 0===i&&(i=this.$driverType),void 0===n&&(n=this.playInterval),1>e||t>this.$totalFrames)throw new Error("循环播放片段起始帧或结束帧超出范围！");if(e>t)throw new Error("循环播放片段起始帧号不能大于结束帧号！");this.$loopStartFrame=Math.floor(e),this.$loopEndFrame=Math.floor(t),this.$driverTypeOnLooping=i,this.$playIntervalOnLooping=n,this.executeLoop&&r&&this.gotoAndPlay(e)},t.prototype.clearLoopPoint=function(){this.$loopStartFrame=0,this.$loopEndFrame=0},Object.defineProperty(t.prototype,"scaleWidth",{get:function(){return this.width*this.scaleX},set:function(e){this.scaleX=e/this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleHeight",{get:function(){return this.height*this.scaleY},set:function(e){this.scaleY=e/this.height},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.removeEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop())},t}(egret.Sprite);e.AbstractAnimation=t,__reflect(t.prototype,"disDev.AbstractAnimation",["disDev.IAnimation","disDev.IDisplayObjectLite","egret.IEventDispatcher"])}(disDev||(disDev={}));var esm;!function(e){var t=function(){function e(){throw new Error(this.__class__+" 是静态方法集成类，不需要实例化")}return Object.defineProperty(e,"isOpen",{get:function(){return e._isSoundOpen},set:function(t){e._isSoundOpen=t,e._isSoundOpen?e.setAllVolumeToDefault():e.setAllVolume(0)},enumerable:!0,configurable:!0}),e.registerSound=function(t,r,i){if(void 0===i&&(i=1),e.soundObject||(e.soundObject=new Object,e.defaultVolumeObject=new Object),e.soundObject[t])throw new Error("该音效名称已被注册");r.type=egret.Sound.MUSIC,e.soundObject[t]=r,e.defaultVolumeObject[t]=i},e.initAllSoundWithExtreme=function(){if(!e.soundObject)throw new Error("该音效尚未被注册和实例化");for(var t in e.soundObject)e.playSound(t,0,1,0,0);e.stopAllSound()},e.playSoundSingle=function(t,r,i,n,o){if(void 0===r&&(r=0),void 0===i&&(i=1),void 0===n&&(n=r),void 0===o&&(o=NaN),!e.soundObject)throw new Error("该音效尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音效尚未被注册和实例化");e.stopAllSound(),e.playSound(t,r,i,n,o)},e.playSound=function(t,r,i,n,o){if(void 0===r&&(r=0),void 0===i&&(i=1),void 0===n&&(n=r),void 0===o&&(o=NaN),!e.soundObject)throw new Error("该音效尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音效尚未被注册和实例化");var a=e.soundObject[t];e.soundChannelObject||(e.soundChannelObject=new Object),e.soundChannelObject[t]&&e.soundChannelObject[t].stop(),e.isOpen?isNaN(o)&&(o=e.defaultVolumeObject[t]):o=0,e.stopSound(t);var s,l=[t,i,n,o];0!=r&&1!=Math.ceil(i)&&n!=r?(s=a.play(r,1),s.addEventListener(egret.Event.SOUND_COMPLETE,e.onSoundComplete,e)):(s=a.play(n,i),0!=i&&s.addEventListener(egret.Event.SOUND_COMPLETE,e.onSoundEnd,e)),s.volume=o,e.hashMap.editPair(s,l),e.soundChannelObject[t]=s},e.onSoundComplete=function(t){var r=t.currentTarget,i=e.hashMap.getObject(r);e.hashMap.deletePair(r);var n=i[0],o=i[1],a=i[2],s=i[3],l=e.soundObject[n];e.stopSound(n),0==Math.ceil(o)?r=l.play(a,0):(r=l.play(a,Math.ceil(o)-1),r.addEventListener(egret.Event.SOUND_COMPLETE,e.onSoundEnd,e)),r.volume=s,e.hashMap.editPair(r,i),e.soundChannelObject[n]=r,r.removeEventListener(egret.Event.SOUND_COMPLETE,e.onSoundComplete,e)},e.onSoundEnd=function(t){var r=t.currentTarget,i=e.hashMap.getObject(r),n=i[0];r.removeEventListener(egret.Event.SOUND_COMPLETE,e.onSoundEnd,e),e.hashMap.deletePair(r),delete e.soundChannelObject[n]},e.stopSound=function(t){if(!e.soundObject)throw new Error("该音效尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音效尚未被注册和实例化");if(e.soundChannelObject||(e.soundChannelObject=new Object),e.soundChannelObject[t]){var r=e.soundChannelObject[t];r.stop(),r.removeEventListener(egret.Event.SOUND_COMPLETE,e.onSoundComplete,e),r.removeEventListener(egret.Event.SOUND_COMPLETE,e.onSoundEnd,e),e.hashMap.deletePair(r),delete e.soundChannelObject[t]}},e.stopAllSound=function(){if(e.soundChannelObject)for(var t in e.soundChannelObject){var r=e.soundChannelObject[t];r.stop(),r.removeEventListener(egret.Event.SOUND_COMPLETE,e.onSoundComplete,e),r.removeEventListener(egret.Event.SOUND_COMPLETE,e.onSoundEnd,e),e.hashMap.deletePair(r),delete e.soundChannelObject[t]}},e.setVolume=function(t,r){if(!e.soundObject)throw new Error("该音效尚未被注册和实例化");if(e.soundChannelObject||(e.soundChannelObject=new Object),(e.isOpen||0==r)&&e.soundChannelObject[t]){var i=e.soundChannelObject[t];i.volume=r}},e.setAllVolume=function(t){if(e.soundChannelObject&&(e.isOpen||0==t))for(var r in e.soundChannelObject){var i=e.soundChannelObject[r];i.volume=t}},e.setVolumeToDefault=function(t){if(!e.soundObject)throw new Error("该音效尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音效尚未被注册和实例化");if(e.soundChannelObject[t]&&(e.isOpen||0==e.defaultVolumeObject[t])){var r=e.soundChannelObject[t];r.volume=e.defaultVolumeObject[t]}},e.setAllVolumeToDefault=function(){if(e.soundChannelObject)for(var t in e.soundChannelObject){var r=e.soundChannelObject[t];r.volume=e.defaultVolumeObject[t]}},e.setDefaultVolume=function(t,r){if(!e.soundObject)throw new Error("该音效尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音效尚未被注册和实例化");e.defaultVolumeObject[t]=r},e.getDefaultVolume=function(t){if(!e.soundObject)throw new Error("该音效尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音效尚未被注册和实例化");return e.defaultVolumeObject[t]},e.getSoundChannel=function(t){if(!e.soundObject)throw new Error("该音效尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音效尚未被注册和实例化");return e.soundChannelObject?e.soundChannelObject[t]:void 0},e}();t.hashMap=new HashMap,t._isSoundOpen=!0,e.SoundEffectManager=t,__reflect(t.prototype,"esm.SoundEffectManager")}(esm||(esm={}));var esm;!function(e){var t=function(){function e(){throw new Error(this.__class__+" 是静态方法集成类，不需要实例化")}return Object.defineProperty(e,"isOpen",{get:function(){return e._isSoundOpen},set:function(t){e._isSoundOpen=t,e._isSoundOpen?e.setAllVolumeToDefault():e.setAllVolume(0)},enumerable:!0,configurable:!0}),e.registerSound=function(t,r,i){if(void 0===i&&(i=1),e.soundObject||(e.soundObject=new Object,e.defaultVolumeObject=new Object),e.soundObject[t])throw new Error("该音乐名称已被注册");r.type=egret.Sound.MUSIC,e.soundObject[t]=r,e.defaultVolumeObject[t]=i},e.initAllSoundWithExtreme=function(){if(!e.soundObject)throw new Error("该音乐尚未被注册和实例化");for(var t in e.soundObject)e.playSound(t,0,1,0,0);e.stopAllSound()},e.playSoundSingle=function(t,r,i,n,o){if(void 0===r&&(r=0),void 0===i&&(i=1),void 0===n&&(n=r),void 0===o&&(o=NaN),!e.soundObject)throw new Error("该音乐尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音乐尚未被注册和实例化");e.stopAllSound(),e.playSound(t,r,i,n,o)},e.playSound=function(t,r,i,n,o){if(void 0===r&&(r=0),void 0===i&&(i=1),void 0===n&&(n=r),void 0===o&&(o=NaN),!e.soundObject)throw new Error("该音乐尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音乐尚未被注册和实例化");var a=e.soundObject[t];e.soundChannelObject||(e.soundChannelObject=new Object),e.soundChannelObject[t]&&e.soundChannelObject[t].stop(),e.isOpen?isNaN(o)&&(o=e.defaultVolumeObject[t]):o=0,e.stopSound(t);var s,l=[t,i,n,o];0!=r&&1!=Math.ceil(i)&&n!=r?(s=a.play(r,1),s.addEventListener(egret.Event.SOUND_COMPLETE,e.onSoundComplete,e)):(s=a.play(n,i),0!=i&&s.addEventListener(egret.Event.SOUND_COMPLETE,e.onSoundEnd,e)),s.volume=o,e.dataMap.editPair(s,l),e.soundChannelObject[t]=s},e.onSoundComplete=function(t){var r=t.currentTarget,i=e.dataMap.getObject(r);e.dataMap.deletePair(r);var n=i[0],o=i[1],a=i[2],s=i[3],l=e.soundObject[n];e.stopSound(n),0==Math.ceil(o)?r=l.play(a,0):(r=l.play(a,Math.ceil(o)-1),r.addEventListener(egret.Event.SOUND_COMPLETE,e.onSoundEnd,e)),r.volume=s,e.dataMap.editPair(r,i),e.soundChannelObject[n]=r,r.removeEventListener(egret.Event.SOUND_COMPLETE,e.onSoundComplete,e)},e.onSoundEnd=function(t){var r=t.currentTarget,i=e.dataMap.getObject(r),n=i[0];r.removeEventListener(egret.Event.SOUND_COMPLETE,e.onSoundEnd,e),e.dataMap.deletePair(r),delete e.soundChannelObject[n]},e.stopSound=function(t){if(!e.soundObject)throw new Error("该音乐尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音乐尚未被注册和实例化");if(e.soundChannelObject||(e.soundChannelObject=new Object),e.soundChannelObject[t]){var r=e.soundChannelObject[t];r.stop(),r.removeEventListener(egret.Event.SOUND_COMPLETE,e.onSoundComplete,e),r.removeEventListener(egret.Event.SOUND_COMPLETE,e.onSoundEnd,e),e.dataMap.deletePair(r),delete e.soundChannelObject[t]}},e.stopAllSound=function(){if(e.soundChannelObject)for(var t in e.soundChannelObject){var r=e.soundChannelObject[t];r.stop(),r.removeEventListener(egret.Event.SOUND_COMPLETE,e.onSoundComplete,e),r.removeEventListener(egret.Event.SOUND_COMPLETE,e.onSoundEnd,e),e.dataMap.deletePair(r),delete e.soundChannelObject[t]}},e.setVolume=function(t,r){if(!e.soundObject)throw new Error("该音乐尚未被注册和实例化");if(e.soundChannelObject||(e.soundChannelObject=new Object),(e.isOpen||0==r)&&e.soundChannelObject[t]){var i=e.soundChannelObject[t];i.volume=r}},e.setAllVolume=function(t){if(e.soundChannelObject&&(e.isOpen||0==t))for(var r in e.soundChannelObject){var i=e.soundChannelObject[r];i.volume=t}},e.setVolumeToDefault=function(t){if(!e.soundObject)throw new Error("该音乐尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音乐尚未被注册和实例化");if(e.soundChannelObject[t]&&(e.isOpen||0==e.defaultVolumeObject[t])){var r=e.soundChannelObject[t];r.volume=e.defaultVolumeObject[t]}},e.setAllVolumeToDefault=function(){if(e.soundChannelObject)for(var t in e.soundChannelObject){var r=e.soundChannelObject[t];r.volume=e.defaultVolumeObject[t]}},e.setDefaultVolume=function(t,r){if(!e.soundObject)throw new Error("该音乐尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音乐尚未被注册和实例化");e.defaultVolumeObject[t]=r},e.getDefaultVolume=function(t){if(!e.soundObject)throw new Error("该音乐尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音乐尚未被注册和实例化");return e.defaultVolumeObject[t]},e.getSoundChannel=function(t){if(!e.soundObject)throw new Error("该音乐尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音乐尚未被注册和实例化");return e.soundChannelObject?e.soundChannelObject[t]:void 0},e}();t.dataMap=new HashMap,t.funMap=new HashMap,t._isSoundOpen=!0,e.SoundMusicManager=t,__reflect(t.prototype,"esm.SoundMusicManager")}(esm||(esm={}));var gameModule;!function(e){var t=function(){function e(){throw new Error(e.__class__+" 是静态方法集成类，不需要实例化")}return e.getData=function(){var t=InitConfig.req_host;""==t?InitConfig.isRelease?connect.NetworkConnector.connectToURL("//"+location.host+"/icpapi/GetMShiPinInfo?lotteryid=5&t="+Math.random(),e.onGetData,e):connect.NetworkConnector.connectToURL("localData.json",e.onGetData,e):connect.NetworkConnector.connectToURL(t+"icpapi/GetMShiPinInfo?lotteryid=5&t="+Math.random(),e.onGetData,e)},e.onGetData=function(t){if(t==connect.NetworkConnector.CONNECT_FAULT)return void(e.dataRequestTimes<10?(egret.setTimeout(e.getData,e,500),e.dataRequestTimes++,trace("reconnect  "+e.dataRequestTimes)):(ConcreteSubject.notify(SubjectTypes.LINK_FAULT),trace("多次访问服务器失败，请检查网络链接并手动刷新页面")));try{var r=JSON.parse(t)}catch(i){return trace("JSON数据解析异常，重新请求数据!"),void e.getData()}e.dataRequestTimes=0;var n=localData.Cache.data;n.time=r.time.toString(),n.current.periodNumber=r.current.periodNumber.toString(),n.current.period=r.current.period.toString(),n.current.awardTime=r.current.awardTime.toString(),n.current.awardNumbers=r.current.awardNumbers.toString(),n.next.periodNumber=r.next.periodNumber.toString(),n.next.period=r.next.period.toString(),n.next.awardTime=r.next.awardTime.toString(),n.next.awardTimeInterval=r.next.awardTimeInterval.toString(),n.next.delayTimeInterval=r.next.delayTimeInterval.toString(),localData.CommonVariable.resultArray=n.current.awardNumbers.split(","),localData.CommonVariable.timeInterval=Math.round(Number(localData.Cache.data.next.awardTimeInterval)/1e3+Number(localData.Cache.data.next.delayTimeInterval)),CommonVariable.awardStatus<2?ConcreteSubject.notify(SubjectTypes.GET_DATA):n.next.awardTimeInterval>0&&ConcreteSubject.notify(SubjectTypes.GET_REALDATA)},e}();t.dataRequestTimes=0,t.recordRequestTimes=0,e.DataRequester=t,__reflect(t.prototype,"gameModule.DataRequester")}(gameModule||(gameModule={}));var localData;!function(e){var t=function(){function e(){}return e}();t.awardStatus=0,e.CommonVariable=t,__reflect(t.prototype,"localData.CommonVariable")}(localData||(localData={}));var localData;!function(e){var t=function(){function e(){this.current=new Current,this.next=new Next}return e}();e.DataValueObject=t,__reflect(t.prototype,"localData.DataValueObject")}(localData||(localData={}));var Current=function(){function e(){}return Object.defineProperty(e.prototype,"awardNumbers",{get:function(){return this.$awardNumbers},set:function(e){var t=e.split(",");this.$awardNumbers=t[0]+","+t[1]+","+t[2]+","+t[3]+","+t[4]+","+t[5]+","+t[6]+","+t[7]},enumerable:!0,configurable:!0}),e}();__reflect(Current.prototype,"Current");var Next=function(){function e(){}return e}();__reflect(Next.prototype,"Next");var proxy;!function(e){var t=function(){function e(e){this.dragonBonesMaid=new bones.DragonBonesMaid,this.armature=this.dragonBonesMaid.armature,e.addChild(this.armature.display),this.armature.display.x=142,this.armature.display.y=300,this.armature.display.anchorOffsetX=0,this.armature.display.anchorOffsetY=0;var t=this.armature.display;this.display=t,t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouch,this),this.armature.animation.timeScale=1,e.addChild(this.armature.display),this.gotoAndPlay("await"),this.subscribe(SubjectTypes.GAME_INIT,this.init),this.subscribe(SubjectTypes.GAME_START,this.noTouch),this.subscribe(SubjectTypes.GAME_END,this.victory),this.armature.addEventListener(dragonBones.FrameEvent.ANIMATION_FRAME_EVENT,this.customEvent,this)}return e.prototype.onTouch=function(){this.gotoAndPlay("happy"),SoundEffectManager.isOpen&&SoundEffectManager.playSound(SoundNames.YAMETE)},e.prototype.noTouch=function(){var e=this.armature.display;e.touchEnabled=!1},e.prototype.subscribe=function(e,t,r){void 0===r&&(r=this),ConcreteSubject.addObserver(this,e,t,r)},e.prototype.unsubscribe=function(e){void 0===e&&(e=null),ConcreteSubject.removeObserver(this,e)},e.prototype.init=function(){"await"!=this.currentAction&&this.gotoAndPlay("await")},e.prototype.sayHallo=function(){this.gotoAndPlay("hello",1),SoundEffectManager.isOpen&&CommonVariable.timeInterval>15&&SoundEffectManager.playSoundSingle(SoundNames.WELCOME)},e.prototype.gotoAndPlay=function(e,t,r,i){void 0===t&&(t=0),void 0===r&&(r=0),void 0===i&&(i=1);var n=this.armature.display;n.touchEnabled=!1,this.anms=this.armature.animation.gotoAndPlay(e,0,-1,t),this.anms.currentTime=r,this.armature.animation.timeScale=i,this.currentAction=e},e.prototype.stop=function(){this.anms&&this.anms.isPlaying&&this.anms.stop()},e.prototype.customEvent=function(e){var t=this.armature.display;"feiwen_end"==e.frameLabel?(this.gotoAndPlay("await",0),t.touchEnabled=!0):"hello_end"==e.frameLabel?(this.gotoAndPlay("await",0),CommonVariable.awardStatus<2&&(t.touchEnabled=!0)):"happy_end"==e.frameLabel&&(this.gotoAndPlay("await",0),CommonVariable.awardStatus<2&&(t.touchEnabled=!0))},e.prototype.victory=function(){TimerDelayCaller.addCallerOnce(null,this.gotoAndPlay,this,500,"feiwen",1)},e}();e.MaidProxy=t,__reflect(t.prototype,"proxy.MaidProxy",["IObserver"])}(proxy||(proxy={}));var disDev;!function(e){var t=function(e){function t(t){var r=e.call(this)||this;r.fcoArray=t,r.frameDisplayObjectsArray=new Object,r.labelFromIndex=new Object,r.indexFromLabel=new Object,r.continuationFromIndex=new Object,r.layerFromIndex=new Object;for(var i=0;i<t.length;i++){var n=t[i].frame-1;r.frameDisplayObjectsArray[n]=t[i].classNameArray,r.indexFromLabel["label_"+t[i].frameLabel]=n,r.labelFromIndex[n]=t[i].frameLabel,r.continuationFromIndex=t[i].continuation,r.layerFromIndex=t[i].layer}return r}return __extends(t,e),t.prototype.gotoAndStop=function(e){},Object.defineProperty(t.prototype,"scaleWidth",{get:function(){return this.width*this.scaleX},set:function(e){this.scaleX=e/this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleHeight",{get:function(){return this.height*this.scaleY},set:function(e){this.scaleY=e/this.height},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){},t}(egret.Sprite);e.MovieClipPlus=t,__reflect(t.prototype,"disDev.MovieClipPlus",["disDev.IDisplayObjectLite","egret.IEventDispatcher"])}(disDev||(disDev={}));var FrameContentObject=function(){function e(e,t,r,i,n){void 0===t&&(t=null),void 0===r&&(r=null),void 0===i&&(i=1),void 0===n&&(n=0),this.frame=0,this.frame=1>e?1:Math.floor(e),this.classNameArray=t,this.frameLabel=r,this.continuation=1>i?1:Math.floor(i),this.layer=n}return e}();__reflect(FrameContentObject.prototype,"FrameContentObject");var TypeAndName=function(){function e(e,t){this.classType=e,this.instanceName=t}return e}();__reflect(TypeAndName.prototype,"TypeAndName");var disTypes;!function(e){var t;!function(e){e[e.TopAndLeft=0]="TopAndLeft",e[e.TopAndMiddle=1]="TopAndMiddle",e[e.TopAndRight=2]="TopAndRight",e[e.MiddleAndLeft=3]="MiddleAndLeft",e[e.Center=4]="Center",e[e.MiddleAndRight=5]="MiddleAndRight",e[e.BottomAndLeft=6]="BottomAndLeft",e[e.BottomAndMiddle=7]="BottomAndMiddle",e[e.BottomAndRight=8]="BottomAndRight"}(t=e.BitmapAlignEnum||(e.BitmapAlignEnum={}))}(disTypes||(disTypes={}));var disTypes;!function(e){var t=function(){function e(){throw new Error(this.__class__+" 是静态成员集成类，无需实例化")}return e}();t.FRAME="runFrame",t.TIMER="runTimer",e.DriverType=t,__reflect(t.prototype,"disTypes.DriverType")}(disTypes||(disTypes={}));var SubjectTypes=function(){function e(){throw new Error(this.__class__+" 是静态成员集成类，无需实例化")}return e}();SubjectTypes.LINK_FAULT="linkFault",SubjectTypes.DYNAMIC_COMPLETE="dynamic_complete",SubjectTypes.APP_START="appStart",SubjectTypes.OVER_TIME="overTime",SubjectTypes.SOUND_RESTART="soundRestart",SubjectTypes.GET_DATA="getData",SubjectTypes.GET_REALDATA="getRealData",SubjectTypes.GET_RECORD="getRecord",SubjectTypes.GAME_START="gameStart",SubjectTypes.GAME_STOP_ONE="gameStopOne",SubjectTypes.GET_NUMBER="getNumber",SubjectTypes.GAME_END="gameEnd",SubjectTypes.GAME_INIT="gameInit",SubjectTypes.GAME_UNMONI="gameUnMoni",SubjectTypes.GAME_MONI="gameMoni",SubjectTypes.SHOW_VICTORY="showVictory",__reflect(SubjectTypes.prototype,"SubjectTypes");var InitConfig=function(){function e(){}return e}();InitConfig.res_path="",InitConfig.req_host="",InitConfig.isShowVersion=!0,InitConfig.isRelease=!1,InitConfig.isAlertMessage=!0,__reflect(InitConfig.prototype,"InitConfig");var bones;!function(e){var t=function(){function e(){if(!e.dragonbonesFactory){var t=RES.getRes("Maid_json"),r=RES.getRes("Maid_texture_json"),i=RES.getRes("Maid_texture_png");e.dragonbonesFactory=new dragonBones.EgretFactory,e.dragonbonesFactory.addDragonBonesData(dragonBones.DataParser.parseDragonBonesData(t)),e.dragonbonesFactory.addTextureAtlas(new dragonBones.EgretTextureAtlas(i,r))}var n=e.dragonbonesFactory;this.armature=n.buildFastArmature("Armature"),dragonBones.WorldClock.clock.add(this.armature)}return e}();e.DragonBonesMaid=t,__reflect(t.prototype,"bones.DragonBonesMaid")}(bones||(bones={}));var bones;!function(e){var t=function(){function e(){if(!e.dragonbonesFactory){var t=RES.getRes("Pet_json"),r=RES.getRes("Pet_texture_json"),i=RES.getRes("Pet_texture_png");e.dragonbonesFactory=new dragonBones.EgretFactory,e.dragonbonesFactory.addDragonBonesData(dragonBones.DataParser.parseDragonBonesData(t)),e.dragonbonesFactory.addTextureAtlas(new dragonBones.EgretTextureAtlas(i,r))}var n=e.dragonbonesFactory;this.armature=n.buildFastArmature("Armature"),dragonBones.WorldClock.clock.add(this.armature)}return e}();e.DragonBonesPet=t,__reflect(t.prototype,"bones.DragonBonesPet")}(bones||(bones={}));var disDev;!function(e){var t=function(e){function t(t,r,i,n){void 0===t&&(t=null),void 0===r&&(r=1),void 0===i&&(i=!0),void 0===n&&(n=disTypes.BitmapAlignEnum[0]);var o=e.call(this)||this;return o.backGroundBitmap=new egret.Bitmap,o.$isNatureEnter=!1,o.$bitmapAlignType=disTypes.BitmapAlignEnum[0],t&&o.reconstruct(t,r,i,n),o}return __extends(t,e),t.prototype.reconstruct=function(e,t,r,i){if(void 0===t&&(t=1),void 0===r&&(r=!0),void 0===i&&(i=disTypes.BitmapAlignEnum[0]),!e||e.length<1)throw new Error("textureInfoList不能为空, 并且长度不能小于1");this.$totalFrames=0,this.$partArray=new Array,this.$partHeadList=new Array,this.$partTailList=new Array,this.correctedPointArray=new Array,this.$textureNameList=new Array;for(var n=0;n<e.length;n++){var o=[this.$totalFrames+1];this.$totalFrames+=e[n].nameArray.length,o.push(this.$totalFrames),this.$partArray.push(o),this.$partHeadList.push(o[0]-1),this.$partTailList.push(o[1]-1),this.correctedPointArray.push(e[n].correctedPoint),this.$textureNameList=this.$textureNameList.concat(e[n].nameArray)}if(1>t||t>this.$totalFrames)throw new Error("初始帧start超出有效范围");var a=this.checkAndCreateTexture(this.$textureNameList[t-1]);this.$isPlaying=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop()),this.clearLoopPoint(),this.textureInfoList=e,this.start=Math.floor(t),this.$currentFrame=this.start,this.addChildAt(this.backGroundBitmap,0),this.backGroundBitmap.texture=a,this.$initHeight=this.backGroundBitmap.height,this.$initWidth=this.backGroundBitmap.width,this.bitmapAlignType=i,this.setDriver(),r&&this.play(),this.callBackFunctionCollection=new Array},t.prototype.checkAndCreateTexture=function(e){var t=RES.getRes(e);return this.$currentTextureName!=e?(this.$currentTextureName=e,e&&(t||trace("无法获取有效的 Texture: "+e+"，请检查名称拼写，或确认是否已经正常加载该资源")),t):(this.$currentTextureName=e,t)},t.prototype.push=function(e){var t=[this.$totalFrames+1];return this.$totalFrames+=e.nameArray.length,t.push(this.$totalFrames),this.$partArray.push(t),this.$partHeadList.push(t[0]-1),this.correctedPointArray.push(e.correctedPoint),this.$textureNameList=this.$textureNameList.concat(e.nameArray),this},t.prototype.concat=function(e){for(var t=0;t<e.length;t++){var r=e[t],i=[this.$totalFrames+1];this.$totalFrames+=r.nameArray.length,i.push(this.$totalFrames),this.$partArray.push(i),this.$partHeadList.push(i[0]-1),this.correctedPointArray.push(r.correctedPoint),this.$textureNameList=this.$textureNameList.concat(r.nameArray)}return this},t.prototype.addFrameScript=function(e,t,r,i){if(void 0===r&&(r=this),void 0===i&&(i=!0),isNaN(Math.floor(e))||Math.floor(e)<0||Math.floor(e)>this.$totalFrames-1)throw new Error("事件帧序号超出有效范围");this.callBackFunctionCollection[Math.floor(e)]=t.bind(r),i&&Math.floor(e)==this.start&&this.executeFrameScript&&this.callBackFunctionCollection[Math.floor(e)].call(null)},t.prototype.addFrameScriptOnce=function(e,t,r,i){if(void 0===r&&(r=this),void 0===i&&(i=!0),isNaN(Math.floor(e))||Math.floor(e)<0||Math.floor(e)>this.$totalFrames-1)throw new Error("事件帧序号超出有效范围");this.callBackFunctionCollection[Math.floor(e)]=function(){t.bind(r).call(null),this.removeFrameScript(Math.floor(e))}.bind(this),i&&Math.floor(e)==this.start&&this.executeFrameScript&&this.callBackFunctionCollection[Math.floor(e)].call(null)},t.prototype.removeFrameScript=function(e){if(Math.floor(e)<0||Math.floor(e)>this.$totalFrames-1)throw new Error("事件帧序号超出有效范围");this.callBackFunctionCollection&&this.callBackFunctionCollection[Math.floor(e)]&&delete this.callBackFunctionCollection[Math.floor(e)]},t.prototype.play=function(){return 1==this.$totalFrames?void this.stop():(this.$isPlaying=!0,void(this.$driverType==disTypes.DriverType.FRAME?(this.addEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop())):this.$driverType==disTypes.DriverType.TIMER&&(this.timer||(this.timer=new egret.Timer(this.playInterval)),this.timer.addEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.delay=this.playInterval,this.timer.start())))},t.prototype.gotoAndPlay=function(e){if(1==this.$totalFrames)return void this.stop();this.$isNatureEnter=!1;var t=this.$currentFrame;this.$currentFrame=Math.floor(e),this.$currentFrame<1?this.$currentFrame=1:this.$currentFrame>this.$totalFrames&&(this.$currentFrame=this.$totalFrames),this.start=this.$currentFrame;var r=this.checkAndCreateTexture(this.$textureNameList[this.start-1]);this.backGroundBitmap.texture=r,this.bitmapAlignHandler(),this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&t!=this.$currentFrame&&this.callBackFunctionCollection[this.$currentFrame-1].call(null),this.play()},t.prototype.stop=function(){this.$isPlaying=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop()),this.start=this.$currentFrame;var e=this.checkAndCreateTexture(this.$textureNameList[this.start-1]);this.backGroundBitmap.texture=e,this.bitmapAlignHandler()},t.prototype.gotoAndStop=function(e){if(1==this.$totalFrames)return void this.stop();this.$isNatureEnter=!1;var t=this.$currentFrame;this.$currentFrame=Math.floor(e),this.$currentFrame<1?this.$currentFrame=1:this.$currentFrame>this.$totalFrames&&(this.$currentFrame=this.$totalFrames),this.stop(),this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&t!=this.$currentFrame&&this.callBackFunctionCollection[this.$currentFrame-1].call(null)},t.prototype.playHandler=function(){if(this.$isPlaying&&this.executeDriverType)if(this.$driverType==disTypes.DriverType.FRAME){for(this.currentInterval++;this.currentInterval>=2*this.playInterval;)if(this.currentInterval-=this.playInterval,this.autoNextFrame(!1),!this.$isPlaying)return;this.currentInterval>=this.playInterval&&(this.currentInterval-=this.playInterval,this.autoNextFrame(!0))}else this.$driverType==disTypes.DriverType.TIMER&&this.autoNextFrame()},t.prototype.autoNextFrame=function(e){void 0===e&&(e=!0),this.$isNatureEnter=!0,this.start<=this.$totalFrames&&this.start++,this.start>this.$totalFrames&&(this.isPlaying?this.start=1:this.start=this.$totalFrames),this.executeLoop&&this.isPlaying&&this.$currentFrame==this.$loopEndFrame&&(this.start=this.$loopStartFrame),this.executeLoop&&this.isPlaying&&this.$currentFrame>=this.$loopStartFrame&&this.$currentFrame<=this.$loopEndFrame&&(this.driverType!=this.$driverTypeOnLooping||this.$playIntervalOnLooping!=this.playInterval)&&this.setDriver(this.$driverTypeOnLooping,this.$playIntervalOnLooping);var t=this.$currentFrame;if(this.$currentFrame=this.start,e){var r=this.checkAndCreateTexture(this.$textureNameList[this.$currentFrame-1]);this.backGroundBitmap.texture=r,this.bitmapAlignHandler()}this.executeLoop&&this.isPlaying&&this.start==this.$loopStartFrame&&this.start==this.$loopEndFrame&&(trace("提示: 循环点的起始帧号与结束帧号相同, 自动停止播放"),this.stop()),this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&t!=this.$currentFrame&&this.callBackFunctionCollection[this.$currentFrame-1].call(null)},t.prototype.autoPrevFrame=function(e){if(void 0===e&&(e=!0),this.start>1&&(this.start--,this.$isNatureEnter=!0),this.start<1&&(this.start=1),this.$currentFrame=this.start,e){var t=this.checkAndCreateTexture(this.$textureNameList[this.start-1]);this.backGroundBitmap.texture=t,this.bitmapAlignHandler()}this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&this.callBackFunctionCollection[this.$currentFrame-1].call(null)},t.prototype.nextFrame=function(){this.stop(),this.start<this.$totalFrames&&this.autoNextFrame()},t.prototype.prevFrame=function(){this.stop(),this.start>1&&this.autoPrevFrame()},Object.defineProperty(t.prototype,"currentTextureName",{get:function(){return this.$currentTextureName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isNatureEnter",{get:function(){return this.$isNatureEnter},enumerable:!0,configurable:!0}),t.prototype.getPartHeadAt=function(e){return e=Math.floor(e),e>=this.$partHeadList.length||e<-this.$partHeadList.length?(trace("提示: 提供给 getPartHeadAt 的索引值超出片段头列表范围"),NaN):(0>e&&(e=this.$partHeadList.length+e),this.$partHeadList[e])},t.prototype.getPartTailAt=function(e){return e=Math.floor(e),e>=this.$partTailList.length||e<-this.$partTailList.length?(trace("提示: 提供给 getPartTailAt 的索引值超出片段尾列表范围"),NaN):(0>e&&(e=this.$partTailList.length+e),this.$partTailList[e])},t.prototype.getPartHeadAndTailList=function(){for(var e=new Array,t=0;t<this.$partArray.length;t++)e.push(new n(this.$partArray[t][0]-1,this.$partArray[t][1]-1));return e},t.prototype.getPartHeadAndTailAt=function(e){
return e=Math.floor(e),e>=this.$partArray.length||e<-this.$partArray.length?(trace("提示: 提供给 getPartHeadAt 的索引值超出片段头列表范围"),null):(0>e&&(e=this.$partArray.length+e),new n(this.$partHeadList[e],this.$partTailList[e]))},t.prototype.getPlayPartIndexByFrame=function(e){if(1>e||e>this.totalFrames)throw new Error("帧号超出有效范围！");e=Math.floor(e);for(var t=0;t<this.$partArray.length;t++)if(e>=this.$partArray[t][0]&&e<=this.$partArray[t][1])return t},Object.defineProperty(t.prototype,"bitmapAlignType",{get:function(){return this.$bitmapAlignType},set:function(e){this.$bitmapAlignType=e,this.bitmapAlignHandler()},enumerable:!0,configurable:!0}),t.prototype.bitmapAlignHandler=function(){switch(this.$bitmapAlignType){case disTypes.BitmapAlignEnum[0]:this.backGroundBitmap.x=0,this.backGroundBitmap.y=0;break;case disTypes.BitmapAlignEnum[1]:this.backGroundBitmap.x=(this.$initWidth-this.backGroundBitmap.width)/2,this.backGroundBitmap.y=0;break;case disTypes.BitmapAlignEnum[2]:this.backGroundBitmap.x=this.$initWidth-this.backGroundBitmap.width,this.backGroundBitmap.y=0;break;case disTypes.BitmapAlignEnum[3]:this.backGroundBitmap.x=0,this.backGroundBitmap.y=(this.$initHeight-this.backGroundBitmap.height)/2;break;case disTypes.BitmapAlignEnum[4]:this.backGroundBitmap.x=(this.$initWidth-this.backGroundBitmap.width)/2,this.backGroundBitmap.y=(this.$initHeight-this.backGroundBitmap.height)/2;break;case disTypes.BitmapAlignEnum[5]:this.backGroundBitmap.x=this.$initWidth-this.backGroundBitmap.width,this.backGroundBitmap.y=(this.$initHeight-this.backGroundBitmap.height)/2;break;case disTypes.BitmapAlignEnum[6]:this.backGroundBitmap.x=0,this.backGroundBitmap.y=this.$initHeight-this.backGroundBitmap.height;break;case disTypes.BitmapAlignEnum[7]:this.backGroundBitmap.x=(this.$initWidth-this.backGroundBitmap.width)/2,this.backGroundBitmap.y=this.$initHeight-this.backGroundBitmap.height;break;case disTypes.BitmapAlignEnum[8]:this.backGroundBitmap.x=this.$initWidth-this.backGroundBitmap.width,this.backGroundBitmap.y=this.$initHeight-this.backGroundBitmap.height}var e;for(e=0;e<this.$partArray.length&&!(this.$currentFrame>=this.$partArray[e][0]&&this.$currentFrame<=this.$partArray[e][1]);e++);var t=this.correctedPointArray[e];this.backGroundBitmap.x+=t.x,this.backGroundBitmap.y+=t.y},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.backGroundBitmap&&this.backGroundBitmap.parent&&this.backGroundBitmap.parent.removeChild(this.backGroundBitmap),this.callBackFunctionCollection=null},t.prototype.setDriver=function(e,t){if(void 0===e&&(e=disTypes.DriverType.FRAME),void 0===t&&(t=1),0>=t)throw new Error("驱动间隔不能等于或小于0！");this.executeDriverType&&(this.$driverType=e,this.playInterval=t,this.$driverTypeOnLooping=this.$driverType,this.$playIntervalOnLooping=this.playInterval,this.currentInterval=0,e==disTypes.DriverType.FRAME&&this.playInterval%1!=0?trace("提示: 当前采用逐帧驱动方式, playInterval不是整数("+this.playInterval+"), 将会出现丢帧的情况"):e==disTypes.DriverType.TIMER&&this.playInterval<16&&trace("提示: 当前采用计时器驱动方式, playInterval低于下限16毫秒("+this.playInterval+"), 将自动调整为 帧/16毫秒 的频率"),this.isPlaying&&(this.removeEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop()),this.play()))},Object.defineProperty(t.prototype,"frameInterval",{set:function(e){this.setDriver(disTypes.DriverType.FRAME,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timerInterval",{set:function(e){this.setDriver(disTypes.DriverType.TIMER,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"driverType",{get:function(){return this.$driverType},enumerable:!0,configurable:!0}),t}(e.AbstractAnimation);e.AnimationGroup=t,__reflect(t.prototype,"disDev.AnimationGroup");var r=function(){function e(){throw new Error(this.__class__+" 是静态成员集成类, 无需实例化")}return e.createInfo=function(e,t,r,n,o,a){if(void 0===t&&(t=null),void 0===r&&(r=0),void 0===n&&(n=1),void 0===o&&(o=0),void 0===a&&(a=0),1>e)throw new Error("Texture对象列表长度不能小于1");if(1>n)throw new Error("Texture对象的序号长度不能小于1");var s=e+r,l=new Array;n=Math.floor(n);for(var c=Math.floor(r);c<Math.floor(s);c++)null==t?l.push(null):l.push(t+this.getFrameByDigits(c,n));var u=new i(l,new egret.Point(o,a));return u},e.createStaticInfo=function(e,t,r,n){if(void 0===t&&(t=null),void 0===r&&(r=0),void 0===n&&(n=0),1>e)throw new Error("Texture对象列表长度不能小于1");for(var o=new Array,a=0;e>a;a++)null==t?o.push(null):o.push(t);var s=new i(o,new egret.Point(r,n));return s},e.getFrameByDigits=function(e,t){1>t&&(t=1),t=Math.floor(t);for(var r=e.toString();r.length<t;)r=0+r;return r},e}();e.TextureInfoMaker=r,__reflect(r.prototype,"disDev.TextureInfoMaker");var i=function(){function t(e,t){void 0===t&&(t=new egret.Point(0,0)),this.nameArray=e,this.correctedPoint=t}return t.prototype.reverse=function(t){void 0===t&&(t=this.correctedPoint.clone());var r=this.nameArray.concat().reverse();return new e.TextureInfo(r,t)},t}();e.TextureInfo=i,__reflect(i.prototype,"disDev.TextureInfo");var n=function(){function e(e,t){this.head=e,this.tail=t}return e}();e.HeadAndTail=n,__reflect(n.prototype,"disDev.HeadAndTail")}(disDev||(disDev={}));var gameModule;!function(e){var t=function(){function e(e){this.isOverTime=!1,this.isInited=!1,this.container=e,this.buildView(),this.subscribe(SubjectTypes.GET_DATA,this.onGetData),this.subscribe(SubjectTypes.OVER_TIME,this.timeOverHandler),this.subscribe(SubjectTypes.GAME_UNMONI,this.unMoniAble)}return e.prototype.subscribe=function(e,t,r){void 0===r&&(r=this),ConcreteSubject.addObserver(this,e,t,r)},e.prototype.unsubscribe=function(e){void 0===e&&(e=null),ConcreteSubject.removeObserver(this,e)},e.prototype.buildView=function(){var e=new Bitmap,t=new Bitmap;this.board=new Sprite,e.texture=RES.getRes("gameBG_jpg"),t.texture=RES.getRes("gameBoardBg_png"),this.container.addChild(e),this.container.addChild(t),e.scaleX=e.scaleY=1/.7,t.scaleX=t.scaleY=1/.7,t.x=167,t.y=33,this.moni_btn=new disDev.ButtonLite("moniBtn000_png","moniBtn001_png"),this.moni_btn.touchEnabled=!0,this.musicOpen_btn=new disDev.ButtonLite("musicOpen0001_png","musicOpen0002_png"),this.musicOpen_btn.touchEnabled=!0,this.musicClose_btn=new disDev.ButtonLite("musicClose0001_png","musicClose0002_png"),this.musicClose_btn.touchEnabled=!0,this.soundOpen_btn=new disDev.ButtonLite("soundOpen0001_png","soundOpen0002_png"),this.soundOpen_btn.touchEnabled=!0,this.soundClose_btn=new disDev.ButtonLite("soundClose0001_png","soundClose0002_png"),this.soundClose_btn.touchEnabled=!0,this.container.addChild(this.moni_btn),this.moni_btn.y=151,this.container.addChild(this.musicOpen_btn),this.musicOpen_btn.x=704,this.musicOpen_btn.y=73,this.container.addChild(this.musicClose_btn),this.musicClose_btn.x=702,this.musicClose_btn.y=73,this.container.addChild(this.soundOpen_btn),this.soundOpen_btn.x=754.5,this.soundOpen_btn.y=73,this.container.addChild(this.soundClose_btn),this.soundClose_btn.x=753,this.soundClose_btn.y=73,this.musicOpen_btn.visible=!1,this.soundOpen_btn.visible=!1,this.picNumArray=new Array(8),this.playNumArray=new Array(8);for(var r=0;8>r;r++){var e=new Bitmap;e.texture=RES.getRes("gamePicBG_png"),this.container.addChild(e),e.x=214+148*(r%4),e.y=134+151*Math.floor(r/4);var i=new disDev.AnimationLite(21,"gamePicNum",1,4);this.board.addChild(i),i.x=e.x,i.y=e.y-2,i.name="num"+r,i.scaleWidth=135,i.scaleHeight=135,this.picNumArray[r]=i;var n=new disDev.AnimationLite(49,"RollSheet_",1,4);n.x=i.x,n.y=i.y+4,n.scaleWidth=135,n.scaleHeight=137,n.name="play"+r,n.stop(),this.playNumArray[r]=n}this.container.addChild(this.board),this.boardProxy=new proxy.BoardProxy(this.board,this.picNumArray,this.playNumArray),this.maid=new Sprite,this.pet=new Sprite,this.xync=new Bitmap,this.logo=new Bitmap,this.xync.texture=RES.getRes("gameXync_png"),this.logo.texture=RES.getRes("gameLogo_png"),this.maid.x=767,this.maid.y=61,this.pet.x=-22,this.pet.y=322,this.xync.x=422,this.xync.y=-6,this.logo.x=11,this.logo.y=534,this.container.addChild(this.maid),this.container.addChild(this.pet),this.container.addChild(this.xync),this.container.addChild(this.logo),this.maidProxy=new proxy.MaidProxy(this.maid),this.petProxy=new proxy.PetProxy(this.pet),new proxy.SoundProxy(this.musicOpen_btn,this.musicClose_btn,this.soundOpen_btn,this.soundClose_btn),this.moni_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.moniHandler,this),InitConfig.isAlertMessage&&"Android"==egret.Capabilities.os&&AboutBrowser.getInfo().browserKey&&AboutBrowser.getInfo().defectList.indexOf(AboutBrowser.unautoplaysoundable)>-1&&alert("很抱歉，您的浏览器不支持自动播放声音，请手动点击界面上的声音开关开启声音效果。")},e.prototype.timeOverHandler=function(){this.isOverTime=!0},e.prototype.init=function(){CommonVariable.timeInterval>50&&(this.moni_btn.visible=!0),this.isInited&&ConcreteSubject.notify(SubjectTypes.SOUND_RESTART),this.isOverTime&&(this.maidProxy.sayHallo(),this.petProxy.sayHallo()),this.isOverTime=!1},e.prototype.onGetData=function(){this.isInited||(this.maidProxy.sayHallo(),this.petProxy.sayHallo(),this.init(),this.isInited=!0),CommonVariable.timeInterval>50&&CommonVariable.awardStatus<2&&(this.moni_btn.visible=!0);for(var e=localData.Cache.data.current.awardNumbers.split(","),t=0;8>t;t++){var r=e[t];this.picNumArray[t].gotoAndStop(r)}},e.prototype.moniHandler=function(){this.moni_btn.visible=!1,localData.CommonVariable.isSimulating=!0,ConcreteSubject.notify(SubjectTypes.GAME_START)},e.prototype.unMoniAble=function(){this.moni_btn.visible=!1},e}();e.GameView=t,__reflect(t.prototype,"gameModule.GameView",["IObserver"])}(gameModule||(gameModule={}));var gameModule;!function(e){var t=function(){function e(e){this.uninit=!1,this.container=e,this.buildView(),this.subscribe(SubjectTypes.GAME_START,this.onGameStart),this.subscribe(SubjectTypes.GAME_STOP_ONE,this.stopOne),this.subscribe(SubjectTypes.GET_DATA,this.onGetData),this.subscribe(SubjectTypes.OVER_TIME,this.timeOverHandler)}return e.prototype.subscribe=function(e,t,r){void 0===r&&(r=this),ConcreteSubject.addObserver(this,e,t,r)},e.prototype.unsubscribe=function(e){void 0===e&&(e=null),ConcreteSubject.removeObserver(this,e)},e.prototype.buildView=function(){var e=new Bitmap,t=new Bitmap;this.diXqi=new Bitmap,this.diXqi.texture=RES.getRes("infoDiXqi_png"),this.goodLuck=new Bitmap,this.goodLuck.texture=RES.getRes("infoGoodLuck_png"),this.diXqi.x=242,this.diXqi.y=83,this.goodLuck.x=426,this.goodLuck.y=471,e.texture=RES.getRes("infoBoard_png"),t.texture=RES.getRes("infoResultBoard_png"),this.container.addChild(e),this.container.addChild(t),t.x=155,t.y=462,this.period_txt=new TextField,this.period_txt.fontFamily="Microsoft YaHei",this.period_txt.size=14,this.period_txt.textAlign=egret.HorizontalAlign.CENTER,this.period_txt.textColor=7879730,this.period_txt.bold=!0,this.period_txt.width=142,this.period_txt.x=15,this.period_txt.y=72,this.awardTime_txt=new TextField,this.awardTime_txt.fontFamily="Microsoft YaHei",this.awardTime_txt.size=14,this.awardTime_txt.textAlign=egret.HorizontalAlign.CENTER,this.awardTime_txt.textColor=7879730,this.awardTime_txt.bold=!0,this.awardTime_txt.width=142,this.awardTime_txt.x=15,this.awardTime_txt.y=116,this.container.addChild(this.period_txt),this.container.addChild(this.awardTime_txt),this.container.addChild(this.diXqi),this.container.addChild(this.goodLuck),this.goodLuck.visible=!1,this.periodNumber_mc=new Sprite,this.periodNumber_mc.x=265,this.periodNumber_mc.y=81;for(var r=0;10>r;r++){var i=new disDev.AnimationLite(10,"NumSheet_",0,3);i.x=i.scaleWidth*r/1.9,i.name="pn"+r,this.periodNumber_mc.addChild(i)}this.container.addChild(this.periodNumber_mc),this.result_mc=new Sprite,this.result_mc.x=170,this.result_mc.y=524,this.rsArray=new Array;for(var n=0;8>n;n++){var o=new disDev.AnimationLite(21,"gamePicNum",1,4);o.scaleWidth=65,o.scaleHeight=69,o.x=(o.scaleWidth+2)*n+67,o.name="rs"+n;var a=new Bitmap;a.texture=RES.getRes("gamePicBG_png"),a.width=65,a.height=69,a.x=o.x,a.y=o.y+2,this.result_mc.addChild(a),this.result_mc.addChild(o),this.rsArray.push(o)}this.container.addChild(this.result_mc),this.clock_mc=new Sprite,this.clockProxy=new proxy.ClockProxy(this.clock_mc),this.container.addChild(this.clock_mc);for(var s in connect.DynamicLoader.gameAssets){var l=connect.DynamicLoader.object[connect.DynamicLoader.gameAssets[s]];l&&this.container.addChild(l)}},e.prototype.init=function(){this.onGetData()},e.prototype.timeOverHandler=function(){this.uninit=!0},e.prototype.onGetData=function(){this.period_txt.text=localData.Cache.data.next.period,this.awardTime_txt.text=localData.Cache.data.next.awardTime.split(" ")[1],this.getCurrentPeriod(),this.getCurrentResult(),this.getAwardTimeInterval()},e.prototype.getCurrentPeriod=function(){for(var e=0;10>e;e++){var t=this.periodNumber_mc.getChildByName("pn"+e),r=localData.Cache.data.current.period.substr(e,1);"0"==r&&(r="10"),t.gotoAndStop(r)}},e.prototype.getCurrentResult=function(){for(var e=localData.Cache.data.current.awardNumbers.split(","),t=0;8>t;t++){var r=this.result_mc.getChildByName("rs"+t),i=e[t];r.gotoAndStop(i)}},e.prototype.getAwardTimeInterval=function(){this.clockProxy.timeRun(),CommonVariable.awardStatus<2&&(this.goodLuck.visible=!1,this.clock_mc.visible=!0)},e.prototype.onGameStart=function(){if(this.goodLuck.visible=!0,!CommonVariable.isSimulating){localData.Cache.data.current.period=localData.Cache.data.next.period,this.getCurrentPeriod(),this.period_txt.text="开奖中",this.awardTime_txt.text="开奖中";for(var e=0;8>e;e++){var t=this.result_mc.getChildByName("rs"+e);t.gotoAndStop(21)}}},e.prototype.stopOne=function(e){var t=e[0],r=e[1];this.rsArray[t].gotoAndStop(r)},e}();e.InfoView=t,__reflect(t.prototype,"gameModule.InfoView",["IObserver"])}(gameModule||(gameModule={}));var proxy;!function(e){var t=function(){function e(e,t,r){this.board=e,this.picNumArray=t,this.playNumArray=r,this.subscribe(SubjectTypes.GAME_START,this.startHandler),this.subscribe(SubjectTypes.OVER_TIME,this.overTimeHandler)}return e.prototype.subscribe=function(e,t,r){void 0===r&&(r=this),ConcreteSubject.addObserver(this,e,t,r)},e.prototype.unsubscribe=function(e){void 0===e&&(e=null),ConcreteSubject.removeObserver(this,e)},e.prototype.startHandler=function(){this.stopCount=0,CommonVariable.awardStatus=2.5;for(var e=0;8>e;e++)this.picNumArray[e].visible=!1,this.playNumArray[e].gotoAndPlay(Math.ceil(49*Math.random())),this.playNumArray[e].setDriver(disTypes.DriverType.FRAME,1),this.board.addChild(this.playNumArray[e]);SoundEffectManager.isOpen&&SoundEffectManager.playSoundSingle(SoundNames.PLAYING,0,0),CommonVariable.isSimulating?this.resultID=setTimeout(this.createResult.bind(this),5e3):(this.resultID=setInterval(this.requestResult.bind(this),5e3),this.subscribe(SubjectTypes.GET_REALDATA,this.getRealData))},e.prototype.requestResult=function(){DataRequester.getData()},e.prototype.createResult=function(){clearTimeout(this.resultID);for(var e=new Array(20),t=0;20>t;t++)e[t]=t+1;e.sort(function(){return Math.random()>.5?1:-1}),e.length=8,this.getResult(e)},e.prototype.getResult=function(e){CommonVariable.awardStatus=3;for(var t=0;8>t;t++){var r=e[t];TimerDelayCaller.addCallerOnce(null,this.stopOneByOne,this,2e3*Math.random(),this.picNumArray[t],this.playNumArray[t],r)}},e.prototype.stopOneByOne=function(e,t,r){if(CommonVariable.awardStatus=4,e.gotoAndStop(r),e.visible=!0,t.stop(),t.parent&&t.parent.removeChild(t),this.stopCount++,!CommonVariable.isSimulating){var i=this.picNumArray.indexOf(e);ConcreteSubject.notify(SubjectTypes.GAME_STOP_ONE,[i,r])}this.stopCount>=8&&(CommonVariable.awardStatus=5,ConcreteSubject.notify(SubjectTypes.GAME_END),SoundEffectManager.stopSound(SoundNames.PLAYING),SoundMusicManager.isOpen&&SoundMusicManager.playSoundSingle(SoundNames.WIN,0,1))},e.prototype.overTimeHandler=function(){clearTimeout(this.resultID),clearInterval(this.resultID);for(var e=0;8>e;e++)this.picNumArray[e].stop(),this.picNumArray[e].visible=!0,this.playNumArray[e].stop(),this.playNumArray[e].parent==this.board&&this.board.removeChild(this.playNumArray[e])},e.prototype.getRealData=function(){this.unsubscribe(SubjectTypes.GET_REALDATA),clearTimeout(this.resultID),clearInterval(this.resultID),this.getResult(CommonVariable.resultArray)},e}();e.BoardProxy=t,__reflect(t.prototype,"proxy.BoardProxy",["IObserver"])}(proxy||(proxy={}));var proxy;!function(e){var t=function(){function e(e){this.isInit=!1,this.intervalID=-1,this.isRunning=!1,this.sws_b=new disDev.AnimationLite(10,"infoYellowNum",1,4,1,(!1)),this.sws_s=new disDev.AnimationLite(10,"infoYellowNum",1,4,1,(!1)),this.sws_g=new disDev.AnimationLite(10,"infoYellowNum",1,4,1,(!1)),this.gws_g=new disDev.AnimationLite(10,"infoRedNum",1,4,1,(!1)),this.moniMassage=!0,this.clock_mc=e,this.num_mc=new egret.Sprite,this.clock_mc.addChild(this.num_mc),this.sws_b.y=this.sws_s.y=this.sws_g.y=477,this.sws_b.x=468,this.sws_s.x=493,this.sws_g.x=518,this.gws_g.x=484,this.gws_g.y=469,this.num_mc.addChild(this.sws_b),this.num_mc.addChild(this.sws_s),this.num_mc.addChild(this.sws_g),this.num_mc.addChild(this.gws_g),this.subscribe(SubjectTypes.GAME_START,this.onGameStart),this.subscribe(SubjectTypes.GAME_INIT,this.init),this.subscribe(SubjectTypes.OVER_TIME,this.unInit),this.subscribe(SubjectTypes.GET_REALDATA,this.timeRun),this.init()}return e.prototype.stopHandler=function(){},e.prototype.subscribe=function(e,t,r){void 0===r&&(r=this),ConcreteSubject.addObserver(this,e,t,r)},e.prototype.unsubscribe=function(e){void 0===e&&(e=null),ConcreteSubject.removeObserver(this,e)},e.prototype.unInit=function(){this.moniMassage=!0,clearInterval(this.intervalID)},e.prototype.init=function(){CommonVariable.awardStatus=0,this.moniMassage=!0},e.prototype.timeRun=function(){clearInterval(this.intervalID),CommonVariable.timeInterval<10&&(CommonVariable.timeInterval=10),CommonVariable.timeInterval+=1,this.runHandler(),this.intervalID=setInterval(this.runHandler.bind(this),1e3)},e.prototype.runHandler=function(){CommonVariable.timeInterval-=1;var e=CommonVariable.timeInterval;e>999?e=999:0>e&&(e=0);var t,r,i;e>99?(CommonVariable.awardStatus<2&&(this.num_mc.visible=!0),t=Number(e.toString().substr(0,1)),r=Number(e.toString().substr(1,1)),i=Number(e.toString().substr(2,1)),0==t&&(t=10),0==r&&(r=10),0==i&&(i=10),this.sws_b.visible=!0,this.sws_s.visible=!0,this.sws_g.visible=!0,this.gws_g.visible=!1,this.sws_b.gotoAndStop(t),this.sws_s.gotoAndStop(r),this.sws_g.gotoAndStop(i),this.sws_b.x=468,this.sws_s.x=493,this.sws_g.x=518):CommonVariable.timeInterval>9?(CommonVariable.awardStatus<2&&(this.num_mc.visible=!0),this.sws_b.visible=!1,this.gws_g.visible=!1,this.sws_s.visible=!0,this.sws_g.visible=!0,r=Number(e.toString().substr(0,1)),i=Number(e.toString().substr(1,1)),0==r&&(r=10),0==i&&(i=10),this.sws_s.gotoAndStop(r),this.sws_g.gotoAndStop(i),this.sws_s.x=480,this.sws_g.x=506):CommonVariable.timeInterval>=-1&&(this.sws_b.visible=!1,this.sws_s.visible=!1,this.sws_g.visible=!1,this.gws_g.visible=!0,i=Number(e.toString()),0==i&&(i=10),this.gws_g.gotoAndStop(i)),50>=e&&this.moniMassage?(this.moniMassage=!1,ConcreteSubject.notify(SubjectTypes.GAME_UNMONI)):this.moniMassage=!0,10>=e&&0==CommonVariable.awardStatus&&(CommonVariable.awardStatus=1),10>e&&e>=0&&CommonVariable.awardStatus<2&&SoundEffectManager.isOpen&&this.clock_mc.visible&&SoundEffectManager.playSoundSingle(SoundNames.SECONDS),0>=e&&1==CommonVariable.awardStatus&&(CommonVariable.awardStatus=2,TimerDelayCaller.addCallerOnce(null,function(){clearInterval(this.intervalID),CommonVariable.isSimulating=!1,ConcreteSubject.notify(SubjectTypes.GAME_START)},this,1e3))},e.prototype.onGameStart=function(){this.clock_mc.visible=!1},e}();e.ClockProxy=t,__reflect(t.prototype,"proxy.ClockProxy",["IObserver"])}(proxy||(proxy={}));var SoundNames=function(){function e(){throw new Error(this.__class__+" 是静态成员集成类，无需实例化")}return e}();SoundNames.BGM_GAME="backgroundGameMusic",SoundNames.SECONDS="effectOfSeconds",SoundNames.PLAYING="effectOfPlaying",SoundNames.WIN="effectOfWin",SoundNames.MUTE="noSound",SoundNames.WELCOME="welcome",SoundNames.YAMETE="yamete",__reflect(SoundNames.prototype,"SoundNames");var proxy;!function(e){var t=function(){function e(e){this.dragonBonesPet=new bones.DragonBonesPet,this.armature=this.dragonBonesPet.armature,e.addChild(this.armature.display),this.armature.display.x=142,this.armature.display.y=280,this.armature.display.anchorOffsetX=0,this.armature.display.anchorOffsetY=0;var t=this.armature.display;t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouch,this),this.armature.animation.timeScale=1,e.addChild(this.armature.display),this.gotoAndPlay("await"),this.subscribe(SubjectTypes.GAME_INIT,this.init),this.subscribe(SubjectTypes.GAME_START,this.noTouch),this.subscribe(SubjectTypes.GAME_END,this.victory),this.armature.addEventListener(dragonBones.FrameEvent.ANIMATION_FRAME_EVENT,this.customEvent,this)}return e.prototype.onTouch=function(){this.gotoAndPlay("happy")},e.prototype.noTouch=function(){var e=this.armature.display;e.touchEnabled=!1},e.prototype.subscribe=function(e,t,r){void 0===r&&(r=this),ConcreteSubject.addObserver(this,e,t,r)},e.prototype.unsubscribe=function(e){void 0===e&&(e=null),ConcreteSubject.removeObserver(this,e)},e.prototype.init=function(){"await"!=this.currentAction&&this.gotoAndPlay("await")},e.prototype.sayHallo=function(){this.gotoAndPlay("hello",1)},e.prototype.gotoAndPlay=function(e,t,r,i){void 0===t&&(t=0),void 0===r&&(r=0),void 0===i&&(i=1);var n=this.armature.display;n.touchEnabled=!1,this.anms=this.armature.animation.gotoAndPlay(e,0,-1,t),this.anms.currentTime=r,this.armature.animation.timeScale=i,this.currentAction=e},e.prototype.stop=function(){this.anms&&this.anms.isPlaying&&this.anms.stop()},e.prototype.customEvent=function(e){var t=this.armature.display;"jump_end"==e.frameLabel?(this.gotoAndPlay("await",0),t.touchEnabled=!0):"hello_end"==e.frameLabel?(this.gotoAndPlay("await",0),CommonVariable.awardStatus<2&&(t.touchEnabled=!0)):"happy_end"==e.frameLabel&&(this.gotoAndPlay("await",0),CommonVariable.awardStatus<2&&(t.touchEnabled=!0))},e.prototype.victory=function(){TimerDelayCaller.addCallerOnce(null,this.gotoAndPlay,this,500,"jump",1)},e}();e.PetProxy=t,__reflect(t.prototype,"proxy.PetProxy",["IObserver"])}(proxy||(proxy={}));var proxy;!function(e){var t=function(){function e(e,t,r,i){this.isMusicFirst=!0,this.isEffectFirst=!0,this.pausePosition=-1,this.isOverTime=!1,this.musicOpen_btn=e,this.musicClose_btn=t,this.soundOpen_btn=r,this.soundClose_btn=i,("iOS"==egret.Capabilities.os||AboutBrowser.getInfo().defectList.indexOf(AboutBrowser.unautoplaysoundable)>-1)&&(this.musicOpen_btn.visible=!1,this.soundOpen_btn.visible=!1,this.musicClose_btn.visible=!0,this.soundClose_btn.visible=!0),this.isMusicFirst&&"iOS"!=egret.Capabilities.os&&(SoundMusicManager.isOpen=!0,SoundEffectManager.isOpen=!0,this.musicOpen_btn.visible=!0,this.soundOpen_btn.visible=!0,this.musicClose_btn.visible=!1,this.soundClose_btn.visible=!1,SoundMusicManager.playSoundSingle(SoundNames.BGM_GAME,56.5,0,0),"Android"==egret.Capabilities.os&&(-1!=AboutBrowser.getInfo().defectList.indexOf("unautoplaysoundable")&&(SoundMusicManager.isOpen=!1,SoundEffectManager.isOpen=!1,this.musicOpen_btn.visible=!1,this.soundOpen_btn.visible=!1,this.musicClose_btn.visible=!0,this.soundClose_btn.visible=!0),"UCBrowser"==AboutBrowser.getInfo().browserKey&&(TimerDelayCaller.addCallerOnce(null,SoundMusicManager.stopAllSound,SoundMusicManager,100),TimerDelayCaller.addCallerOnce(null,SoundMusicManager.playSoundSingle,SoundMusicManager,1e3,SoundNames.BGM_GAME,56.5,0,0)))),this.musicOpen_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.soundHandler,this),this.musicClose_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.soundHandler,this),this.soundOpen_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.soundHandler,this),this.soundClose_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.soundHandler,this),this.musicClose_btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.soundInitHandler,this),this.soundClose_btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.soundInitHandler,this),this.subscribe(SubjectTypes.GAME_END,this.onGameEnd),this.subscribe(SubjectTypes.OVER_TIME,this.timeOverHandler),this.subscribe(SubjectTypes.SOUND_RESTART,this.restartSound)}return e.prototype.subscribe=function(e,t,r){void 0===r&&(r=this),ConcreteSubject.addObserver(this,e,t,r)},e.prototype.unsubscribe=function(e){void 0===e&&(e=null),ConcreteSubject.removeObserver(this,e)},e.prototype.soundInitHandler=function(){(-1!=AboutBrowser.getInfo().defectList.indexOf("unautoplaysoundable")||"iOS"==egret.Capabilities.os)&&(SoundMusicManager.initAllSoundWithExtreme(),SoundEffectManager.initAllSoundWithExtreme()),this.musicClose_btn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.soundInitHandler,this),this.soundClose_btn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.soundInitHandler,this)},e.prototype.soundHandler=function(e){switch(e.currentTarget){case this.musicOpen_btn:this.musicClose_btn.visible=!0,this.musicOpen_btn.visible=!1,SoundMusicManager.isOpen=!1,this.pausePosition=-1;try{SoundMusicManager.stopAllSound()}catch(t){}break;case this.musicClose_btn:this.musicOpen_btn.visible=!0,this.musicClose_btn.visible=!1,SoundMusicManager.isOpen=!0,SoundMusicManager.playSound(SoundNames.BGM_GAME,56.5,0,0);break;case this.soundOpen_btn:this.soundClose_btn.visible=!0,this.soundOpen_btn.visible=!1,SoundEffectManager.isOpen=!1;try{SoundEffectManager.stopAllSound()}catch(t){}break;case this.soundClose_btn:this.soundClose_btn.visible=!1,this.soundOpen_btn.visible=!0,SoundEffectManager.isOpen=!0,CommonVariable.awardStatus>=2.5&&CommonVariable.awardStatus<=4&&SoundEffectManager.playSoundSingle(SoundNames.PLAYING,0,0)}},e.prototype.restartSound=function(){var e=SoundMusicManager.getSoundChannel(SoundNames.BGM_GAME);if(SoundMusicManager.isOpen||SoundMusicManager.stopAllSound(),SoundMusicManager.isOpen&&e){var t=e.position;SoundMusicManager.playSoundSingle(SoundNames.BGM_GAME,t,0,0)}else SoundMusicManager.isOpen&&(this.isOverTime||-1==this.pausePosition?SoundMusicManager.playSoundSingle(SoundNames.BGM_GAME,56.5,0,0):SoundMusicManager.playSoundSingle(SoundNames.BGM_GAME,this.pausePosition,0,0));var r=SoundEffectManager.getSoundChannel(SoundNames.PLAYING);if(SoundEffectManager.isOpen&&CommonVariable.awardStatus>=2.5&&CommonVariable.awardStatus<=4)if(r){var i=r.position;SoundEffectManager.playSoundSingle(SoundNames.PLAYING,i,0,0)}else SoundEffectManager.playSoundSingle(SoundNames.PLAYING,0,0);else SoundEffectManager.stopSound(SoundNames.PLAYING)},e.prototype.timeOverHandler=function(){this.isOverTime=!0},e.prototype.onGameEnd=function(){var e=SoundMusicManager.getSoundChannel(SoundNames.BGM_GAME);e&&SoundMusicManager.isOpen&&(this.pausePosition=e.position)},e}();e.SoundProxy=t,__reflect(t.prototype,"proxy.SoundProxy",["IObserver"])}(proxy||(proxy={}));var gameModule;!function(e){var t=function(){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.infoLayer=e[0],this.gameLayer=e[1],this.globalEffectLayer=e[2],this.buildView(),this.init(),this.addEvents()}return t.prototype.subscribe=function(e,t,r){void 0===r&&(r=this),ConcreteSubject.addObserver(this,e,t,r)},t.prototype.unsubscribe=function(e){void 0===e&&(e=null),ConcreteSubject.removeObserver(this,e)},t.prototype.reStart=function(){this.subscribe(SubjectTypes.GET_DATA,this.onGetData),this.gameView.init(),this.infoView.init(),this.init()},t.prototype.init=function(){e.DataRequester.getData()},t.prototype.addEvents=function(){this.subscribe(SubjectTypes.GAME_END,this.onGameEnd),this.subscribe(SubjectTypes.GET_DATA,this.onGetData),egret.startTick(function(e){return dragonBones.WorldClock.clock.advanceTime(1/60),!1},this)},t.prototype.buildView=function(){this.infoView=new e.InfoView(this.infoLayer),this.gameView=new e.GameView(this.gameLayer)},t.prototype.onGetData=function(){this.gameLayer.dispatchEvent(new egret.Event("enterGame",(!0))),this.unsubscribe(SubjectTypes.GET_DATA)},t.prototype.onGameEnd=function(){SoundMusicManager.isOpen&&SoundMusicManager.stopSound(SoundNames.BGM_GAME),CommonVariable.isSimulating?TimerDelayCaller.addCallerOnce(null,function(){CommonVariable.awardStatus=0,this.gameView.init(),this.infoView.init()},this,3500):TimerDelayCaller.addCallerOnce(null,function(){CommonVariable.awardStatus=0,this.gameView.init(),this.infoView.init(),ConcreteSubject.notify(SubjectTypes.GET_DATA)},this,3500)},t}();e.ViewMediator=t,__reflect(t.prototype,"gameModule.ViewMediator",["IObserver"])}(gameModule||(gameModule={}));var localData;!function(e){var t=function(){function e(){throw new Error(this.__class__+" 是静态成员集成类，无需实例化")}return e}();t.data=new e.DataValueObject,t.birdHotAreaPoints=[[712.45,51.5],[737.4,67.5],[755.4,76.5],[758.9,61.5],[758.9,48.5],[749.4,34],[737.4,7],[777.9,30.5],[829.4,-1],[868.4,7],[868.4,55.5],[902.4,67.5],[919.9,73.5],[934.2,127],[916.2,137.5],[818.7,160.7],[795.2,160.7],[783.9,109.2],[755.4,115.2],[724.4,143.5],[727.9,113],[739.4,92.5],[715.55,76.5]],e.Cache=t,__reflect(t.prototype,"localData.Cache")}(localData||(localData={}));var disDev;!function(e){var t=function(e){function t(t,r,i,n,o,a){void 0===t&&(t=0),void 0===r&&(r=null),void 0===i&&(i=0),void 0===n&&(n=1),void 0===o&&(o=1),void 0===a&&(a=!0);var s=e.call(this)||this;return s.backGroundBitmap=new egret.Bitmap,r&&s.reconstruct(t,r,i,n,o,a),s}return __extends(t,e),t.prototype.reconstruct=function(e,t,r,i,n,o){if(void 0===t&&(t=null),void 0===r&&(r=0),void 0===i&&(i=1),void 0===n&&(n=1),void 0===o&&(o=!0),1>e)throw new Error("Texture对象列表长度不能小于1");if(1>n||n>e)throw new Error("初始帧start超出有效范围");if(1>i)throw new Error("Texture对象的序号长度不能小于1");var a=e-1+r,s=r+n-1,l=this.checkAndCreateTexture(t+this.getFrameByDigits(s,i));this.$isPlaying=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop()),this.clearLoopPoint(),this.texturePrefix=t,this.min=Math.floor(r),this.max=Math.floor(a),this.start=Math.floor(s),this.digits=Math.floor(i),this.$totalFrames=this.max-this.min+1,this.$currentFrame=this.start-this.min+1,this.setDriver(),this.addChildAt(this.backGroundBitmap,0),this.backGroundBitmap.texture=l,o&&this.play(),this.callBackFunctionCollection=new Array},t.prototype.checkAndCreateTexture=function(e){this.$currentTextureName=e;var t=RES.getRes(e);return t||trace("无法获取有效的 Texture: "+e+"，请检查名称拼写，或确认是否已经正常加载该资源"),t},t.prototype.addFrameScript=function(e,t,r,i){if(void 0===r&&(r=this),void 0===i&&(i=!0),isNaN(Math.floor(e))||Math.floor(e)<0||Math.floor(e)>this.totalFrames-1)throw new Error("事件帧序号超出有效范围");this.callBackFunctionCollection[Math.floor(e)]=t.bind(r),i&&Math.floor(e)==this.start&&this.executeFrameScript&&this.callBackFunctionCollection[Math.floor(e)].call(null)},t.prototype.addFrameScriptOnce=function(e,t,r,i){if(void 0===r&&(r=this),void 0===i&&(i=!0),isNaN(Math.floor(e))||Math.floor(e)<0||Math.floor(e)>this.$totalFrames-1)throw new Error("事件帧序号超出有效范围");this.callBackFunctionCollection[Math.floor(e)]=function(){t.bind(r).call(null),this.removeFrameScript(Math.floor(e))}.bind(this),i&&Math.floor(e)==this.start&&this.executeFrameScript&&this.callBackFunctionCollection[Math.floor(e)].call(null)},t.prototype.removeFrameScript=function(e){if(Math.floor(e)<0||Math.floor(e)>this.totalFrames-1)throw new Error("事件帧序号超出有效范围");this.callBackFunctionCollection&&this.callBackFunctionCollection[Math.floor(e)]&&delete this.callBackFunctionCollection[Math.floor(e)]},t.prototype.play=function(){return 1==this.$totalFrames?void this.stop():(this.$isPlaying=!0,void(this.$driverType==disTypes.DriverType.FRAME?(this.addEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop())):this.$driverType==disTypes.DriverType.TIMER&&(this.timer||(this.timer=new egret.Timer(this.playInterval)),this.timer.addEventListener(egret.TimerEvent.TIMER,this.playHandler,this),
this.timer.delay=this.playInterval,this.timer.start())))},t.prototype.gotoAndPlay=function(e){if(1==this.$totalFrames)return void this.stop();var t=this.$currentFrame;this.$currentFrame=Math.floor(e),this.$currentFrame<1?this.$currentFrame=1:this.$currentFrame>this.totalFrames&&(this.$currentFrame=this.totalFrames),this.start=this.$currentFrame-1+this.min;var r=this.checkAndCreateTexture(this.texturePrefix+this.getFrameByDigits(this.start,this.digits));this.backGroundBitmap.texture=r,this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&t!=this.$currentFrame&&this.callBackFunctionCollection[this.$currentFrame-1].call(null),this.play()},t.prototype.stop=function(){this.$isPlaying=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop()),this.start=this.$currentFrame-1+this.min;var e=this.checkAndCreateTexture(this.texturePrefix+this.getFrameByDigits(this.start,this.digits));this.backGroundBitmap.texture=e},t.prototype.gotoAndStop=function(e){if(1==this.$totalFrames)return void this.stop();var t=this.$currentFrame;this.$currentFrame=Math.floor(e),this.$currentFrame<1?this.$currentFrame=1:this.$currentFrame>this.totalFrames&&(this.$currentFrame=this.totalFrames),this.stop(),this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&t!=this.$currentFrame&&this.callBackFunctionCollection[this.$currentFrame-1].call(null)},t.prototype.playHandler=function(){if(this.$isPlaying&&this.executeDriverType)if(this.$driverType==disTypes.DriverType.FRAME){for(this.currentInterval++;this.currentInterval>=2*this.playInterval;)if(this.currentInterval-=this.playInterval,this.autoNextFrame(!1),!this.$isPlaying)return;this.currentInterval>=this.playInterval&&(this.currentInterval-=this.playInterval,this.autoNextFrame(!0))}else this.$driverType==disTypes.DriverType.TIMER&&this.autoNextFrame()},t.prototype.autoNextFrame=function(e){if(void 0===e&&(e=!0),this.start<=this.max&&this.start++,this.start>this.max&&(this.isPlaying?this.start=this.min:this.start=this.max),this.executeLoop&&this.isPlaying&&this.$currentFrame==this.$loopEndFrame&&(this.start=this.$loopStartFrame-1+this.min),this.executeLoop&&this.isPlaying&&this.$currentFrame>=this.$loopStartFrame&&this.$currentFrame<=this.$loopEndFrame&&(this.driverType!=this.$driverTypeOnLooping||this.$playIntervalOnLooping!=this.playInterval)&&this.setDriver(this.$driverTypeOnLooping,this.$playIntervalOnLooping),this.$currentFrame=this.start-this.min+1,e){var t=this.checkAndCreateTexture(this.texturePrefix+this.getFrameByDigits(this.start,this.digits));this.backGroundBitmap.texture=t}this.executeLoop&&this.isPlaying&&this.$currentFrame==this.$loopStartFrame&&this.$currentFrame==this.$loopEndFrame&&(trace("提示: 循环点的起始帧号与结束帧号相同, 自动停止播放"),this.stop()),this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&this.callBackFunctionCollection[this.$currentFrame-1].call(null)},t.prototype.autoPrevFrame=function(e){if(void 0===e&&(e=!0),this.start>this.min&&this.start--,this.start<this.min&&(this.start=this.min),this.$currentFrame=this.start-this.min+1,e){var t=this.checkAndCreateTexture(this.texturePrefix+this.getFrameByDigits(this.start,this.digits));this.backGroundBitmap.texture=t}this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&this.callBackFunctionCollection[this.$currentFrame-1].call(null)},t.prototype.nextFrame=function(){this.stop(),this.start<this.max&&this.autoNextFrame()},t.prototype.prevFrame=function(){this.stop(),this.start>this.min&&this.autoPrevFrame()},Object.defineProperty(t.prototype,"currentTextureName",{get:function(){return this.$currentTextureName},enumerable:!0,configurable:!0}),t.prototype.getFrameByDigits=function(e,t){1>t&&(t=1),t=Math.floor(t);for(var r=e.toString();r.length<t;)r=0+r;return r},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.backGroundBitmap&&this.contains(this.backGroundBitmap)&&this.removeChild(this.backGroundBitmap),this.callBackFunctionCollection=null},t.prototype.setDriver=function(e,t){if(void 0===e&&(e=disTypes.DriverType.FRAME),void 0===t&&(t=1),0>=t)throw new Error("驱动间隔不能等于或小于0！");this.executeDriverType&&(this.$driverType=e,this.playInterval=t,this.currentInterval=0,this.isPlaying&&(this.removeEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop()),this.play()))},Object.defineProperty(t.prototype,"driverType",{get:function(){return this.$driverType},enumerable:!0,configurable:!0}),t}(e.AbstractAnimation);e.AnimationLite=t,__reflect(t.prototype,"disDev.AnimationLite")}(disDev||(disDev={}));var disDev;!function(e){var t=function(e){function t(t,r,i,n){void 0===t&&(t=1),void 0===r&&(r=null),void 0===i&&(i=1),void 0===n&&(n=!0);var o=e.call(this)||this;return o.start=1,o.$isAutoEnter=!1,o.reconstruct(t,r,i,n),o}return __extends(t,e),t.prototype.reconstruct=function(e,t,r,i){if(void 0===t&&(t=null),void 0===r&&(r=1),void 0===i&&(i=!0),1>e)throw new Error("totalFrames 不能小于1");if(this.$totalFrames=Math.floor(e),1>r||r>this.$totalFrames)throw new Error("startFrame 超出有效范围");this.$isPlaying=!1,this.destroy(),this.clearLoopPoint(),this.$currentFrame=Math.floor(r),this.start=this.$currentFrame,this.setDriver(),t&&t.length>0&&(this.resetAnimations(t),i?this.gotoAndPlay(this.start):this.gotoAndStop(this.start)),this.callBackFunctionCollection=new Array},t.prototype.resetAnimations=function(e){for(;this.numChildren>0;)this.removeChildAt(0);this.anmArray=new Array;for(var t=0;t<e.length;t++)this.addAnimation(e[t])},t.prototype.addAnimation=function(e){return this.addAnimationAt(e,this.numChildren)},t.prototype.addAnimationAt=function(e,t){if(this.anmArray||(this.anmArray=new Array),this.$totalFrames!=e.totalFrames)throw new Error("子动画与"+this.__class__+"的 totalFrames 不一致");this.anmArray.push(e),e.executeFrameScript=!1,e.executeLoop=!1,e.executeDriverType=!1;var r=e;return this.addChildAt(r,t),e},t.prototype.setAnimationIndex=function(e,t){this.setChildIndex(e,t)},t.prototype.removeAnimation=function(e){this.removeChild(e)},t.prototype.removeAnimationAt=function(e){this.removeChildAt(e)},t.prototype.stepAllLayer=function(){for(var e=0;e<this.anmArray.length;e++)this.anmArray[e].gotoAndStop(this.currentFrame)},t.prototype.addFrameScript=function(e,t,r,i){if(void 0===r&&(r=this),void 0===i&&(i=!0),isNaN(Math.floor(e))||Math.floor(e)<0||Math.floor(e)>this.$totalFrames-1)throw new Error("事件帧序号超出有效范围");this.callBackFunctionCollection[Math.floor(e)]=t.bind(r),i&&Math.floor(e)==this.start&&this.executeFrameScript&&this.callBackFunctionCollection[Math.floor(e)].call(null)},t.prototype.addFrameScriptOnce=function(e,t,r,i){if(void 0===r&&(r=this),void 0===i&&(i=!0),isNaN(Math.floor(e))||Math.floor(e)<0||Math.floor(e)>this.$totalFrames-1)throw new Error("事件帧序号超出有效范围");this.callBackFunctionCollection[Math.floor(e)]=function(){t.bind(r).call(null),this.removeFrameScript(Math.floor(e))}.bind(this),i&&Math.floor(e)==this.start&&this.executeFrameScript&&this.callBackFunctionCollection[Math.floor(e)].call(null)},t.prototype.removeFrameScript=function(e){if(Math.floor(e)<0||Math.floor(e)>this.$totalFrames-1)throw new Error("事件帧序号超出有效范围");this.callBackFunctionCollection&&this.callBackFunctionCollection[Math.floor(e)]&&delete this.callBackFunctionCollection[Math.floor(e)]},t.prototype.play=function(){return 1==this.$totalFrames?void this.stop():(this.$isPlaying=!0,this.$driverType==disTypes.DriverType.FRAME?(this.addEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop())):this.$driverType==disTypes.DriverType.TIMER&&(this.timer||(this.timer=new egret.Timer(this.playInterval)),this.timer.addEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.delay=this.playInterval,this.timer.start()),void this.stepAllLayer())},t.prototype.gotoAndPlay=function(e){if(1==this.$totalFrames)return void this.stop();this.$isAutoEnter=!1;var t=this.$currentFrame;this.$currentFrame=Math.floor(e),this.$currentFrame<1?this.$currentFrame=1:this.$currentFrame>this.$totalFrames&&(this.$currentFrame=this.$totalFrames),this.start=this.$currentFrame,this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&t!=this.$currentFrame&&this.callBackFunctionCollection[this.$currentFrame-1].call(null),this.play()},t.prototype.stop=function(){this.$isPlaying=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop()),this.start=this.$currentFrame,this.stepAllLayer()},t.prototype.gotoAndStop=function(e){if(1==this.$totalFrames)return void this.stop();this.$isAutoEnter=!1;var t=this.$currentFrame;this.$currentFrame=Math.floor(e),this.$currentFrame<1?this.$currentFrame=1:this.$currentFrame>this.$totalFrames&&(this.$currentFrame=this.$totalFrames),this.stop(),this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&t!=this.$currentFrame&&this.callBackFunctionCollection[this.$currentFrame-1].call(null)},t.prototype.playHandler=function(){if(this.$isPlaying&&this.executeDriverType)if(this.$driverType==disTypes.DriverType.FRAME){for(this.currentInterval++;this.currentInterval>=2*this.playInterval;)if(this.currentInterval-=this.playInterval,this.autoNextFrame(!1),!this.$isPlaying)return;this.currentInterval>=this.playInterval&&(this.currentInterval-=this.playInterval,this.autoNextFrame(!0))}else this.$driverType==disTypes.DriverType.TIMER&&this.autoNextFrame()},t.prototype.autoNextFrame=function(e){void 0===e&&(e=!0),this.$isAutoEnter=!0,this.start<=this.$totalFrames&&this.start++,this.start>this.$totalFrames&&(this.isPlaying?this.start=1:this.start=this.$totalFrames),this.executeLoop&&this.isPlaying&&this.$currentFrame==this.$loopEndFrame&&(this.start=this.$loopStartFrame);var t=this.$currentFrame;this.$currentFrame=this.start,this.executeLoop&&this.isPlaying&&this.start==this.$loopStartFrame&&this.start==this.$loopEndFrame&&(trace("提示: 循环点的起始帧号与结束帧号相同, 自动停止播放"),this.stop()),this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&t!=this.$currentFrame&&this.callBackFunctionCollection[this.$currentFrame-1].call(null),this.$isPlaying&&this.stepAllLayer()},t.prototype.autoPrevFrame=function(e){void 0===e&&(e=!0),this.start>1&&(this.start--,this.$isAutoEnter=!0),this.start<1&&(this.start=1),this.$currentFrame=this.start,this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&this.callBackFunctionCollection[this.$currentFrame-1].call(null),this.stepAllLayer()},t.prototype.nextFrame=function(){this.stop(),this.start<this.$totalFrames&&this.autoNextFrame()},t.prototype.prevFrame=function(){this.stop(),this.start>1&&this.autoPrevFrame()},Object.defineProperty(t.prototype,"isAutoEnter",{get:function(){return this.$isAutoEnter},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){for(e.prototype.destroy.call(this);this.numChildren>0;){if(egret.is(this.getChildAt(0),"disDev.AbstractAnimation")){var t=this.getChildAt(0);t.destroy()}this.removeChildAt(0)}this.anmArray=null},t.prototype.setDriver=function(e,t){if(void 0===e&&(e=disTypes.DriverType.FRAME),void 0===t&&(t=1),0>=t)throw new Error("驱动间隔不能等于或小于0！");this.executeDriverType&&(this.$driverType=e,this.playInterval=t,this.$driverTypeOnLooping=this.$driverType,this.$playIntervalOnLooping=this.playInterval,this.currentInterval=0,e==disTypes.DriverType.FRAME&&this.playInterval%1!=0?trace("提示: 当前采用逐帧驱动方式, playInterval不是整数("+this.playInterval+"), 将会出现丢帧的情况"):e==disTypes.DriverType.TIMER&&this.playInterval<16&&trace("提示: 当前采用计时器驱动方式, playInterval低于下限16毫秒("+this.playInterval+"), 将自动调整为 帧/16毫秒 的频率"),this.isPlaying&&(this.removeEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop()),this.play()))},Object.defineProperty(t.prototype,"frameInterval",{set:function(e){this.setDriver(disTypes.DriverType.FRAME,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timerInterval",{set:function(e){this.setDriver(disTypes.DriverType.TIMER,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"driverType",{get:function(){return this.$driverType},enumerable:!0,configurable:!0}),t}(e.AbstractAnimation);e.AnimationMerger=t,__reflect(t.prototype,"disDev.AnimationMerger")}(disDev||(disDev={}));var connect;!function(e){var t=function(){function e(){throw new Error(this.__class__+" 是静态成员集成类，无需实例化")}return Object.defineProperty(e,"CONNECT_COMPLETE",{get:function(){return"connect complete"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CONNECT_FAULT",{get:function(){return"connect fault"},enumerable:!0,configurable:!0}),e.load=function(t){"string"==typeof t&&(t=JSON.parse(t)),e.object.total=t.loading.length+t.game.length,e.object.current=0;for(var r=0;r<t.loading.length;r++)if(t.loading[r].url&&""!=t.loading[r].url){var i=new egret.ImageLoader;i.once(egret.Event.COMPLETE,this.completeHandler,this),i.once(egret.IOErrorEvent.IO_ERROR,this.errorHandler,this),e.loadingAssets.push(t.loading[r].key),editHashPair(i,t.loading[r]),i.load(InitConfig.res_path+t.loading[r].url)}else e.object.current++;for(var n=0;n<t.game.length;n++)if(t.game[n].url&&""!=t.game[n].url){var i=new egret.ImageLoader;i.once(egret.Event.COMPLETE,this.completeHandler,this),i.once(egret.IOErrorEvent.IO_ERROR,this.errorHandler,this),e.gameAssets.push(t.game[n].key),editHashPair(i,t.game[n]),i.load(InitConfig.res_path+t.game[n].url)}else e.object.current++},e.completeHandler=function(t){var r=t.currentTarget,i=r.data,n=new egret.Bitmap(i),o=getHashObject(r).property;for(var a in o)n[a]=Number(o[a]);e.object[getHashObject(r).key]=n,deleteHashPair(r),e.object.current++,e.object.current==e.object.total&&ConcreteSubject.notify(SubjectTypes.DYNAMIC_COMPLETE)},e.errorHandler=function(t){var r=t.currentTarget;deleteHashPair(r),e.object.current++,e.object.current==e.object.total&&ConcreteSubject.notify(SubjectTypes.DYNAMIC_COMPLETE)},e}();t.loadingAssets=[],t.gameAssets=[],t.object=new Object,e.DynamicLoader=t,__reflect(t.prototype,"connect.DynamicLoader")}(connect||(connect={}));var connect;!function(e){var t=function(){function e(){throw new Error(e.__class__+" 是静态成员集成类，无需实例化")}return Object.defineProperty(e,"CONNECT_COMPLETE",{get:function(){return"connect complete"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CONNECT_FAULT",{get:function(){return"connect fault"},enumerable:!0,configurable:!0}),e.connectToURL=function(t,r,i,n){void 0===n&&(n=egret.URLRequestMethod.GET);var o=new egret.URLRequest(t),a=new egret.URLLoader;o.method=n,e.loaderArray.push(a),e.methodArray.push(r.bind(i)),a.addEventListener(egret.Event.COMPLETE,e.onComplete,e),a.addEventListener(egret.IOErrorEvent.IO_ERROR,e.onError,e),editHashPair(a,o),a.load(o)},e.onError=function(t){var r=t.target,i=e.loaderArray.indexOf(r),n=e.methodArray[i];r.removeEventListener(egret.Event.COMPLETE,e.onComplete,e),r.removeEventListener(egret.IOErrorEvent.IO_ERROR,e.onError,e),trace("链接服务器失败，准备再次尝试.."),n.length<1?n.call(null):n.call(null,e.CONNECT_FAULT)},e.onComplete=function(t){var r=t.target,i=e.loaderArray.indexOf(r),n=e.methodArray[i];r.removeEventListener(egret.Event.COMPLETE,e.onComplete,e),r.removeEventListener(egret.IOErrorEvent.IO_ERROR,e.onError,e),deleteHashPair(r),e.reconnectTimes=0,n.length<1?n.call(null):n.call(null,t.target.data),r.removeEventListener(egret.Event.COMPLETE,e.onComplete,e),r.removeEventListener(egret.IOErrorEvent.IO_ERROR,e.onError,e),e.loaderArray.splice(i,1),e.methodArray.splice(i,1)},e}();t.methodArray=new Array,t.loaderArray=new Array,t.reconnectTimes=0,e.NetworkConnector=t,__reflect(t.prototype,"connect.NetworkConnector")}(connect||(connect={}));var connect;!function(e){var t=function(){function e(){throw new Error(this.__class__+" 是静态成员集成类，无需实例化")}return Object.defineProperty(e,"CONNECT_COMPLETE",{get:function(){return"connect complete"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CONNECT_FAULT",{get:function(){return"connect fault"},enumerable:!0,configurable:!0}),e.connectToURL=function(e,t,r,i){void 0===i&&(i=egret.URLRequestMethod.GET);var n=new egret.URLRequest(e),o=new egret.URLLoader;n.method=i,o._request=n,this.loaderArray.push(o),this.methodArray.push(t.bind(r)),JsonpReq.process(o),o.addEventListener(egret.Event.COMPLETE,this.onComplete,this),o.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onError,this)},e.onError=function(e){var t=e.target,r=this.loaderArray.indexOf(t),i=this.methodArray[r];return t.removeEventListener(egret.Event.COMPLETE,this.onComplete,this),t.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onError,this),this.reconnectTimes<10?(trace("链接服务器失败，准备再次尝试.."),i.length<1?i.call(null):i.call(null,this.CONNECT_FAULT),this.reconnectTimes++,void setTimeout(t.load,500,t._request)):void trace("多次访问服务器失败，请检查网络链接并手动刷新页面")},e.onComplete=function(e){var t=e.target,r=this.loaderArray.indexOf(t),i=this.methodArray[r];t.removeEventListener(egret.Event.COMPLETE,this.onComplete,this),t.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onError,this),this.reconnectTimes=0,i.length<1?i.call(null):i.call(null,e.target.data),t.removeEventListener(egret.Event.COMPLETE,this.onComplete,this),t.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onError,this),this.loaderArray.splice(r,1),this.methodArray.splice(r,1)},e}();t.methodArray=new Array,t.loaderArray=new Array,t.reconnectTimes=0,e.NetworkJSONPRequester=t,__reflect(t.prototype,"connect.NetworkJSONPRequester")}(connect||(connect={}));var JsonpReq=function(){function e(){}return e.process=function(t){e.completeCall["call_"+e._regID]=function(r){var i=e._regID;t.data=r,t.dispatchEvent(new egret.Event(egret.Event.COMPLETE)),delete e.completeCall["call_"+i]},e.startLoader(t,e._regID++)},e.startLoader=function(e,t){var r=document.createElement("script");r.src=e._request.url,document.body.appendChild(r)},e}();JsonpReq._regID=0,JsonpReq.completeCall={},__reflect(JsonpReq.prototype,"JsonpReq");var AboutBrowser=function(){function e(){}return e.getInfo=function(){if(e.sys)return e.sys;var t=new BrowserInfo;e.sys=t;var r=navigator.userAgent,i="unautoplaysoundable",n="incontrollable",o="lag",a="onesoundonly",s="noorientation";return r.indexOf("MQQBrowser")>-1?(t.browserKey="MQQBrowser",t.description="QQ浏览器","Android"==egret.Capabilities.os&&(t.assess="目前所知最理想的浏览器，美中不足是播放声音稍有延迟",t.fullScreen=3)):r.indexOf("UCBrowser")>-1?(t.browserKey="UCBrowser",t.description="UC浏览器","Android"==egret.Capabilities.os&&(t.isAdvise=!0,t.assess="这款浏览器在安卓系统下，不能控制正在播放的声音的音量，不开启浏览器自带的渲染加速引擎就卡成狗，开了加速又可能会造成破图\n坑爹指数：★★",t.defectList=[o,n])):r.indexOf("DolphinBrowser")>-1?(t.browserKey="DolphinBrowser",t.description="海豚浏览器","Android"==egret.Capabilities.os&&(t.isAdvise=!0,t.assess="这款浏览器在安卓系统下，未手动触发过的声音不能自动播放，必须手动关闭极速内核，才能打开webGL渲染，否则会卡顿或缺失部分UI元素\n坑爹指数：★★",t.defectList=[s,i,n])):r.indexOf("2345Browser")>-1?(t.browserKey="2345Browser",t.description="2345浏览器","Android"==egret.Capabilities.os&&(t.isAdvise=!0,t.assess="这款浏览器在安卓系统下，未手动触发过的声音不能自动播放；全屏后不能隐藏手机顶端的信息栏\n坑爹指数：★☆",t.defectList=[i],t.fullScreen=2)):r.indexOf("LeBrowser")>-1?(t.browserKey="LeBrowser",t.description="绿茶浏览器","Android"==egret.Capabilities.os&&(t.isAdvise=!0,t.assess="这款浏览器在安卓系统下，未手动触发过的声音不能自动播放；没有重力感应事件，不能自动转屏\n坑爹指数：★★☆",t.defectList=[i,s],t.fullScreen=2)):r.indexOf("baidubrowser")>-1?r.indexOf("baidubrowser/4")>-1?(t.browserKey="baidubrowser.4",t.description="百度浏览器极速","Android"==egret.Capabilities.os&&(t.isAdvise=!0,t.assess="这款浏览器在安卓系统下，未手动触发过的声音不能自动播放；全屏后不能隐藏手机顶端的信息栏\n坑爹指数：★☆",t.defectList=[i],t.fullScreen=2)):r.indexOf("baidubrowser/7")>-1&&(t.browserKey="baidubrowser.7",t.description="百度浏览器","Android"==egret.Capabilities.os&&(t.isAdvise=!0,t.assess="这款浏览器在安卓系统下，未手动触发过的声音不能自动播放，而且不能同时播放2个或2个以上的声音；全屏后不能隐藏手机顶端的信息栏\n坑爹指数：★★☆",t.defectList=[i,a],t.fullScreen=2)):r.indexOf("Ydb")>-1?(t.browserKey="Ydb",t.description="悦动浏览器","Android"==egret.Capabilities.os&&(t.isAdvise=!0,t.assess="这款浏览器在安卓系统下，未手动触发过的声音不能自动播放\n坑爹指数：★",t.defectList=[i],t.fullScreen=3)):r.indexOf("chinabrowser")>-1?(t.browserKey="chinabrowser",t.description="中华浏览器","Android"==egret.Capabilities.os&&(t.isAdvise=!0,t.assess="这款浏览器在安卓系统下，未手动触发过的声音不能自动播放\n坑爹指数：★",t.defectList=[i],t.fullScreen=3)):r.indexOf("tiantian")>-1?(t.browserKey="tiantian",t.description="天天浏览器","Android"==egret.Capabilities.os&&(t.isAdvise=!0,t.assess="这款浏览器在安卓系统下，未手动触发过的声音不能自动播放\n坑爹指数：★",t.defectList=[i],t.fullScreen=3)):r.indexOf("SwiftBrowser")>-1?(t.browserKey="SwiftBrowser",t.description="雨燕浏览器","Android"==egret.Capabilities.os&&(t.isAdvise=!0,t.assess="这款浏览器在安卓系统下，未手动触发过的声音不能自动播放；页面动画不够流畅；没有重力感应事件，不能自动转屏；\n坑爹指数：★★★",t.defectList=[i,o,s],t.fullScreen=0)):r.indexOf("MxBrowser")>-1?(t.browserKey="MxBrowser",t.description="遨游云浏览器(android)","Android"==egret.Capabilities.os?(t.isAdvise=!0,t.assess="这款浏览器在安卓系统下，未手动触发过的声音不能自动播放;全屏后不能隐藏手机顶端的信息栏\n坑爹指数：★☆",t.defectList=[i],t.fullScreen=2):t.description="遨游云浏览器"):r.indexOf("LieBaoFast")>-1?(t.browserKey="LieBaoFast",t.description="猎豹浏览器","Android"==egret.Capabilities.os&&(t.isAdvise=!0,t.assess="这款浏览器在安卓系统下，未手动触发过的声音不能自动播放\n坑爹指数：★",t.defectList=[i],t.fullScreen=1)):r.indexOf("360 Aphone Browser")>-1?(t.browserKey="360 Aphone Browser",t.description="360 Aphone浏览器","Android"==egret.Capabilities.os&&(r.indexOf("360browser")>-1&&(t.browserKey="360browser",t.description="360极速浏览器"),t.isAdvise=!0,t.assess="这款浏览器在安卓系统下，未手动触发过的声音不能自动播放\n坑爹指数：★",t.defectList=[i],t.fullScreen=3)):r.indexOf("HaoWangZhiDaQuanHD")>-1?(t.isAdvise=!0,t.browserKey="HaoWangZhiDaQuanHD",t.description="好网址大全浏览器。为了更好的体验，建议更换其他主流浏览器打开本页面"):r.indexOf("SogouMobileBrowser")>-1?(t.browserKey="SogouMobileBrowser","Android"==egret.Capabilities.os&&(t.isAdvise=!0,t.description="搜狗浏览器",t.assess="这款浏览器在安卓系统下，未手动触发过的声音不能自动播放；页面动画不流畅\n坑爹指数：★★★",t.defectList=[i,o],t.fullScreen=3)):r.indexOf("Firefox")>-1?(t.browserKey="Firefox","Android"==egret.Capabilities.os?(t.description="火狐浏览器(android)",t.fullScreen=1):t.description="火狐浏览器"):"Android"==egret.Capabilities.os&&(t.isAdvise=!0,t.defectList=[i,n],t.description="您当前使用的浏览器具体名称不详",t.assess="无法识别的安卓浏览器，一律当做不能自动播放声音、不能控制音量的情况处理"),"unkonw"==t.browserKey&&(r.indexOf("Chrome")>-1&&r.indexOf("Safari")>-1?(t.browserKey="Chrome&Safari","Android"==egret.Capabilities.os?t.description="谷歌或其他无法识别的谷歌内核浏览器(android)":t.description="谷歌或其他无法识别的谷歌内核浏览器"):r.indexOf(" OPR")>-1&&r.indexOf("Safari")>-1?(t.browserKey="OPR&Safari","Android"==egret.Capabilities.os?(t.isAdvise,t.description="欧朋浏览器(android)",t.defectList=[i],t.assess="在安卓系统下，不推荐使用欧朋浏览器浏览本页面"):t.description="欧朋浏览器"):r.indexOf("Chrome")>-1?(t.browserKey="Chrome",t.description="您当前使用的浏览器属于Chrome类型，具体名称不详。为了更好的体验，建议更换其他主流浏览器打开本页面"):r.indexOf("Safari")>-1&&(t.browserKey="Safari",t.description="Safari或无法识别的Safari类型浏览器")),t},e}();AboutBrowser.unautoplaysoundable="unautoplaysoundable",AboutBrowser.incontrollable="incontrollable",AboutBrowser.lag="lag",AboutBrowser.onesoundonly="onesoundonly",AboutBrowser.noorientation="noorientation",AboutBrowser.browserKeyCollection=["UCBrowser","2345Browser","JiSuLiuLanQiHD","searchBrowser","chinabrowser","LeBrowser","CriOS","MQQBrowser","DolphinBrowser","OPiOS","BaiduHD","FlyFlow","baidubrowser","tiantian","SwiftBrowser","FxiOS","FingerBrowser","MXiOS","MxBrowser","LieBaoFast","HaoWangZhiDaQuanHD","SogouMobileBrowser","360 Aphone Browser","360browser","Ydb","Chrome","Firefox","OPR"],__reflect(AboutBrowser.prototype,"AboutBrowser");var BrowserInfo=function(){function e(){this.browserKey="unkonw",this.isAdvise=!1,this.description="不知名浏览器",this.fullScreen=0,this.assess="",this.defectList=[]}return e}();__reflect(BrowserInfo.prototype,"BrowserInfo");var ActivateRunTimes=function(){function e(){throw new Error(this.__class__+" 是静态成员集成类，无需实例化")}return e.start=function(){e.timer&&(e.timer.stop(),e.timer.removeEventListener(egret.TimerEvent.TIMER,e.timerHandler,e)),e.$activateRunTime=0,e.$lastStepTime=egret.getTimer(),e.atStart=e.$lastStepTime,e.getTimerOnStart=e.$lastStepTime,e.timer=new egret.Timer(e.delta),e.timer.addEventListener(egret.TimerEvent.TIMER,e.timerHandler,e),e.timer.start(),e.$isStartUsing=!0},e.stop=function(){e.timer&&(e.timer.stop(),e.timer.removeEventListener(egret.TimerEvent.TIMER,e.timerHandler,e)),e.$isStartUsing=!1},e.addCallbackBeforeStep=function(t,r,i){e.beforeFunHashMap.editPair(t,r.bind(i))},e.removeCallbackBeforeStep=function(t){e.beforeFunHashMap.deletePair(t)},e.addCallbackAfterStep=function(t,r,i){e.afterFunHashMap.editPair(t,r.bind(i))},e.removeCallbackAfterStep=function(t){e.afterFunHashMap.deletePair(t)},e.timerHandler=function(){e.funArray=e.beforeFunHashMap.getObjectListCopy();for(var t in e.funArray)e.funArray[t].call(null);e.$activateRunTime+=e.delta,e.$lastStepTime=egret.getTimer(),e.funArray=e.afterFunHashMap.getObjectListCopy();for(var r in e.funArray)e.funArray[r].call(null)},Object.defineProperty(e,"isStartUsing",{get:function(){return e.$isStartUsing},enumerable:!0,configurable:!0}),Object.defineProperty(e,"activateTimes",{get:function(){return e.$isStartUsing?Math.round(e.$activateRunTime):(trace("ActivateRunTimes.start() 未被启用"),NaN)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"startedTimes",{get:function(){return e.$isStartUsing?Math.round(egret.getTimer()-e.getTimerOnStart):(trace("ActivateRunTimes.start() 未被启用"),NaN)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"deviationTotalTimes",{get:function(){return e.$isStartUsing?Math.round(e.startedTimes-e.$activateRunTime):(trace("ActivateRunTimes.start() 未被启用"),NaN)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"deviationCurrentTimes",{get:function(){return e.$isStartUsing?Math.round(egret.getTimer()-e.$lastStepTime):(trace("ActivateRunTimes.start() 未被启用"),NaN)},enumerable:!0,configurable:!0}),e}();ActivateRunTimes.delta=1e3/60,ActivateRunTimes.funArray=new Array,ActivateRunTimes.beforeFunHashMap=new HashMap,ActivateRunTimes.afterFunHashMap=new HashMap,__reflect(ActivateRunTimes.prototype,"ActivateRunTimes");var DragonBonesDataTree=function(){function e(){throw new Error(this.__class__+" 是静态成员集成类，无需实例化")}return e.read=function(t,r){void 0===r&&(r=!1),e.detailed=r;var i=new egret.URLLoader;i.addEventListener(egret.Event.COMPLETE,e.onComplete,e),i.addEventListener(egret.IOErrorEvent.IO_ERROR,e.onError,e),i.load(new egret.URLRequest(t))},e.onError=function(e){trace("读取信息错误,请检查龙骨文件是否存在，或文件的url是否正确")},e.onComplete=function(t){var r=JSON.parse(t.target.data),i=r.armature;trace("数据版本:",r.version),trace("帧频:",r.frameRate,"fps"),trace("文件名:",r.name);for(var n=0,o=0;o<i.length;o++)i[o]&&i[o].name&&n++;if(trace("骨架数量:",n),e.detailed){trace("骨架名称:");for(var a=0;a<i.length;a++)i[a]&&i[a].name&&trace("    ["+a+"] "+i[a].name)}for(a=0;a<i.length;a++){trace("\n\n    "+r.name+" 数据骨架列表节点下标为 ["+a+"] 的骨架名称(data根节点.armature["+a+"].name):",i[a].name),e.detailed&&trace("\n        data根节点.armature["+a+"] 拥有以下子节点对象：");var s,l=i[a];if(e.detailed)for(s in l)trace("                                "+s);s="animation";var c=l.animation,u="";trace("\n        data根节点.armature["+a+"] 节点的骨骼动画信息列表(长度为 "+c.length+"):");for(var h in c)e.detailed?Number(r.version)>=4?trace("                                动画名称(animation["+h+"].name):"+c[h].name,"  总帧数(animation["+h+"].duration):"+(c[h].duration+1),"  默认循环次数(animation["+h+"].playTimes):"+(void 0==c[h].playTimes?1:c[h].playTimes),"  预计默认循环耗时:"+(c[h].duration/r.frameRate).toFixed(4)):trace("                                动画名称(animation["+h+"].name):"+c[h].name,"  总帧数(animation["+h+"].duration):"+(c[h].duration+1),"  默认循环次数(animation["+h+"].loop):"+(void 0==c[h].loop?1:c[h].loop),"  预计默认循环耗时:"+(c[h].duration/r.frameRate).toFixed(4)):u+="\n                                "+c[h].name;e.detailed||trace(u),u="",s="bone";var d,p=l.bone;if(l.slot&&(d=l.slot.concat()),Number(r.version)<4&&i[a].skin&&i[a].skin.length&&(d=i[a].skin[0].slot.concat(),i[a].skin.length>1))for(var m=1;m<i[a].skin.length;m++)i[a].skin[m].slot&&d.concat(i[a].skin[m].slot);trace("\n        data根节点.armature["+a+"] 节点的骨骼部件名称列表(长度为 "+p.length+"):");for(var y in p){var f="undefined";for(var v in d){var b=d[v];if(Number(r.version)>=4){if(b.parent&&b.parent==p[y].name){f=b.name;break}}else if(b.name==p[y].name){f=b.name;break}}e.detailed?"undefined"==f?trace("                                骨骼名称(bone["+y+"].name):"+p[y].name,"  ------未绑定插槽------"):Number(r.version)>=4?trace("                                骨骼名称(bone["+y+"].name):"+p[y].name,"  绑定的插槽名称(slot["+v+"].name):"+f):trace("                                骨骼名称(bone["+y+"].name):"+p[y].name,"  绑定的插槽名称(skin[0].slot["+v+"].name):"+f):u+="\n                                "+p[y].name}if(e.detailed||trace(u),e.detailed){var g=l.skin;trace("\n        data根节点.armature["+a+"] 节点的皮肤信息列表(长度为 "+g.length+"):");for(var m=0;m<g.length;m++){var d=g[m].slot;trace("\n            下标为 ["+m+"] 的皮肤名称(skin["+m+"].name):"+g[m].name+" , 插槽信息列表(长度为"+d.length+"): ");for(var v in d){var E="",C=d[v].display;for(var T in C)E+="   "+C[T].name;var A="";C.length>1&&(A="("+C.length+"个)"),trace(C.length>0?"                                插槽名称 (skin["+m+"].slot["+v+"].name):"+d[v].name+"    嵌入的图像列表(skin["+m+"].slot["+v+"].display)清单"+A+":  "+E:"                                插槽名称 (skin["+m+"].slot["+v+"].name):"+d[v].name+"    ------未嵌入图像------")}}}trace("\n>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>"),trace("<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<")}},e}();__reflect(DragonBonesDataTree.prototype,"DragonBonesDataTree");var FrameDelayCaller=function(){function e(){throw new Error(this.__class__+" 是静态成员集成类，无需实例化")}return e.addCallerOnce=function(t,r,i,n){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];return e.addCallerRepeat.apply(e,[t,r,i,n,1].concat(o))},e.addCallerRepeat=function(t,r,i,n,o){void 0===o&&(o=0);for(var a=[],s=5;s<arguments.length;s++)a[s-5]=arguments[s];if(1>n&&(n=1,trace("提示：间隔帧数intervalFrames 不应该小于1")),null==r)throw new Error("错误：提供给 FrameDelayCaller 的回调函数不能为null");var l;e.objKeyFromCallerHash.getObject(t)?l=e.objKeyFromCallerHash.getObject(t):(e.$objID++,l="objKey"+e.$objID,e.objKeyFromCallerHash.editPair(t,l)),e.idArrFromObjKey[l]||(e.idArrFromObjKey[l]=new Array),e.$useAbleID++;var c=new egret.Shape,u="runnerKey"+e.$useAbleID;e.runnerKeyFromRunnerHash.editPair(c,u),e.idFromRunnerKey[u]=e.$useAbleID,e.functionFromID[e.$useAbleID]=r.bind(i),e.runnerFromID[e.$useAbleID]=c,e.currentFramesFromID[e.$useAbleID]=0,e.intervalFramesFromID[e.$useAbleID]=Math.floor(n),e.currentRepeatsFromID[e.$useAbleID]=0,e.totalRepeatsFromID[e.$useAbleID]=o,e.paramsFromID[e.$useAbleID]=a,e.isPauseFromID[e.$useAbleID]="run",e.objKeyFromID[e.$useAbleID]=l;var h=e.idArrFromObjKey[l];return h.push(e.$useAbleID),c.addEventListener(egret.Event.ENTER_FRAME,e.frameHandler,e),e.$useAbleID},e.frameHandler=function(t){var r=t.currentTarget,i=e.runnerKeyFromRunnerHash.getObject(r),n=e.idFromRunnerKey[i];if("pause"!=e.isPauseFromID[n]&&(e.currentFramesFromID[n]++,!(e.currentFramesFromID[n]<e.intervalFramesFromID[n]))){e.currentFramesFromID[n]=0,e.currentRepeatsFromID[n]++,e.$currentID=n,e.$currentRepeats=e.currentRepeatsFromID[n];var o=e.functionFromID[n],a=e.paramsFromID[n];o.apply(null,a),e.currentRepeatsFromID[n]>=e.totalRepeatsFromID[n]&&e.totalRepeatsFromID[n]>0&&e.clearCallerByID(n),
e.$currentID=NaN,e.$currentRepeats=NaN}},e.clearCallerByID=function(t){var r=t;if(e.runnerFromID[r]){var i=e.runnerFromID[r],n=e.runnerKeyFromRunnerHash.getObject(i),o=e.objKeyFromID[r];delete e.idFromRunnerKey[n],delete e.runnerFromID[r],delete e.functionFromID[r],delete e.paramsFromID[r],delete e.currentFramesFromID[r],delete e.intervalFramesFromID[r],delete e.currentRepeatsFromID[r],delete e.totalRepeatsFromID[r],delete e.isPauseFromID[r],delete e.objKeyFromID[r];var a=e.idArrFromObjKey[o],s=a.indexOf(r);a.splice(s,1),0==a.length&&(e.objKeyFromCallerHash.reverseDeletePair(o),delete e.idArrFromObjKey[o]),e.runnerKeyFromRunnerHash.deletePair(i),i.removeEventListener(egret.Event.ENTER_FRAME,e.frameHandler,e)}},e.clearCallerAt=function(t){if(e.objKeyFromCallerHash.getObject(t)){var r=e.objKeyFromCallerHash.getObject(t),i=e.idArrFromObjKey[r],n=i.concat();for(var o in n)e.clearCallerByID(n[o])}},e.clearAllCallers=function(){for(var t in e.idFromRunnerKey)e.clearCallerByID(e.idFromRunnerKey[t]);e.$useAbleID=0,e.$objID=0},e.isPause=function(t){var r=t;return!!e.runnerFromID[r]&&"pause"==e.isPauseFromID[r]},e.pauseCallerByID=function(t){var r=t;if(e.runnerFromID[r]&&!e.isPause(t)){var i=e.runnerFromID[r];i.removeEventListener(egret.Event.ENTER_FRAME,e.frameHandler,e),e.isPauseFromID[r]="pause"}},e.pauseCallerAt=function(t){if(e.objKeyFromCallerHash.getObject(t)){var r=e.objKeyFromCallerHash.getObject(t),i=e.idArrFromObjKey[r],n=i.concat();for(var o in n)e.pauseCallerByID(n[o])}},e.pauseAllCallers=function(){for(var t in e.idFromRunnerKey)e.pauseCallerByID(e.idFromRunnerKey[t])},e.resumeCallerByID=function(t){var r=t;if(e.runnerFromID[r]&&e.isPause(t)){var i=e.runnerFromID[r];i.addEventListener(egret.Event.ENTER_FRAME,e.frameHandler,e),e.isPauseFromID[r]="run"}},e.resumeCallerAt=function(t){if(e.objKeyFromCallerHash.getObject(t)){var r=e.objKeyFromCallerHash.getObject(t),i=e.idArrFromObjKey[r],n=i.concat();for(var o in n)e.resumeCallerByID(n[o])}},e.resumeAllCallers=function(){for(var t in e.idFromRunnerKey)e.resumeCallerByID(e.idFromRunnerKey[t])},e.getCurrentID=function(){return isNaN(e.$currentID)?NaN:e.$currentID},e.getCurrentRepeats=function(){return isNaN(e.$currentRepeats)?NaN:e.$currentRepeats},Object.defineProperty(e,"delayCallerList",{get:function(){var t=e.objKeyFromCallerHash.getKeyListCopy();return t?0==t.length?null:t:null},enumerable:!0,configurable:!0}),Object.defineProperty(e,"callerIDList",{get:function(){var t=new Array;if(e.idFromRunnerKey)for(var r in e.idFromRunnerKey)t.push(e.idFromRunnerKey[r]);return 0==t.length?null:t},enumerable:!0,configurable:!0}),e}();FrameDelayCaller.runnerFromID=new Object,FrameDelayCaller.idFromRunnerKey=new Object,FrameDelayCaller.currentFramesFromID=new Object,FrameDelayCaller.intervalFramesFromID=new Object,FrameDelayCaller.functionFromID=new Object,FrameDelayCaller.paramsFromID=new Object,FrameDelayCaller.currentRepeatsFromID=new Object,FrameDelayCaller.totalRepeatsFromID=new Object,FrameDelayCaller.idArrFromObjKey=new Object,FrameDelayCaller.isPauseFromID=new Object,FrameDelayCaller.objKeyFromID=new Object,FrameDelayCaller.$useAbleID=0,FrameDelayCaller.runnerKeyFromRunnerHash=new HashMap,FrameDelayCaller.$objID=0,FrameDelayCaller.objKeyFromCallerHash=new HashMap,__reflect(FrameDelayCaller.prototype,"FrameDelayCaller");var GetNumChildrenTotal=function(){function e(){}return e.getTotalAt=function(t){return e.count=0,e.getNumChildrenTotal(t),e.count},e.getListAt=function(t){e.lastDisplayObjectArray=e.currentDisplayObjectArray,e.currentDisplayObjectArray=new Array,e.getNumChildrenList(t),e.addedDisplayObjectArray=new Array,e.removedDisplayObjectArray=new Array;for(var r in e.currentDisplayObjectArray)-1==e.lastDisplayObjectArray.indexOf(e.currentDisplayObjectArray[r])&&e.addedDisplayObjectArray.push(e.currentDisplayObjectArray[r]);for(r in e.lastDisplayObjectArray)-1==e.currentDisplayObjectArray.indexOf(e.lastDisplayObjectArray[r])&&e.removedDisplayObjectArray.push(e.lastDisplayObjectArray[r]);var i=[e.currentDisplayObjectArray,e.addedDisplayObjectArray,e.removedDisplayObjectArray];return i},e.getNumChildrenTotal=function(t){e.count+=t.numChildren;for(var r=0;r<t.numChildren;r++)egret.is(t.getChildAt(r),"egret.DisplayObjectContainer")&&e.getNumChildrenTotal.call(e,t.getChildAt(r))},e.getNumChildrenList=function(t){for(var r=0;r<t.numChildren;r++)e.currentDisplayObjectArray.push(t.getChildAt(r)),egret.is(t.getChildAt(r),"egret.DisplayObjectContainer")&&e.getNumChildrenList.call(e,t.getChildAt(r))},e}();GetNumChildrenTotal.currentDisplayObjectArray=new Array,__reflect(GetNumChildrenTotal.prototype,"GetNumChildrenTotal");var disDev;!function(e){var t=function(e){function t(t,r,i){void 0===t&&(t=null),void 0===r&&(r=t),void 0===i&&(i=t);var n=e.call(this)||this;return t&&n.reconstruct(t,r,i),n}return __extends(t,e),t.prototype.reconstruct=function(e,t,r){void 0===t&&(t=e),void 0===r&&(r=e),this.$normalTexture=e,this.$pressTexture=t,this.$disabledTexture=r,this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.stage&&(this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this)),this.turnNormal(),this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this)},t.prototype.setScale9Grids=function(e){this.normalScale9Grid=e.normalGrid,this.pressScale9Grid=e.pressGrid,this.disabledScale9Grid=e.disabledGrid},t.prototype.onTouchBegin=function(e){this.turnPress(),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this)},t.prototype.touchMove=function(e){var t=this.globalToLocal(e.stageX,e.stageY),r=this.getBounds(),i=new egret.Rectangle(r.x+this.anchorOffsetX,r.y+this.anchorOffsetY,r.width,r.height);t.x<i.x||t.y<i.y||t.x>i.x+i.width||t.y>i.y+i.height?"normal"!=this.$currentTexture&&this.turnNormal():"press"!=this.$currentTexture&&this.turnPress()},t.prototype.touchEnd=function(e){this.turnNormal(),this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this)},t.prototype.turnNormal=function(){this.scale9Grid=this.$normalScale9Grid,this.texture=RES.getRes(this.$normalTexture),this.$currentTexture="normal"},t.prototype.turnPress=function(){this.scale9Grid=this.$pressScale9Grid,this.texture=RES.getRes(this.$pressTexture),this.$currentTexture="press"},t.prototype.turnDisabled=function(){this.scale9Grid=this.$disabledScale9Grid,this.texture=RES.getRes(this.$disabledTexture),this.$currentTexture="disabled"},Object.defineProperty(t.prototype,"touchEnabled",{get:function(){return this.$touchEnabled},set:function(t){this.$touchEnabled!=t&&(0==t?(this.touchEnd(null),this.turnDisabled()):1==t&&this.turnNormal(),e.prototype.$setTouchEnabled.call(this,t),this.$touchEnabled=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"normalScale9Grid",{get:function(){return this.$normalScale9Grid},set:function(e){this.$normalScale9Grid=e,"normal"==this.$currentTexture&&this.turnNormal()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pressScale9Grid",{get:function(){return this.$pressScale9Grid},set:function(e){this.$pressScale9Grid=e,"press"==this.$currentTexture&&this.turnPress()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabledScale9Grid",{get:function(){return this.$disabledScale9Grid},set:function(e){this.$disabledScale9Grid=e,"disabled"==this.$currentTexture&&this.turnDisabled()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleWidth",{get:function(){return this.width*this.scaleX},set:function(e){this.scaleX=e/this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleHeight",{get:function(){return this.height*this.scaleY},set:function(e){this.scaleY=e/this.height},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.texture=null},t}(egret.Bitmap);e.ButtonLite=t,__reflect(t.prototype,"disDev.ButtonLite",["disDev.IDisplayObjectLite","egret.IEventDispatcher"])}(disDev||(disDev={}));var Scale9Grids=function(){function e(e,t,r){void 0===t&&(t=e),void 0===r&&(r=e),this.normalGrid=e,this.pressGrid=t,this.disabledGrid=r}return e}();__reflect(Scale9Grids.prototype,"Scale9Grids");var TimerDelayCaller=function(){function e(){throw new Error(this.__class__+" 是静态成员集成类，无需实例化")}return e.addCallerOnce=function(t,r,i,n){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];return e.addCallerRepeat.apply(e,[t,r,i,n,1].concat(o))},e.addCallerRepeat=function(t,r,i,n,o){void 0===o&&(o=0);for(var a=[],s=5;s<arguments.length;s++)a[s-5]=arguments[s];if(0>o)throw new Error("参数 repeatCount 不能小于0");e.$useAbleID++;var l=new egret.Timer(n);if(l.addEventListener(egret.TimerEvent.TIMER,e.timerHandler,e),!e.idVectorFromDelayCallerHash.getObject(t)){var c=new Array;e.idVectorFromDelayCallerHash.editPair(t,c)}return e.idVectorFromDelayCallerHash.getObject(t).push(e.$useAbleID),e.idFromTimerHash.editPair(l,e.$useAbleID),e.delayCallerFromID[e.$useAbleID]=t,e.totalRunTimesFromID[e.$useAbleID]=o,e.currentRunTimesFromID[e.$useAbleID]=0,e.timerFromID[e.$useAbleID]=l,e.functionFromID[e.$useAbleID]=r.bind(i),e.paramsFromID[e.$useAbleID]=a,e.defaultDelayFromID[e.$useAbleID]=n,ActivateRunTimes.isStartUsing?e.startTimeFromID[e.$useAbleID]=ActivateRunTimes.activateTimes:e.startTimeFromID[e.$useAbleID]=egret.getTimer(),e.passTimeFromID[e.$useAbleID]=0,l.start(),e.$useAbleID},e.timerHandler=function(t){var r,i=t.currentTarget,n=e.idFromTimerHash.getObject(i),o=e.functionFromID[n],a=e.paramsFromID[n];if(e.currentRunTimesFromID[n]++,e.currentRunTimesFromID[n]>=e.totalRunTimesFromID[n]&&0!=e.totalRunTimesFromID[n]){if(e.delayCallerFromID[n]){r=e.delayCallerFromID[n];var s=e.idVectorFromDelayCallerHash.getObject(r),l=s.indexOf(n);s.splice(l,1),0==s.length&&e.idVectorFromDelayCallerHash.deletePair(r)}e.idFromTimerHash.deletePair(i),delete e.delayCallerFromID[n],delete e.timerFromID[n],delete e.currentRunTimesFromID[n],delete e.totalRunTimesFromID[n],delete e.functionFromID[n],delete e.paramsFromID[n],delete e.startTimeFromID[n],delete e.passTimeFromID[n],delete e.defaultDelayFromID[n],i.removeEventListener(egret.TimerEvent.TIMER,e.timerHandler,e),i.stop()}else i.delay!=e.defaultDelayFromID[n]&&(i.stop(),i.delay=e.defaultDelayFromID[n],i.start());o.apply(null,a)},e.clearCallerByID=function(t){if(e.timerFromID[t]){var r=e.timerFromID[t];if(e.delayCallerFromID[t]){var i=e.delayCallerFromID[t],n=e.idVectorFromDelayCallerHash.getObject(i);if(n){var o=n.indexOf(t);n.splice(o,1),e.idVectorFromDelayCallerHash.editPair(i,n),0==n.length&&e.idVectorFromDelayCallerHash.deletePair(i)}}e.idFromTimerHash.deletePair(r),delete e.delayCallerFromID[t],delete e.timerFromID[t],delete e.currentRunTimesFromID[t],delete e.totalRunTimesFromID[t],delete e.functionFromID[t],delete e.paramsFromID[t],delete e.startTimeFromID[t],delete e.passTimeFromID[t],delete e.defaultDelayFromID[t],r.removeEventListener(egret.TimerEvent.TIMER,e.timerHandler,e),r.stop()}},e.pauseCallerByID=function(t){if(e.timerFromID[t]){var r=e.timerFromID[t];r.running&&(ActivateRunTimes.isStartUsing?e.passTimeFromID[t]=ActivateRunTimes.activateTimes-e.startTimeFromID[t]:trace("ActivateRunTimes.start() 未被启用，无法计算中继时间"),r.stop())}},e.resumeCallerByID=function(t,r){if(void 0===r&&(r=!0),e.timerFromID[t]){var i=e.timerFromID[t];i.running||(r&&(ActivateRunTimes.isStartUsing?i.delay>e.passTimeFromID[t]?i.delay-=e.passTimeFromID[t]:i.delay=0:trace("ActivateRunTimes.start() 未被启用，无法计算中继时间")),e.startTimeFromID[t]=ActivateRunTimes.activateTimes,i.start())}},e.clearCallerAt=function(t){if(e.idVectorFromDelayCallerHash.getObject(t)){var r=e.idVectorFromDelayCallerHash.getObject(t).concat();for(var i in r)e.clearCallerByID(r[i])}},e.pauseCallerAt=function(t){if(e.idVectorFromDelayCallerHash.getObject(t)){var r=e.idVectorFromDelayCallerHash.getObject(t);for(var i in r)e.pauseCallerByID(r[i])}},e.resumeCallerAt=function(t,r){if(void 0===r&&(r=!0),e.idVectorFromDelayCallerHash.getObject(t)){var i=e.idVectorFromDelayCallerHash.getObject(t);for(var n in i)e.resumeCallerByID(i[n],r)}},e.clearAllCallers=function(){var t=e.idFromTimerHash.getObjectListCopy();for(var r in t)e.clearCallerByID(t[r]);e.$useAbleID=0},e.pauseAllCallers=function(){var t=e.idFromTimerHash.getObjectListCopy();for(var r in t)e.pauseCallerByID(t[r])},e.resumeAllCallers=function(t){void 0===t&&(t=!0);var r=e.idFromTimerHash.getObjectListCopy();for(var i in r)e.resumeCallerByID(r[i],t)},e.hasDelayCaller=function(t){for(var r in e.delayCallerFromID)if(e.delayCallerFromID[r]==t)return!0;return!1},Object.defineProperty(e,"delayCallerList",{get:function(){var t=new Array;for(var r in e.delayCallerFromID)t.push(e.delayCallerFromID[r]);return 0==t.length?null:t},enumerable:!0,configurable:!0}),Object.defineProperty(e,"callerIDList",{get:function(){var t=e.idFromTimerHash.getObjectListCopy();return 0==t.length?null:t},enumerable:!0,configurable:!0}),e}();TimerDelayCaller.idVectorFromDelayCallerHash=new HashMap,TimerDelayCaller.idFromTimerHash=new HashMap,TimerDelayCaller.delayCallerFromID=new Object,TimerDelayCaller.timerFromID=new Object,TimerDelayCaller.functionFromID=new Object,TimerDelayCaller.totalRunTimesFromID=new Object,TimerDelayCaller.currentRunTimesFromID=new Object,TimerDelayCaller.paramsFromID=new Object,TimerDelayCaller.startTimeFromID=new Object,TimerDelayCaller.passTimeFromID=new Object,TimerDelayCaller.defaultDelayFromID=new Object,TimerDelayCaller.$useAbleID=0,__reflect(TimerDelayCaller.prototype,"TimerDelayCaller");var Bitmap=egret.Bitmap,TextField=egret.TextField,DisplayObjectContainer=egret.DisplayObjectContainer,Sprite=egret.Sprite,CommonVariable=localData.CommonVariable,DataRequester=gameModule.DataRequester,SoundMusicManager=esm.SoundMusicManager,SoundEffectManager=esm.SoundEffectManager,GameApplication=function(e){function t(){var t=e.call(this)||this;if(t.versionDate=201706051507,t.loadedCount=0,ActivateRunTimes.start(),t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),egret.Capabilities.isMobile){var r=document.createElement("img");document.body.appendChild(r),t.setWindowTop(),t.setTopID=egret.setInterval(t.setWindowTop,t,500)}return t.subscribe(SubjectTypes.LINK_FAULT,t.onFault),t}return __extends(t,e),t.prototype.subscribe=function(e,t,r){void 0===r&&(r=this),ConcreteSubject.addObserver(this,e,t,r)},t.prototype.unsubscribe=function(e){void 0===e&&(e=null),ConcreteSubject.removeObserver(this,e)},t.prototype.onFault=function(){ConcreteSubject.notify(SubjectTypes.OVER_TIME),FrameDelayCaller.clearAllCallers(),TimerDelayCaller.clearAllCallers(),esm.SoundMusicManager.isOpen=!1,esm.SoundEffectManager.isOpen=!1,egret.Tween.removeAllTweens(),clearInterval(this.timeID),ActivateRunTimes.stop();var e=new Bitmap;e.texture=RES.getRes("gameLinkFault_png"),this.debugInfoLayer.addChild(e)},t.prototype.setWindowTop=function(){window.scrollTo(0,0)},t.prototype.traceTime=function(){trace(ActivateRunTimes.activateTimes,egret.getTimer())},t.prototype.onAddToStage=function(e){"UCBrowser"==AboutBrowser.getInfo().browserKey&&(this.stage.dirtyRegionPolicy="off"),this.debugInfoLayer=new egret.Sprite,this.globalEffectLayer=new egret.Sprite,this.versionLayer=new egret.Sprite,this.loadingLayer=new egret.Sprite,this.infoLayer=new egret.Sprite,this.gameLayer=new egret.Sprite,this.addChild(this.gameLayer),this.addChild(this.infoLayer),this.addChild(this.loadingLayer),this.addChild(this.versionLayer),this.addChild(this.globalEffectLayer),this.addChild(this.debugInfoLayer),this.onOrientationChange(),this.stage.addEventListener(egret.StageOrientationEvent.ORIENTATION_CHANGE,this.onOrientationChange,this),setTimeout(this.onOrientationChange.bind(this),2e3),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),InitConfig.isShowVersion&&(this.version_txt=new egret.TextField,this.version_txt.bold=!0,this.version_txt.text="ver."+this.versionDate,this.version_txt.size=16,this.version_txt.x=this.stage.stageWidth-this.version_txt.textWidth,this.version_txt.y=0,this.versionLayer.addChild(this.version_txt)),this.subscribe(SubjectTypes.DYNAMIC_COMPLETE,this.onDymamicAssect),connect.NetworkConnector.connectToURL(InitConfig.res_path+"dynamic/dynamic.json",this.getDynamicJson,this)},t.prototype.getDynamicJson=function(e){if(e==connect.NetworkConnector.CONNECT_FAULT)this.onDymamicAssect();else{var t=JSON.parse(e);connect.DynamicLoader.load(t)}},t.prototype.onDymamicAssect=function(){this.unsubscribe(SubjectTypes.DYNAMIC_COMPLETE),RES.loadConfig(InitConfig.res_path+"resource/defaultRes.json",InitConfig.res_path+"resource/")},t.prototype.onOrientationChange=function(){if(!egret.Capabilities.isMobile)return void(this.stage.scaleMode=egret.StageScaleMode.SHOW_ALL);if(window.hasOwnProperty("orientation")){var e=Number(window.orientation);0==e||180==e?this.stage.scaleMode=egret.StageScaleMode.SHOW_ALL:this.stage.scaleMode=egret.StageScaleMode.EXACT_FIT}},t.prototype.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.loadGroup("loadingUI")},t.prototype.onResourceLoadComplete=function(e){"loadingUI"==e.groupName?(this.loadingView=new LoadingUI,this.loadingLayer.addChild(this.loadingView),document.getElementById("preloading").style.display="none",RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),this.preLoadList=["gameUI"],RES.loadGroup(this.preLoadList.shift())):this.preLoadList.length>0?RES.loadGroup(this.preLoadList.shift()):0==this.preLoadList.length&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),TimerDelayCaller.addCallerOnce(null,this.createGameScene,this,200))},t.prototype.onResourceLoadError=function(e){console.warn("Group:"+e.groupName+" has failed to load"),this.onResourceLoadComplete(e)},t.prototype.onResourceProgress=function(e){"loadingUI"!=e.groupName&&this.loadingView.setProgress(e.itemsLoaded,e.itemsTotal)},t.prototype.createGameScene=function(){"iOS"==egret.Capabilities.os&&(SoundMusicManager.isOpen=!1,SoundEffectManager.isOpen=!1),SoundMusicManager.registerSound(SoundNames.BGM_GAME,RES.getRes("gameBGM_mp3"),.35),SoundMusicManager.registerSound(SoundNames.WIN,RES.getRes("gameWin_mp3"),.5),SoundEffectManager.registerSound(SoundNames.SECONDS,RES.getRes("second_mp3"),.5),SoundEffectManager.registerSound(SoundNames.PLAYING,RES.getRes("gameRolling_mp3"),.5),SoundEffectManager.registerSound(SoundNames.WELCOME,RES.getRes("welcome_mp3"),.5),SoundEffectManager.registerSound(SoundNames.YAMETE,RES.getRes("yamete_mp3"),.5),this.stage.addEventListener("enterGame",this.enterGame,this),this.viewMediator=new gameModule.ViewMediator(this.infoLayer,this.gameLayer,this.globalEffectLayer),ActivateRunTimes.start(),ActivateRunTimes.addCallbackBeforeStep("timeoutCheaking",this.deviationHandler,this)},t.prototype.deviationHandler=function(){if(ActivateRunTimes.deviationCurrentTimes>3e3){for(trace("等待超时,自动重新载入"),SoundMusicManager.stopAllSound(),SoundEffectManager.stopAllSound(),this.loadingLayer.addChild(this.loadingView),this.loadingView.replay(),ConcreteSubject.notify(SubjectTypes.OVER_TIME),FrameDelayCaller.clearAllCallers(),TimerDelayCaller.clearAllCallers(),egret.Tween.removeAllTweens(),clearInterval(this.timeID),ActivateRunTimes.stop(),CommonVariable.isSimulating=!1,CommonVariable.awardStatus=0;this.globalEffectLayer.numChildren>0;)this.globalEffectLayer.removeChildAt(0);this.stage.removeEventListener("enterGame",this.enterGame,this),this.gameRestart(),this.onOrientationChange()}},t.prototype.gameRestart=function(){ActivateRunTimes.start(),this.stage.addEventListener("enterGame",this.enterGame,this),FrameDelayCaller.addCallerOnce(null,this.viewMediator.reStart,this.viewMediator,30)},t.prototype.enterGame=function(e){this.stage.removeEventListener("enterGame",this.enterGame,this),TimerDelayCaller.addCallerOnce(null,this.loadingLayer.removeChild,this.loadingLayer,50,this.loadingView)},t}(egret.DisplayObjectContainer);__reflect(GameApplication.prototype,"GameApplication",["IObserver"]);var LoadingUI=function(e){function t(){var t=e.call(this)||this;return t.bar=new Bitmap,t.createView(),t}return __extends(t,e),t.prototype.createView=function(){var e=new Bitmap;e.texture=RES.getRes("loadingBG1_jpg"),e.scaleX=e.scaleY=1/.7;var t=new Bitmap;t.texture=RES.getRes("loadingBG2_png"),t.scaleX=t.scaleY=1/.7,t.y=e.height/.7;var r=new Bitmap;r.texture=RES.getRes("loadingBG3_jpg"),r.scaleX=r.scaleY=1/.7,r.y=t.y+t.height/.7;var i=new Bitmap;i.texture=RES.getRes("loadingBG4_jpg"),i.scaleX=i.scaleY=1/.7,i.x=148,i.y=545,this.bar.texture=RES.getRes("loadingBar_png"),this.bar.scaleX=this.bar.scaleY=1/.7,this.bar.x=153,this.bar.y=551,this.addChild(i),this.addChild(this.bar),this.addChild(e),this.addChild(t),this.addChild(r);var n=new Bitmap;n.texture=RES.getRes("loadingLogo_png"),n.scaleX=n.scaleY=1/.7,n.x=870,n.y=545,this.addChild(n),this.textField=new TextField,this.textField.fontFamily="Microsoft YaHei",this.textField.size=22,this.textField.textAlign=egret.HorizontalAlign.CENTER,this.textField.x=490,this.textField.y=555,this.textField.textColor=16775880,this.addChild(this.textField);for(var o in connect.DynamicLoader.loadingAssets){var a=connect.DynamicLoader.object[connect.DynamicLoader.loadingAssets[o]];a&&this.addChild(a)}},t.prototype.setProgress=function(e,t){var r=Math.ceil(100*e/t);r>100&&(r=100),this.textField.text=r+"%",this.bar.x=153-677*(1-e/t)},t.prototype.replay=function(){},t}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var ConcreteSubject=function(){function e(){throw new Error(this.__class__+" 是静态成员集成类，无需实例化")}return e.addObserver=function(e,t,r,i){if(null==r)throw new Error("错误：提供给 ConcreteSubject 的回调函数不能为null");if(r.length>1)throw new Error("错误：提供给 ConcreteSubject 的回调函数必须不带参数，或只带1个any类型参数，当前有"+r.length+"个参数");var n=this.getKeyByObserver(e);return"undefined"==n&&(n=this.createKeyByObserver(e)),null!=this.observerCollection[n]&&null!=this.observerCollection[n][t]?void console.log("提示：观察者 "+(e.__class__||e.__type__||typeof e)+" 已经订阅过此主题类型:  "+t+"，此次重复订阅无效"):(null==this.observerCollection[n]&&(this.observerCollection[n]={}),this.observerCollection[n][t]=r,null==this.callBackFunctionsArrayCollection[t]&&(this.callBackFunctionsArrayCollection[t]=new Array),this.callBackFunctionsArrayCollection[t].push(r.bind(i)),null==this.subjectTypeCollection[t]&&(this.subjectTypeCollection[t]=new Array),void this.subjectTypeCollection[t].push(e))},e.removeObserver=function(e,t){void 0===t&&(t=null);var r=this.getKeyByObserver(e);if("undefined"==r)return void console.log("提示：观察者 "+(e.__class__||e.__type__||typeof e)+" 目前并未订阅任何主题类型，此次取消订阅无效");var i;if(null==t||""==t){for(var n in this.observerCollection[r])i=this.callBackFunctionsArrayCollection[n].indexOf(this.observerCollection[r][n]),this.callBackFunctionsArrayCollection[n].splice(i,1),delete this.observerCollection[r][n],i=this.subjectTypeCollection[n].indexOf(e),this.subjectTypeCollection[n].splice(i,1),0==this.subjectTypeCollection[n].length&&delete this.subjectTypeCollection[n];delete this.observerCollection[r]}else{if(null==this.observerCollection[r][t])return void console.log("提示：观察者 "+(e.__class__||e.__type__||typeof e)+" 目前并未订阅此主题类型 "+t+"，此次取消订阅无效");i=this.callBackFunctionsArrayCollection[t].indexOf(this.observerCollection[r][t]),this.callBackFunctionsArrayCollection[t].splice(i,1),delete this.observerCollection[r][t],i=this.subjectTypeCollection[t].indexOf(e),this.subjectTypeCollection[t].splice(i,1),0==this.subjectTypeCollection[t].length&&delete this.subjectTypeCollection[t];for(n in this.observerCollection[r])if(this.observerCollection[r][n])return;this.clearKeyByObserver(e),delete this.observerCollection[r]}},e.notify=function(e,t){if(void 0===t&&(t=null),null==this.callBackFunctionsArrayCollection[e])return void console.log("提示：目前没有任何观察者订阅此主题类型 "+e+"，此次消息发布无效");this.notifyingSubjectType=e;var r=this.callBackFunctionsArrayCollection[e].concat();for(var i in r){var n=r[i];null!=n&&(1==n.length?n.call(null,t):n.call(null))}this.notifyingSubjectType=null},e.notifyWeakly=function(e,t){if(void 0===t&&(t=null),null==this.callBackFunctionsArrayCollection[e])return void console.log("提示：目前没有任何观察者订阅此主题类型 "+e+"，此次消息发布无效");if(null!=this.notifyCollection[e])return console.log("提示：此主题类型 "+e+" 已在迭代发布中，为避免引发死循环，拦截并终止此次 notifyWeakly() 函数的调用"),this.notifyCollection[e]=null,delete this.notifyCollection[e],void(this.notifyingSubjectType=null);this.notifyCollection[e]=!0,this.notifyingSubjectType=e;var r=this.callBackFunctionsArrayCollection[e].concat();for(var i in r){var n=r[i];null!=n&&(1==n.length?n.call(null,t):n.call(null))}this.notifyCollection[e]=null,delete this.notifyCollection[e],this.notifyingSubjectType=null},e.getObserversFromSubjectType=function(e){var t;return null!=this.subjectTypeCollection[e]&&(t=this.subjectTypeCollection[e].concat()),t},e.hasObserverAndSubjectType=function(e,t){var r=this.getKeyByObserver(e);return null!=this.observerCollection[r]&&null!=this.observerCollection[r][t]},e.getSubjectTypesFromObserver=function(e){var t,r=this.getKeyByObserver(e);if("undefined"!=r){t=new Array;for(var i in this.observerCollection[r])t.push(i)}return t},e.getCurrentSubject=function(){return this.notifyingSubjectType},e.getKeyByObserver=function(e){var t=this.obsArray.indexOf(e);return-1==t?"undefined":this.keyArray[t]},e.createKeyByObserver=function(e){return this.obsArray.push(e),this.keyArray.push("key"+this.currentKey.toString()),("key"+this.currentKey++).toString()},e.clearKeyByObserver=function(e){var t=this.obsArray.indexOf(e);this.obsArray.splice(t,1),this.keyArray.splice(t,1)},e}();ConcreteSubject.observerCollection={},ConcreteSubject.subjectTypeCollection={},ConcreteSubject.callBackFunctionsArrayCollection={},ConcreteSubject.notifyCollection={},ConcreteSubject.obsArray=new Array,ConcreteSubject.keyArray=new Array,ConcreteSubject.currentKey=0,__reflect(ConcreteSubject.prototype,"ConcreteSubject");var ObserverBase=function(){function e(){}return e.prototype.subscribe=function(e,t,r){void 0===r&&(r=this),ConcreteSubject.addObserver(this,e,t,r)},e.prototype.unsubscribe=function(e){void 0===e&&(e=null),ConcreteSubject.removeObserver(this,e)},e}();__reflect(ObserverBase.prototype,"ObserverBase",["IObserver"]);