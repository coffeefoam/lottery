function editHashPair(e,t){return HashMap.hashMapSingleton.editPair(e,t)}function getHashObject(e){return HashMap.hashMapSingleton.getObject(e)}function deleteHashPair(e){HashMap.hashMapSingleton.deletePair(e)}function reverseDeleteHashPairs(e){HashMap.hashMapSingleton.reverseDeletePair(e)}function getHashKeyListCopy(){return HashMap.hashMapSingleton.getKeyListCopy()}function getHashObjectListCopy(){return HashMap.hashMapSingleton.getObjectListCopy()}function popup(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(popupAble){var i="";for(var r in arguments)i+=arguments[r].toString();alert(i)}}function trace(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];traceAble&&console.log(Array.prototype.join.call(arguments," "))}var InitConfig=function(){function e(){}var t=__define,i=e;return i.prototype,t(e,"isRelease",function(){return e._isRelease},function(t){e._isRelease=t,traceAble=!t}),t(e,"isPopup",function(){return e._isPopup},function(t){e._isPopup=t,popupAble=t}),e.res_path="",e.req_host="",e.isShowVersion=!0,e._isRelease=!1,e._isPopup=!0,e}();egret.registerClass(InitConfig,"InitConfig");var SoundNames=function(){function e(){throw new Error(this.__class__+" 是静态成员集成类，无需实例化")}var t=(__define,e);return t.prototype,e.BG_GAME="backgroundGameMusic",e.SECONDS="effectOfSeconds",e.PLAYING="effectOfPlaying",e.STOP="effectOfStop",e}();egret.registerClass(SoundNames,"SoundNames");var SubjectTypes=function(){function e(){throw new Error(this.__class__+" 是静态成员集成类，无需实例化")}var t=(__define,e);return t.prototype,e.LINK_FAULT="linkFault",e.DYNAMIC_COMPLETE="dynamic_complete",e.APP_START="appStart",e.OVER_TIME="overTime",e.SOUND_READY="soundReady",e.GET_INITDATA="getInitData",e.GET_REALDATA="getRealData",e.GAME_UNMONI="gameUnMoni",e.GAME_START="gameStart",e.GET_MONIDATA="getMoniData",e.GET_NUMBER="getNumber",e.GAME_END="gameEnd",e.GAME_INIT="gameInit",e}();egret.registerClass(SubjectTypes,"SubjectTypes");var connect;!function(e){var t=function(){function e(){throw new Error(this.__class__+" 是静态成员集成类，无需实例化")}var t=__define,i=e;return i.prototype,t(e,"CONNECT_COMPLETE",function(){return"connect complete"}),t(e,"CONNECT_FAULT",function(){return"connect fault"}),e.connectToURL=function(e,t,i,r){void 0===r&&(r=egret.URLRequestMethod.GET);var n=new egret.URLRequest(e),s=new egret.URLLoader;n.method=r,this.loaderArray.push(s),this.methodArray.push(t.bind(i)),s.addEventListener(egret.Event.COMPLETE,this.onComplete,this),s.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onError,this),editHashPair(s,n),s.load(n)},e.onError=function(e){var t=e.target,i=this.loaderArray.indexOf(t),r=this.methodArray[i];t.removeEventListener(egret.Event.COMPLETE,this.onComplete,this),t.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onError,this),r.length<1?r.call(null):r.call(null,this.CONNECT_FAULT)},e.onComplete=function(e){var t=e.target,i=this.loaderArray.indexOf(t),r=this.methodArray[i];t.removeEventListener(egret.Event.COMPLETE,this.onComplete,this),t.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onError,this),deleteHashPair(t),this.reconnectTimes=0,r.length<1?r.call(null):r.call(null,e.target.data),t.removeEventListener(egret.Event.COMPLETE,this.onComplete,this),t.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onError,this),this.loaderArray.splice(i,1),this.methodArray.splice(i,1)},e.methodArray=new Array,e.loaderArray=new Array,e.reconnectTimes=0,e}();e.NetworkConnector=t,egret.registerClass(t,"connect.NetworkConnector")}(connect||(connect={}));var connect;!function(e){var t=function(){function e(){throw new Error(this.__class__+" 是静态成员集成类，无需实例化")}var t=__define,i=e;return i.prototype,t(e,"CONNECT_COMPLETE",function(){return"connect complete"}),t(e,"CONNECT_FAULT",function(){return"connect fault"}),e.connectToURL=function(e,t,i,r){void 0===r&&(r=egret.URLRequestMethod.GET);var n=new egret.URLRequest(e),s=new egret.URLLoader;n.method=r,s._request=n,this.loaderArray.push(s),this.methodArray.push(t.bind(i)),JsonpReq.process(s),s.addEventListener(egret.Event.COMPLETE,this.onComplete,this),s.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onError,this)},e.onError=function(e){var t=e.target,i=this.loaderArray.indexOf(t),r=this.methodArray[i];return t.removeEventListener(egret.Event.COMPLETE,this.onComplete,this),t.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onError,this),this.reconnectTimes<10?(trace("链接服务器失败，准备再次尝试.."),r.length<1?r.call(null):r.call(null,this.CONNECT_FAULT),this.reconnectTimes++,void setTimeout(t.load,500,t._request)):void trace("多次访问服务器失败，请检查网络链接并手动刷新页面")},e.onComplete=function(e){var t=e.target,i=this.loaderArray.indexOf(t),r=this.methodArray[i];t.removeEventListener(egret.Event.COMPLETE,this.onComplete,this),t.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onError,this),this.reconnectTimes=0,r.length<1?r.call(null):r.call(null,e.target.data),t.removeEventListener(egret.Event.COMPLETE,this.onComplete,this),t.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onError,this),this.loaderArray.splice(i,1),this.methodArray.splice(i,1)},e.methodArray=new Array,e.loaderArray=new Array,e.reconnectTimes=0,e}();e.NetworkJSONPRequester=t,egret.registerClass(t,"connect.NetworkJSONPRequester")}(connect||(connect={}));var JsonpReq=function(){function e(){}var t=(__define,e);return t.prototype,e.process=function(t){e.completeCall["call_"+e._regID]=function(i){var r=e._regID;t.data=i,t.dispatchEvent(new egret.Event(egret.Event.COMPLETE)),delete e.completeCall["call_"+r]},e.startLoader(t,e._regID++)},e.startLoader=function(e,t){var i=document.createElement("script");i.src=e._request.url,document.body.appendChild(i)},e._regID=0,e.completeCall={},e}();egret.registerClass(JsonpReq,"JsonpReq");var disDev;!function(e){var t=function(e){function t(){if(e.call(this),this.$loopStartFrame=0,this.$loopEndFrame=0,this.$driverType=disTypes.DriverType.FRAME,this.playInterval=1,this.currentInterval=0,this.executeFrameScript=!0,this.executeLoop=!0,this.executeDriverType=!0,"disDev.AbstractAnimation"==egret.getQualifiedClassName(this))throw new Error(this.__class__+" 是用于被继承的抽象类，不能实例化")}__extends(t,e);var i=__define,r=t,n=r.prototype;return n.addFrameScript=function(e,t,i,r){},n.removeFrameScript=function(e){},n.stop=function(){},n.play=function(){},n.gotoAndPlay=function(e){},n.gotoAndStop=function(e){},n.nextFrame=function(){},n.prevFrame=function(){},n.playHandler=function(e){void 0===e&&(e=null)},i(n,"totalFrames",function(){return this.$totalFrames}),i(n,"currentFrame",function(){return this.$currentFrame}),i(n,"isPlaying",function(){return this.$isPlaying}),n.setDriver=function(e,t){void 0===e&&(e=disTypes.DriverType.FRAME),void 0===t&&(t=1)},n.setLoopPoint=function(e,t,i,r,n){if(void 0===i&&(i=!1),void 0===r&&(r=this.$driverType),void 0===n&&(n=this.playInterval),1>e||t>this.$totalFrames)throw new Error("循环播放片段起始帧或结束帧超出范围！");if(e>t)throw new Error("循环播放片段起始帧号不能大于结束帧号！");this.$loopStartFrame=Math.floor(e),this.$loopEndFrame=Math.floor(t),this.$driverTypeOnLooping=r,this.$playIntervalOnLooping=n,this.executeLoop&&i&&this.gotoAndPlay(e)},n.clearLoopPoint=function(){this.$loopStartFrame=0,this.$loopEndFrame=0},i(n,"scaleWidth",function(){return this.width*this.scaleX},function(e){this.scaleX=e/this.width}),i(n,"scaleHeight",function(){return this.height*this.scaleY},function(e){this.scaleY=e/this.height}),n.destroy=function(){this.removeEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop())},t}(egret.Sprite);e.AbstractAnimation=t,egret.registerClass(t,"disDev.AbstractAnimation",["disDev.IAnimation","disDev.IDisplayObjectLite","egret.IEventDispatcher"])}(disDev||(disDev={}));var disDev;!function(e){var t=function(e){function t(t,i,r,n){void 0===t&&(t=null),void 0===i&&(i=1),void 0===r&&(r=!0),void 0===n&&(n=disTypes.BitmapAlignEnum[0]),e.call(this),this.backGroundBitmap=new egret.Bitmap,this.$isNatureEnter=!1,this.$bitmapAlignType=disTypes.BitmapAlignEnum[0],t&&this.reconstruct(t,i,r,n)}__extends(t,e);var i=__define,r=t,s=r.prototype;return s.reconstruct=function(e,t,i,r){if(void 0===t&&(t=1),void 0===i&&(i=!0),void 0===r&&(r=disTypes.BitmapAlignEnum[0]),!e||e.length<1)throw new Error("textureInfoList不能为空, 并且长度不能小于1");this.$totalFrames=0,this.$partArray=new Array,this.$partHeadList=new Array,this.$partTailList=new Array,this.correctedPointArray=new Array,this.$textureNameList=new Array;for(var n=0;n<e.length;n++){var s=[this.$totalFrames+1];this.$totalFrames+=e[n].nameArray.length,s.push(this.$totalFrames),this.$partArray.push(s),this.$partHeadList.push(s[0]-1),this.$partTailList.push(s[1]-1),this.correctedPointArray.push(e[n].correctedPoint),this.$textureNameList=this.$textureNameList.concat(e[n].nameArray)}if(1>t||t>this.$totalFrames)throw new Error("初始帧start超出有效范围");var a=this.checkAndCreateTexture(this.$textureNameList[t-1]);this.$isPlaying=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop()),this.clearLoopPoint(),this.textureInfoList=e,this.start=Math.floor(t),this.$currentFrame=this.start,this.addChildAt(this.backGroundBitmap,0),this.backGroundBitmap.texture=a,this.$initHeight=this.backGroundBitmap.height,this.$initWidth=this.backGroundBitmap.width,this.bitmapAlignType=r,this.setDriver(),i&&this.play(),this.callBackFunctionCollection=new Array},s.checkAndCreateTexture=function(e){var t=RES.getRes(e);return this.$currentTextureName!=e?(this.$currentTextureName=e,e&&(t||trace("无法获取有效的 Texture: "+e+"，请检查名称拼写，或确认是否已经正常加载该资源")),t):(this.$currentTextureName=e,t)},s.push=function(e){var t=[this.$totalFrames+1];return this.$totalFrames+=e.nameArray.length,t.push(this.$totalFrames),this.$partArray.push(t),this.$partHeadList.push(t[0]-1),this.correctedPointArray.push(e.correctedPoint),this.$textureNameList=this.$textureNameList.concat(e.nameArray),this},s.concat=function(e){for(var t=0;t<e.length;t++){var i=e[t],r=[this.$totalFrames+1];this.$totalFrames+=i.nameArray.length,r.push(this.$totalFrames),this.$partArray.push(r),this.$partHeadList.push(r[0]-1),this.correctedPointArray.push(i.correctedPoint),this.$textureNameList=this.$textureNameList.concat(i.nameArray)}return this},s.addFrameScript=function(e,t,i,r){if(void 0===i&&(i=this),void 0===r&&(r=!0),isNaN(Math.floor(e))||Math.floor(e)<0||Math.floor(e)>this.$totalFrames-1)throw new Error("事件帧序号超出有效范围");this.callBackFunctionCollection[Math.floor(e)]=t.bind(i),r&&Math.floor(e)==this.start&&this.executeFrameScript&&this.callBackFunctionCollection[Math.floor(e)].call(null)},s.addFrameScriptOnce=function(e,t,i,r){if(void 0===i&&(i=this),void 0===r&&(r=!0),isNaN(Math.floor(e))||Math.floor(e)<0||Math.floor(e)>this.$totalFrames-1)throw new Error("事件帧序号超出有效范围");this.callBackFunctionCollection[Math.floor(e)]=function(){t.bind(i).call(null),this.removeFrameScript(Math.floor(e))}.bind(this),r&&Math.floor(e)==this.start&&this.executeFrameScript&&this.callBackFunctionCollection[Math.floor(e)].call(null)},s.removeFrameScript=function(e){if(Math.floor(e)<0||Math.floor(e)>this.$totalFrames-1)throw new Error("事件帧序号超出有效范围");this.callBackFunctionCollection&&this.callBackFunctionCollection[Math.floor(e)]&&delete this.callBackFunctionCollection[Math.floor(e)]},s.play=function(){return 1==this.$totalFrames?void this.stop():(this.$isPlaying=!0,void(this.$driverType==disTypes.DriverType.FRAME?(this.addEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop())):this.$driverType==disTypes.DriverType.TIMER&&(this.timer||(this.timer=new egret.Timer(this.playInterval)),this.timer.addEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.delay=this.playInterval,this.timer.start())))},s.gotoAndPlay=function(e){if(1==this.$totalFrames)return void this.stop();this.$isNatureEnter=!1;var t=this.$currentFrame;this.$currentFrame=Math.floor(e),this.$currentFrame<1?this.$currentFrame=1:this.$currentFrame>this.$totalFrames&&(this.$currentFrame=this.$totalFrames),this.start=this.$currentFrame;var i=this.checkAndCreateTexture(this.$textureNameList[this.start-1]);this.backGroundBitmap.texture=i,this.bitmapAlignHandler(),this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&t!=this.$currentFrame&&this.callBackFunctionCollection[this.$currentFrame-1].call(null),this.play()},s.stop=function(){this.$isPlaying=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop()),this.start=this.$currentFrame;var e=this.checkAndCreateTexture(this.$textureNameList[this.start-1]);this.backGroundBitmap.texture=e,this.bitmapAlignHandler()},s.gotoAndStop=function(e){if(1==this.$totalFrames)return void this.stop();this.$isNatureEnter=!1;var t=this.$currentFrame;this.$currentFrame=Math.floor(e),this.$currentFrame<1?this.$currentFrame=1:this.$currentFrame>this.$totalFrames&&(this.$currentFrame=this.$totalFrames),this.stop(),this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&t!=this.$currentFrame&&this.callBackFunctionCollection[this.$currentFrame-1].call(null)},s.playHandler=function(){if(this.$isPlaying&&this.executeDriverType)if(this.$driverType==disTypes.DriverType.FRAME){for(this.currentInterval++;this.currentInterval>=2*this.playInterval;)if(this.currentInterval-=this.playInterval,this.autoNextFrame(!1),!this.$isPlaying)return;this.currentInterval>=this.playInterval&&(this.currentInterval-=this.playInterval,this.autoNextFrame(!0))}else this.$driverType==disTypes.DriverType.TIMER&&this.autoNextFrame()},s.autoNextFrame=function(e){void 0===e&&(e=!0),this.$isNatureEnter=!0,this.start<=this.$totalFrames&&this.start++,this.start>this.$totalFrames&&(this.isPlaying?this.start=1:this.start=this.$totalFrames),this.executeLoop&&this.isPlaying&&this.$currentFrame==this.$loopEndFrame&&(this.start=this.$loopStartFrame),this.executeLoop&&this.isPlaying&&this.$currentFrame>=this.$loopStartFrame&&this.$currentFrame<=this.$loopEndFrame&&(this.driverType!=this.$driverTypeOnLooping||this.$playIntervalOnLooping!=this.playInterval)&&this.setDriver(this.$driverTypeOnLooping,this.$playIntervalOnLooping);var t=this.$currentFrame;if(this.$currentFrame=this.start,e){var i=this.checkAndCreateTexture(this.$textureNameList[this.$currentFrame-1]);this.backGroundBitmap.texture=i,this.bitmapAlignHandler()}this.executeLoop&&this.isPlaying&&this.start==this.$loopStartFrame&&this.start==this.$loopEndFrame&&(trace("提示: 循环点的起始帧号与结束帧号相同, 自动停止播放"),this.stop()),this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&t!=this.$currentFrame&&this.callBackFunctionCollection[this.$currentFrame-1].call(null)},s.autoPrevFrame=function(e){if(void 0===e&&(e=!0),this.start>1&&(this.start--,this.$isNatureEnter=!0),this.start<1&&(this.start=1),this.$currentFrame=this.start,e){var t=this.checkAndCreateTexture(this.$textureNameList[this.start-1]);this.backGroundBitmap.texture=t,this.bitmapAlignHandler()}this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&this.callBackFunctionCollection[this.$currentFrame-1].call(null)},s.nextFrame=function(){this.stop(),this.start<this.$totalFrames&&this.autoNextFrame()},s.prevFrame=function(){this.stop(),this.start>1&&this.autoPrevFrame()},i(s,"currentTextureName",function(){return this.$currentTextureName}),i(s,"isNatureEnter",function(){return this.$isNatureEnter}),s.getPartHeadAt=function(e){return e=Math.floor(e),e>=this.$partHeadList.length||e<-this.$partHeadList.length?(trace("提示: 提供给 getPartHeadAt 的索引值超出片段头列表范围"),NaN):(0>e&&(e=this.$partHeadList.length+e),this.$partHeadList[e])},s.getPartTailAt=function(e){return e=Math.floor(e),e>=this.$partTailList.length||e<-this.$partTailList.length?(trace("提示: 提供给 getPartTailAt 的索引值超出片段尾列表范围"),NaN):(0>e&&(e=this.$partTailList.length+e),this.$partTailList[e])},s.getPartHeadAndTailList=function(){for(var e=new Array,t=0;t<this.$partArray.length;t++)e.push(new n(this.$partArray[t][0]-1,this.$partArray[t][1]-1));return e},s.getPartHeadAndTailAt=function(e){return e=Math.floor(e),e>=this.$partArray.length||e<-this.$partArray.length?(trace("提示: 提供给 getPartHeadAt 的索引值超出片段头列表范围"),null):(0>e&&(e=this.$partArray.length+e),new n(this.$partHeadList[e],this.$partTailList[e]))},s.getPlayPartIndexByFrame=function(e){if(1>e||e>this.totalFrames)throw new Error("帧号超出有效范围！");e=Math.floor(e);for(var t=0;t<this.$partArray.length;t++)if(e>=this.$partArray[t][0]&&e<=this.$partArray[t][1])return t},i(s,"bitmapAlignType",function(){return this.$bitmapAlignType},function(e){this.$bitmapAlignType=e,this.bitmapAlignHandler()}),s.bitmapAlignHandler=function(){switch(this.$bitmapAlignType){case disTypes.BitmapAlignEnum[0]:this.backGroundBitmap.x=0,this.backGroundBitmap.y=0;break;case disTypes.BitmapAlignEnum[1]:this.backGroundBitmap.x=(this.$initWidth-this.backGroundBitmap.width)/2,this.backGroundBitmap.y=0;break;case disTypes.BitmapAlignEnum[2]:this.backGroundBitmap.x=this.$initWidth-this.backGroundBitmap.width,this.backGroundBitmap.y=0;break;case disTypes.BitmapAlignEnum[3]:this.backGroundBitmap.x=0,this.backGroundBitmap.y=(this.$initHeight-this.backGroundBitmap.height)/2;break;case disTypes.BitmapAlignEnum[4]:this.backGroundBitmap.x=(this.$initWidth-this.backGroundBitmap.width)/2,this.backGroundBitmap.y=(this.$initHeight-this.backGroundBitmap.height)/2;break;case disTypes.BitmapAlignEnum[5]:this.backGroundBitmap.x=this.$initWidth-this.backGroundBitmap.width,this.backGroundBitmap.y=(this.$initHeight-this.backGroundBitmap.height)/2;break;case disTypes.BitmapAlignEnum[6]:this.backGroundBitmap.x=0,this.backGroundBitmap.y=this.$initHeight-this.backGroundBitmap.height;break;case disTypes.BitmapAlignEnum[7]:this.backGroundBitmap.x=(this.$initWidth-this.backGroundBitmap.width)/2,this.backGroundBitmap.y=this.$initHeight-this.backGroundBitmap.height;break;case disTypes.BitmapAlignEnum[8]:this.backGroundBitmap.x=this.$initWidth-this.backGroundBitmap.width,this.backGroundBitmap.y=this.$initHeight-this.backGroundBitmap.height}var e;for(e=0;e<this.$partArray.length&&!(this.$currentFrame>=this.$partArray[e][0]&&this.$currentFrame<=this.$partArray[e][1]);e++);var t=this.correctedPointArray[e];this.backGroundBitmap.x+=t.x,this.backGroundBitmap.y+=t.y},i(s,"smoothing",function(){return this.backGroundBitmap.smoothing},function(e){this.backGroundBitmap.smoothing=e}),s.destroy=function(){e.prototype.destroy.call(this),this.backGroundBitmap&&this.backGroundBitmap.parent&&this.backGroundBitmap.parent.removeChild(this.backGroundBitmap),this.callBackFunctionCollection=null},s.setDriver=function(e,t){if(void 0===e&&(e=disTypes.DriverType.FRAME),void 0===t&&(t=1),0>=t)throw new Error("驱动间隔不能等于或小于0！");this.executeDriverType&&(this.$driverType=e,this.playInterval=t,this.$driverTypeOnLooping=this.$driverType,this.$playIntervalOnLooping=this.playInterval,this.currentInterval=0,e==disTypes.DriverType.FRAME&&this.playInterval%1!=0?trace("提示: 当前采用逐帧驱动方式, playInterval不是整数("+this.playInterval+"), 将会出现丢帧的情况"):e==disTypes.DriverType.TIMER&&this.playInterval<16&&trace("提示: 当前采用计时器驱动方式, playInterval低于下限16毫秒("+this.playInterval+"), 将自动调整为 帧/16毫秒 的频率"),this.isPlaying&&(this.removeEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop()),this.play()))},i(s,"frameInterval",void 0,function(e){this.setDriver(disTypes.DriverType.FRAME,e)}),i(s,"timerInterval",void 0,function(e){this.setDriver(disTypes.DriverType.TIMER,e)}),i(s,"driverType",function(){return this.$driverType}),t}(e.AbstractAnimation);e.AnimationGroup=t,egret.registerClass(t,"disDev.AnimationGroup",["disDev.IAnimation","disDev.IDisplayObjectLite","egret.IEventDispatcher"]);var i=function(){function e(){throw new Error(this.__class__+" 是静态成员集成类, 无需实例化")}var t=(__define,e);return t.prototype,e.createInfo=function(e,t,i,n,s,a){if(void 0===t&&(t=null),void 0===i&&(i=0),void 0===n&&(n=1),void 0===s&&(s=0),void 0===a&&(a=0),1>e)throw new Error("Texture对象列表长度不能小于1");if(1>n)throw new Error("Texture对象的序号长度不能小于1");var o=e+i,l=new Array;n=Math.floor(n);for(var h=Math.floor(i);h<Math.floor(o);h++)null==t?l.push(null):l.push(t+this.getFrameByDigits(h,n));var u=new r(l,new egret.Point(s,a));return u},e.createStaticInfo=function(e,t,i,n){if(void 0===t&&(t=null),void 0===i&&(i=0),void 0===n&&(n=0),1>e)throw new Error("Texture对象列表长度不能小于1");for(var s=new Array,a=0;e>a;a++)null==t?s.push(null):s.push(t);var o=new r(s,new egret.Point(i,n));return o},e.getFrameByDigits=function(e,t){1>t&&(t=1),t=Math.floor(t);for(var i=e.toString();i.length<t;)i=0+i;return i},e}();e.TextureInfoMaker=i,egret.registerClass(i,"disDev.TextureInfoMaker");var r=function(){function t(e,t){void 0===t&&(t=new egret.Point(0,0)),this.nameArray=e,this.correctedPoint=t}var i=(__define,t),r=i.prototype;return r.reverse=function(t){void 0===t&&(t=this.correctedPoint.clone());var i=this.nameArray.concat().reverse();return new e.TextureInfo(i,t)},t}();e.TextureInfo=r,egret.registerClass(r,"disDev.TextureInfo");var n=function(){function e(e,t){this.head=e,this.tail=t}var t=(__define,e);return t.prototype,e}();e.HeadAndTail=n,egret.registerClass(n,"disDev.HeadAndTail")}(disDev||(disDev={}));var disDev;!function(e){var t=function(e){function t(t,i,r,n,s,a){void 0===t&&(t=0),void 0===i&&(i=null),void 0===r&&(r=0),void 0===n&&(n=1),void 0===s&&(s=1),void 0===a&&(a=!0),e.call(this),this.backGroundBitmap=new egret.Bitmap,i&&this.reconstruct(t,i,r,n,s,a)}__extends(t,e);var i=__define,r=t,n=r.prototype;return n.reconstruct=function(e,t,i,r,n,s){if(void 0===t&&(t=null),void 0===i&&(i=0),void 0===r&&(r=1),void 0===n&&(n=1),void 0===s&&(s=!0),1>e)throw new Error("Texture对象列表长度不能小于1");if(1>n||n>e)throw new Error("初始帧start超出有效范围");if(1>r)throw new Error("Texture对象的序号长度不能小于1");var a=e-1+i,o=i+n-1,l=this.checkAndCreateTexture(t+this.getFrameByDigits(o,r));this.$isPlaying=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop()),this.clearLoopPoint(),this.texturePrefix=t,this.min=Math.floor(i),this.max=Math.floor(a),this.start=Math.floor(o),this.digits=Math.floor(r),this.$totalFrames=this.max-this.min+1,this.$currentFrame=this.start-this.min+1,this.setDriver(),this.addChildAt(this.backGroundBitmap,0),this.backGroundBitmap.texture=l,s&&this.play(),this.callBackFunctionCollection=new Array},n.checkAndCreateTexture=function(e){this.$currentTextureName=e;var t=RES.getRes(e);return t||trace("无法获取有效的 Texture: "+e+"，请检查名称拼写，或确认是否已经正常加载该资源"),t},n.addFrameScript=function(e,t,i,r){if(void 0===i&&(i=this),void 0===r&&(r=!0),isNaN(Math.floor(e))||Math.floor(e)<0||Math.floor(e)>this.totalFrames-1)throw new Error("事件帧序号超出有效范围");this.callBackFunctionCollection[Math.floor(e)]=t.bind(i),r&&Math.floor(e)==this.start&&this.executeFrameScript&&this.callBackFunctionCollection[Math.floor(e)].call(null)},n.addFrameScriptOnce=function(e,t,i,r){if(void 0===i&&(i=this),void 0===r&&(r=!0),isNaN(Math.floor(e))||Math.floor(e)<0||Math.floor(e)>this.$totalFrames-1)throw new Error("事件帧序号超出有效范围");this.callBackFunctionCollection[Math.floor(e)]=function(){t.bind(i).call(null),this.removeFrameScript(Math.floor(e))}.bind(this),r&&Math.floor(e)==this.start&&this.executeFrameScript&&this.callBackFunctionCollection[Math.floor(e)].call(null)},n.removeFrameScript=function(e){if(Math.floor(e)<0||Math.floor(e)>this.totalFrames-1)throw new Error("事件帧序号超出有效范围");this.callBackFunctionCollection&&this.callBackFunctionCollection[Math.floor(e)]&&delete this.callBackFunctionCollection[Math.floor(e)]},n.play=function(){return 1==this.$totalFrames?void this.stop():(this.$isPlaying=!0,void(this.$driverType==disTypes.DriverType.FRAME?(this.addEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop())):this.$driverType==disTypes.DriverType.TIMER&&(this.timer||(this.timer=new egret.Timer(this.playInterval)),this.timer.addEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.delay=this.playInterval,this.timer.start())))},n.gotoAndPlay=function(e){if(1==this.$totalFrames)return void this.stop();var t=this.$currentFrame;this.$currentFrame=Math.floor(e),this.$currentFrame<1?this.$currentFrame=1:this.$currentFrame>this.totalFrames&&(this.$currentFrame=this.totalFrames),this.start=this.$currentFrame-1+this.min;var i=this.checkAndCreateTexture(this.texturePrefix+this.getFrameByDigits(this.start,this.digits));this.backGroundBitmap.texture=i,this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&t!=this.$currentFrame&&this.callBackFunctionCollection[this.$currentFrame-1].call(null),this.play()},n.stop=function(){this.$isPlaying=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop()),this.start=this.$currentFrame-1+this.min;var e=this.checkAndCreateTexture(this.texturePrefix+this.getFrameByDigits(this.start,this.digits));this.backGroundBitmap.texture=e},n.gotoAndStop=function(e){if(1==this.$totalFrames)return void this.stop();var t=this.$currentFrame;this.$currentFrame=Math.floor(e),this.$currentFrame<1?this.$currentFrame=1:this.$currentFrame>this.totalFrames&&(this.$currentFrame=this.totalFrames),this.stop(),this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&t!=this.$currentFrame&&this.callBackFunctionCollection[this.$currentFrame-1].call(null)},n.playHandler=function(){if(this.$isPlaying&&this.executeDriverType)if(this.$driverType==disTypes.DriverType.FRAME){for(this.currentInterval++;this.currentInterval>=2*this.playInterval;)if(this.currentInterval-=this.playInterval,this.autoNextFrame(!1),!this.$isPlaying)return;this.currentInterval>=this.playInterval&&(this.currentInterval-=this.playInterval,this.autoNextFrame(!0))}else this.$driverType==disTypes.DriverType.TIMER&&this.autoNextFrame()},n.autoNextFrame=function(e){if(void 0===e&&(e=!0),this.start<=this.max&&this.start++,this.start>this.max&&(this.isPlaying?this.start=this.min:this.start=this.max),this.executeLoop&&this.isPlaying&&this.$currentFrame==this.$loopEndFrame&&(this.start=this.$loopStartFrame-1+this.min),this.executeLoop&&this.isPlaying&&this.$currentFrame>=this.$loopStartFrame&&this.$currentFrame<=this.$loopEndFrame&&(this.driverType!=this.$driverTypeOnLooping||this.$playIntervalOnLooping!=this.playInterval)&&this.setDriver(this.$driverTypeOnLooping,this.$playIntervalOnLooping),this.$currentFrame=this.start-this.min+1,e){var t=this.checkAndCreateTexture(this.texturePrefix+this.getFrameByDigits(this.start,this.digits));this.backGroundBitmap.texture=t}this.executeLoop&&this.isPlaying&&this.$currentFrame==this.$loopStartFrame&&this.$currentFrame==this.$loopEndFrame&&(trace("提示: 循环点的起始帧号与结束帧号相同, 自动停止播放"),this.stop()),this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&this.callBackFunctionCollection[this.$currentFrame-1].call(null)},n.autoPrevFrame=function(e){if(void 0===e&&(e=!0),this.start>this.min&&this.start--,this.start<this.min&&(this.start=this.min),this.$currentFrame=this.start-this.min+1,e){var t=this.checkAndCreateTexture(this.texturePrefix+this.getFrameByDigits(this.start,this.digits));this.backGroundBitmap.texture=t}this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&this.callBackFunctionCollection[this.$currentFrame-1].call(null)},n.nextFrame=function(){this.stop(),this.start<this.max&&this.autoNextFrame()},n.prevFrame=function(){this.stop(),this.start>this.min&&this.autoPrevFrame()},i(n,"currentTextureName",function(){return this.$currentTextureName}),n.getFrameByDigits=function(e,t){1>t&&(t=1),t=Math.floor(t);for(var i=e.toString();i.length<t;)i=0+i;return i},i(n,"smoothing",function(){return this.backGroundBitmap.smoothing},function(e){this.backGroundBitmap.smoothing=e}),n.destroy=function(){e.prototype.destroy.call(this),this.backGroundBitmap&&this.contains(this.backGroundBitmap)&&this.removeChild(this.backGroundBitmap),this.callBackFunctionCollection=null},n.setDriver=function(e,t){if(void 0===e&&(e=disTypes.DriverType.FRAME),void 0===t&&(t=1),0>=t)throw new Error("驱动间隔不能等于或小于0！");this.executeDriverType&&(this.$driverType=e,this.playInterval=t,this.currentInterval=0,this.isPlaying&&(this.removeEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop()),this.play()))},i(n,"driverType",function(){return this.$driverType}),t}(e.AbstractAnimation);e.AnimationLite=t,egret.registerClass(t,"disDev.AnimationLite",["disDev.IAnimation","disDev.IDisplayObjectLite","egret.IEventDispatcher"])}(disDev||(disDev={}));var disDev;!function(e){var t=function(e){function t(t,i,r,n){void 0===t&&(t=1),void 0===i&&(i=null),void 0===r&&(r=1),void 0===n&&(n=!0),e.call(this),this.start=1,this.$isAutoEnter=!1,this.reconstruct(t,i,r,n)}__extends(t,e);var i=__define,r=t,n=r.prototype;return n.reconstruct=function(e,t,i,r){if(void 0===t&&(t=null),void 0===i&&(i=1),void 0===r&&(r=!0),1>e)throw new Error("totalFrames 不能小于1");if(this.$totalFrames=Math.floor(e),1>i||i>this.$totalFrames)throw new Error("startFrame 超出有效范围");this.$isPlaying=!1,this.destroy(),this.clearLoopPoint(),this.$currentFrame=Math.floor(i),this.start=this.$currentFrame,this.setDriver(),t&&t.length>0&&(this.resetAnimations(t),r?this.gotoAndPlay(this.start):this.gotoAndStop(this.start)),this.callBackFunctionCollection=new Array},n.resetAnimations=function(e){for(;this.numChildren>0;)this.removeChildAt(0);this.anmArray=new Array;for(var t=0;t<e.length;t++)this.addAnimation(e[t])},n.addAnimation=function(e){return this.addAnimationAt(e,this.numChildren)},n.addAnimationAt=function(e,t){if(this.anmArray||(this.anmArray=new Array),this.$totalFrames!=e.totalFrames)throw new Error("子动画与"+this.__class__+"的 totalFrames 不一致");this.anmArray.push(e),e.executeFrameScript=!1,e.executeLoop=!1,e.executeDriverType=!1;var i=e;return this.addChildAt(i,t),e},n.setAnimationIndex=function(e,t){this.setChildIndex(e,t)},n.removeAnimation=function(e){this.removeChild(e)},n.removeAnimationAt=function(e){this.removeChildAt(e)},n.stepAllLayer=function(){for(var e=0;e<this.anmArray.length;e++)this.anmArray[e].gotoAndStop(this.currentFrame)},n.addFrameScript=function(e,t,i,r){if(void 0===i&&(i=this),void 0===r&&(r=!0),isNaN(Math.floor(e))||Math.floor(e)<0||Math.floor(e)>this.$totalFrames-1)throw new Error("事件帧序号超出有效范围");this.callBackFunctionCollection[Math.floor(e)]=t.bind(i),r&&Math.floor(e)==this.start&&this.executeFrameScript&&this.callBackFunctionCollection[Math.floor(e)].call(null)},n.addFrameScriptOnce=function(e,t,i,r){if(void 0===i&&(i=this),void 0===r&&(r=!0),isNaN(Math.floor(e))||Math.floor(e)<0||Math.floor(e)>this.$totalFrames-1)throw new Error("事件帧序号超出有效范围");this.callBackFunctionCollection[Math.floor(e)]=function(){t.bind(i).call(null),this.removeFrameScript(Math.floor(e))}.bind(this),r&&Math.floor(e)==this.start&&this.executeFrameScript&&this.callBackFunctionCollection[Math.floor(e)].call(null)},n.removeFrameScript=function(e){if(Math.floor(e)<0||Math.floor(e)>this.$totalFrames-1)throw new Error("事件帧序号超出有效范围");this.callBackFunctionCollection&&this.callBackFunctionCollection[Math.floor(e)]&&delete this.callBackFunctionCollection[Math.floor(e)]},n.play=function(){
return 1==this.$totalFrames?void this.stop():(this.$isPlaying=!0,this.$driverType==disTypes.DriverType.FRAME?(this.addEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop())):this.$driverType==disTypes.DriverType.TIMER&&(this.timer||(this.timer=new egret.Timer(this.playInterval)),this.timer.addEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.delay=this.playInterval,this.timer.start()),void this.stepAllLayer())},n.gotoAndPlay=function(e){if(1==this.$totalFrames)return void this.stop();this.$isAutoEnter=!1;var t=this.$currentFrame;this.$currentFrame=Math.floor(e),this.$currentFrame<1?this.$currentFrame=1:this.$currentFrame>this.$totalFrames&&(this.$currentFrame=this.$totalFrames),this.start=this.$currentFrame,this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&t!=this.$currentFrame&&this.callBackFunctionCollection[this.$currentFrame-1].call(null),this.play()},n.stop=function(){this.$isPlaying=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop()),this.start=this.$currentFrame,this.stepAllLayer()},n.gotoAndStop=function(e){if(1==this.$totalFrames)return void this.stop();this.$isAutoEnter=!1;var t=this.$currentFrame;this.$currentFrame=Math.floor(e),this.$currentFrame<1?this.$currentFrame=1:this.$currentFrame>this.$totalFrames&&(this.$currentFrame=this.$totalFrames),this.stop(),this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&t!=this.$currentFrame&&this.callBackFunctionCollection[this.$currentFrame-1].call(null)},n.playHandler=function(){if(this.$isPlaying&&this.executeDriverType)if(this.$driverType==disTypes.DriverType.FRAME){for(this.currentInterval++;this.currentInterval>=2*this.playInterval;)if(this.currentInterval-=this.playInterval,this.autoNextFrame(!1),!this.$isPlaying)return;this.currentInterval>=this.playInterval&&(this.currentInterval-=this.playInterval,this.autoNextFrame(!0))}else this.$driverType==disTypes.DriverType.TIMER&&this.autoNextFrame()},n.autoNextFrame=function(e){void 0===e&&(e=!0),this.$isAutoEnter=!0,this.start<=this.$totalFrames&&this.start++,this.start>this.$totalFrames&&(this.isPlaying?this.start=1:this.start=this.$totalFrames),this.executeLoop&&this.isPlaying&&this.$currentFrame==this.$loopEndFrame&&(this.start=this.$loopStartFrame);var t=this.$currentFrame;this.$currentFrame=this.start,this.executeLoop&&this.isPlaying&&this.start==this.$loopStartFrame&&this.start==this.$loopEndFrame&&(trace("提示: 循环点的起始帧号与结束帧号相同, 自动停止播放"),this.stop()),this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&t!=this.$currentFrame&&this.callBackFunctionCollection[this.$currentFrame-1].call(null),this.$isPlaying&&this.stepAllLayer()},n.autoPrevFrame=function(e){void 0===e&&(e=!0),this.start>1&&(this.start--,this.$isAutoEnter=!0),this.start<1&&(this.start=1),this.$currentFrame=this.start,this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&this.callBackFunctionCollection[this.$currentFrame-1].call(null),this.stepAllLayer()},n.nextFrame=function(){this.stop(),this.start<this.$totalFrames&&this.autoNextFrame()},n.prevFrame=function(){this.stop(),this.start>1&&this.autoPrevFrame()},i(n,"isAutoEnter",function(){return this.$isAutoEnter}),n.destroy=function(){for(e.prototype.destroy.call(this);this.numChildren>0;){if(egret.is(this.getChildAt(0),"disDev.AbstractAnimation")){var t=this.getChildAt(0);t.destroy()}this.removeChildAt(0)}this.anmArray=null},n.setDriver=function(e,t){if(void 0===e&&(e=disTypes.DriverType.FRAME),void 0===t&&(t=1),0>=t)throw new Error("驱动间隔不能等于或小于0！");this.executeDriverType&&(this.$driverType=e,this.playInterval=t,this.$driverTypeOnLooping=this.$driverType,this.$playIntervalOnLooping=this.playInterval,this.currentInterval=0,e==disTypes.DriverType.FRAME&&this.playInterval%1!=0?trace("提示: 当前采用逐帧驱动方式, playInterval不是整数("+this.playInterval+"), 将会出现丢帧的情况"):e==disTypes.DriverType.TIMER&&this.playInterval<16&&trace("提示: 当前采用计时器驱动方式, playInterval低于下限16毫秒("+this.playInterval+"), 将自动调整为 帧/16毫秒 的频率"),this.isPlaying&&(this.removeEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop()),this.play()))},i(n,"frameInterval",void 0,function(e){this.setDriver(disTypes.DriverType.FRAME,e)}),i(n,"timerInterval",void 0,function(e){this.setDriver(disTypes.DriverType.TIMER,e)}),i(n,"driverType",function(){return this.$driverType}),t}(e.AbstractAnimation);e.AnimationMerger=t,egret.registerClass(t,"disDev.AnimationMerger",["disDev.IAnimation","disDev.IDisplayObjectLite","egret.IEventDispatcher"])}(disDev||(disDev={}));var disDev;!function(e){var t=function(t){function i(e,i,r){void 0===e&&(e=null),void 0===i&&(i=e),void 0===r&&(r=e),t.call(this),this.reconstruct(e,i,r)}__extends(i,t);var r=__define,n=i,s=n.prototype;return s.reconstruct=function(t,i,r){void 0===i&&(i=t),void 0===r&&(r=t),this.$normalTexture=t,this.$pressTexture=i,this.$disabledTexture=r,this.$normalStatus=new e.ButtonStatus,this.$pressStatus=null,this.$disabledStatus=null,this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.stage&&(this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this),this.$stageObj=null),this.turnNormal(),this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this)},s.setScale9Grids=function(e){this.normalScale9Grid=e.normalGrid,this.pressScale9Grid=e.pressGrid,this.disabledScale9Grid=e.disabledGrid},r(s,"touchRangeShape",function(){return this.$touchRangeShape},function(e){this.$touchRangeShape&&this.$touchRangeShape.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.$touchRangeShape=e,this.$touchRangeShape?(this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.$touchRangeShape.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this)):this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.touchEnabled=this.$touchEnabled}),s.onTouchBegin=function(e){this.turnPress(),this.stage&&(this.$stageObj=this.stage,this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this))},s.touchMove=function(e){var t=this.globalToLocal(e.stageX,e.stageY);if(this.$touchRangeShape)if(egret.is(this.$touchRangeShape,"egret.Shape"))this.$touchRangeShape.hitTestPoint(e.stageX,e.stageY,!0)?"press"!=this.$currentTexture&&this.turnPress():"normal"!=this.$currentTexture&&this.turnNormal();else{var i=this.$touchRangeShape.x-this.$touchRangeShape.anchorOffsetX,r=this.$touchRangeShape.y-this.$touchRangeShape.anchorOffsetY,n=new egret.Rectangle(i,r,this.$touchRangeShape.width*this.$touchRangeShape.scaleX,this.$touchRangeShape.height*this.$touchRangeShape.scaleY);e.stageX<n.left||e.stageY<n.top||e.stageX>n.right||e.stageY>n.bottom?"normal"!=this.$currentTexture&&this.turnNormal():"press"!=this.$currentTexture&&this.turnPress()}else{var n=this.getBounds(),s=new egret.Rectangle(n.x+this.anchorOffsetX,n.y+this.anchorOffsetY,n.width,n.height);t.x<s.x||t.y<s.y||t.x>s.x+s.width||t.y>s.y+s.height?"normal"!=this.$currentTexture&&this.turnNormal():"press"!=this.$currentTexture&&this.turnPress()}},s.touchEnd=function(e){this.turnNormal(),this.$stageObj&&(this.$stageObj.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this),this.$stageObj.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this),this.$stageObj=null)},s.refrash=function(){switch(this.$currentTexture){case"normal":this.turnNormal();break;case"press":this.turnPress();break;case"disabled":this.turnDisabled()}},s.turnNormal=function(){this.scale9Grid=this.$normalScale9Grid,this.texture=RES.getRes(this.$normalTexture),this.$currentTexture="normal",this.$normalStatus&&(this.anchorOffsetX=this.$normalStatus.anchorOffsetX,this.anchorOffsetY=this.$normalStatus.anchorOffsetY,this.scaleX=this.$normalStatus.scaleX,this.scaleY=this.$normalStatus.scaleY,this.rotation=this.$normalStatus.rotation,this.alpha=this.$normalStatus.alpha)},s.turnPress=function(){this.scale9Grid=this.$pressScale9Grid,this.texture=RES.getRes(this.$pressTexture),this.$currentTexture="press",this.$pressStatus&&(this.anchorOffsetX=this.$pressStatus.anchorOffsetX,this.anchorOffsetY=this.$pressStatus.anchorOffsetY,this.scaleX=this.$pressStatus.scaleX,this.scaleY=this.$pressStatus.scaleY,this.rotation=this.$pressStatus.rotation,this.alpha=this.$pressStatus.alpha)},s.turnDisabled=function(){this.scale9Grid=this.$disabledScale9Grid,this.texture=RES.getRes(this.$disabledTexture),this.$currentTexture="disabled",this.$disabledStatus&&(this.anchorOffsetX=this.$disabledStatus.anchorOffsetX,this.anchorOffsetY=this.$disabledStatus.anchorOffsetY,this.scaleX=this.$disabledStatus.scaleX,this.scaleY=this.$disabledStatus.scaleY,this.rotation=this.$disabledStatus.rotation,this.alpha=this.$disabledStatus.alpha)},r(s,"normalStatus",function(){return this.$normalStatus},function(e){this.$normalStatus=e,this.refrash()}),r(s,"pressStatus",function(){return this.$pressStatus},function(e){this.$pressStatus=e,this.refrash()}),r(s,"disabledStatus",function(){return this.$disabledStatus},function(e){this.$disabledStatus=e,this.refrash()}),r(s,"touchEnabled",function(){return this.$touchEnabled},function(e){0==e?(this.touchEnd(null),this.turnDisabled()):1==e&&("press"==this.$currentTexture?this.turnPress():this.turnNormal()),this.$touchRangeShape?(t.prototype.$setTouchEnabled.call(this,!1),this.$touchRangeShape.touchEnabled=e):t.prototype.$setTouchEnabled.call(this,e),this.$touchEnabled=e}),r(s,"normalScale9Grid",function(){return this.$normalScale9Grid},function(e){this.$normalScale9Grid=e,"normal"==this.$currentTexture&&this.turnNormal()}),r(s,"pressScale9Grid",function(){return this.$pressScale9Grid},function(e){this.$pressScale9Grid=e,"press"==this.$currentTexture&&this.turnPress()}),r(s,"disabledScale9Grid",function(){return this.$disabledScale9Grid},function(e){this.$disabledScale9Grid=e,"disabled"==this.$currentTexture&&this.turnDisabled()}),r(s,"scaleWidth",function(){return this.width*this.scaleX},function(e){this.scaleX=e/this.width}),r(s,"scaleHeight",function(){return this.height*this.scaleY},function(e){this.scaleY=e/this.height}),s.destroy=function(){this.texture=null,this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.$stageObj&&(this.$stageObj.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this),this.$stageObj.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this),this.$stageObj=null)},i}(egret.Bitmap);e.ButtonLite=t,egret.registerClass(t,"disDev.ButtonLite",["disDev.IDisplayObjectLite","egret.IEventDispatcher"]);var i=function(){function e(e,t,i){void 0===t&&(t=e),void 0===i&&(i=e),this.normalGrid=e,this.pressGrid=t,this.disabledGrid=i}var t=(__define,e);return t.prototype,e}();e.Scale9Grids=i,egret.registerClass(i,"disDev.Scale9Grids");var r=function(){function e(e,t,i,r,n,s){void 0===e&&(e=1),void 0===t&&(t=1),void 0===i&&(i=0),void 0===r&&(r=0),void 0===n&&(n=1),void 0===s&&(s=0),this.scaleX=1,this.scaleY=1,this.anchorOffsetX=0,this.anchorOffsetY=0,this.alpha=1,this.rotation=0,this.scaleX=e,this.scaleY=t,this.anchorOffsetX=i,this.anchorOffsetY=r,this.alpha=n,this.rotation=s}var t=(__define,e);return t.prototype,e}();e.ButtonStatus=r,egret.registerClass(r,"disDev.ButtonStatus")}(disDev||(disDev={}));var disDev;!function(e){var t=function(e){function t(t){e.call(this),this.fcoArray=t,this.frameDisplayObjectsArray=new Object,this.labelFromIndex=new Object,this.indexFromLabel=new Object,this.continuationFromIndex=new Object,this.layerFromIndex=new Object;for(var i=0;i<t.length;i++){var r=t[i].frame-1;this.frameDisplayObjectsArray[r]=t[i].classNameArray,this.indexFromLabel["label_"+t[i].frameLabel]=r,this.labelFromIndex[r]=t[i].frameLabel,this.continuationFromIndex=t[i].continuation,this.layerFromIndex=t[i].layer}}__extends(t,e);var i=__define,r=t,n=r.prototype;return n.gotoAndStop=function(e){},i(n,"scaleWidth",function(){return this.width*this.scaleX},function(e){this.scaleX=e/this.width}),i(n,"scaleHeight",function(){return this.height*this.scaleY},function(e){this.scaleY=e/this.height}),n.destroy=function(){},t}(egret.Sprite);e.MovieClipPlus=t,egret.registerClass(t,"disDev.MovieClipPlus",["disDev.IDisplayObjectLite","egret.IEventDispatcher"])}(disDev||(disDev={}));var FrameContentObject=function(){function e(e,t,i,r,n){void 0===t&&(t=null),void 0===i&&(i=null),void 0===r&&(r=1),void 0===n&&(n=0),this.frame=0,this.frame=1>e?1:Math.floor(e),this.classNameArray=t,this.frameLabel=i,this.continuation=1>r?1:Math.floor(r),this.layer=n}var t=(__define,e);return t.prototype,e}();egret.registerClass(FrameContentObject,"FrameContentObject");var TypeAndName=function(){function e(e,t){this.classType=e,this.instanceName=t}var t=(__define,e);return t.prototype,e}();egret.registerClass(TypeAndName,"TypeAndName");var disTypes;!function(e){!function(e){e[e.TopAndLeft=0]="TopAndLeft",e[e.TopAndMiddle=1]="TopAndMiddle",e[e.TopAndRight=2]="TopAndRight",e[e.MiddleAndLeft=3]="MiddleAndLeft",e[e.Center=4]="Center",e[e.MiddleAndRight=5]="MiddleAndRight",e[e.BottomAndLeft=6]="BottomAndLeft",e[e.BottomAndMiddle=7]="BottomAndMiddle",e[e.BottomAndRight=8]="BottomAndRight"}(e.BitmapAlignEnum||(e.BitmapAlignEnum={})),e.BitmapAlignEnum}(disTypes||(disTypes={}));var disTypes;!function(e){var t=function(){function e(){throw new Error(this.__class__+" 是静态成员集成类，无需实例化")}var t=(__define,e);return t.prototype,e.FRAME="runFrame",e.TIMER="runTimer",e}();e.DriverType=t,egret.registerClass(t,"disTypes.DriverType")}(disTypes||(disTypes={}));var HashMap=function(){function e(){this.keyArray=new Array,this.objArray=new Array}var t=__define,i=e,r=i.prototype;return t(e,"hashMapSingleton",function(){return this.instance||(this.instance=new e),this.instance}),r.editPair=function(e,t){var i=this.keyArray.indexOf(e);return-1==i?(this.keyArray.push(e),this.objArray.push(t)):this.objArray[i]=t,new HashPair(e,t)},r.getObject=function(e){var t=this.keyArray.indexOf(e);return-1!=t?this.objArray[t]:null},r.deletePair=function(e){var t=this.keyArray.indexOf(e);-1!=t&&(this.keyArray.splice(t,1),this.objArray.splice(t,1))},r.getKeyListCopy=function(){return this.keyArray.concat()},r.getObjectListCopy=function(){return this.objArray.concat()},r.reverseDeletePair=function(e){for(var t=0;t<this.objArray.length;t++)this.objArray[t]===e&&(this.keyArray.splice(t,1),this.objArray.splice(t,1),t--)},e}();egret.registerClass(HashMap,"HashMap");var HashPair=function(){function e(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.key=e,this.object=t}var t=(__define,e);return t.prototype,e}();egret.registerClass(HashPair,"HashPair");var esm;!function(e){var t=function(){function e(){throw new Error(this.__class__+" 是静态方法集成类，不需要实例化")}var t=__define,i=e;return i.prototype,t(e,"isOpen",function(){return e._isSoundOpen},function(t){e._isSoundOpen=t,e._isSoundOpen?e.setAllVolumeToDefault():(e.setAllVolume(0),e.stopAllSound())}),e.registerSound=function(t,i,r){if(void 0===r&&(r=1),!i)throw new Error("用于注册的音效不能为null，请检查声音文件是否已成功加载(url是否正确？是否已添加到groups的keys？)");if(e.soundObject||(e.soundObject=new Object,e.defaultVolumeObject=new Object),e.soundObject[t])throw new Error("该音效名称已被注册");i.type=egret.Sound.MUSIC,e.soundObject[t]=i,e.defaultVolumeObject[t]=r},e.initAllSoundWithExtreme=function(){if(!e.soundObject)throw new Error("该音效尚未被注册和实例化");var t=e.isOpen;e.isOpen=!0;for(var i in e.soundObject)e.playSound(i,0,1,0,0);e.stopAllSound(),e.isOpen=t},e.playSoundSingle=function(t,i,r,n,s){if(void 0===i&&(i=0),void 0===r&&(r=1),void 0===n&&(n=i),void 0===s&&(s=NaN),!e.soundObject)throw new Error("该音效尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音效尚未被注册和实例化");e.stopAllSound(),e.playSound(t,i,r,n,s)},e.playSound=function(t,i,r,n,s){if(void 0===i&&(i=0),void 0===r&&(r=1),void 0===n&&(n=i),void 0===s&&(s=NaN),!e.soundObject)throw new Error("该音效尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音效尚未被注册和实例化");if(!egret.Capabilities.isMobile||e.isOpen){var a=e.soundObject[t];e.soundChannelObject||(e.soundChannelObject=new Object),e.soundChannelObject[t]&&e.soundChannelObject[t].stop(),e.isOpen?isNaN(s)&&(s=e.defaultVolumeObject[t]):s=0,e.stopSound(t);var o,l=[t,r,n,s];0!=i&&1!=Math.ceil(r)&&n!=i?(o=a.play(i,1),o.addEventListener(egret.Event.SOUND_COMPLETE,e.onSoundComplete,e)):(o=a.play(n,r),0!=r&&o.addEventListener(egret.Event.SOUND_COMPLETE,e.onSoundEnd,e)),o.volume=s,e.hashMap.editPair(o,l),e.soundChannelObject[t]=o}},e.onSoundComplete=function(t){var i=t.currentTarget,r=e.hashMap.getObject(i);e.hashMap.deletePair(i);var n=r[0],s=r[1],a=r[2],o=r[3],l=e.soundObject[n];e.stopSound(n),0==Math.ceil(s)?i=l.play(a,0):(i=l.play(a,Math.ceil(s)-1),i.addEventListener(egret.Event.SOUND_COMPLETE,e.onSoundEnd,e)),i.volume=o,e.hashMap.editPair(i,r),e.soundChannelObject[n]=i,i.removeEventListener(egret.Event.SOUND_COMPLETE,e.onSoundComplete,e)},e.onSoundEnd=function(t){var i=t.currentTarget,r=e.hashMap.getObject(i),n=r[0];i.removeEventListener(egret.Event.SOUND_COMPLETE,e.onSoundEnd,e),e.hashMap.deletePair(i),delete e.soundChannelObject[n]},e.stopSound=function(t){if(!e.soundObject)throw new Error("该音效尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音效尚未被注册和实例化");if(e.soundChannelObject||(e.soundChannelObject=new Object),e.soundChannelObject[t]){var i=e.soundChannelObject[t];i.stop(),i.removeEventListener(egret.Event.SOUND_COMPLETE,e.onSoundComplete,e),i.removeEventListener(egret.Event.SOUND_COMPLETE,e.onSoundEnd,e),e.hashMap.deletePair(i),delete e.soundChannelObject[t]}},e.stopAllSound=function(){if(e.soundChannelObject)for(var t in e.soundChannelObject){var i=e.soundChannelObject[t];i.stop(),i.removeEventListener(egret.Event.SOUND_COMPLETE,e.onSoundComplete,e),i.removeEventListener(egret.Event.SOUND_COMPLETE,e.onSoundEnd,e),e.hashMap.deletePair(i),delete e.soundChannelObject[t]}},e.setVolume=function(t,i){if(!e.soundObject)throw new Error("该音效尚未被注册和实例化");if(e.soundChannelObject||(e.soundChannelObject=new Object),(e.isOpen||0==i)&&e.soundChannelObject[t]){var r=e.soundChannelObject[t];r.volume=i}},e.setAllVolume=function(t){if(e.soundChannelObject&&(e.isOpen||0==t))for(var i in e.soundChannelObject){var r=e.soundChannelObject[i];r.volume=t}},e.setVolumeToDefault=function(t){if(!e.soundObject)throw new Error("该音效尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音效尚未被注册和实例化");if(e.soundChannelObject[t]&&(e.isOpen||0==e.defaultVolumeObject[t])){var i=e.soundChannelObject[t];i.volume=e.defaultVolumeObject[t]}},e.setAllVolumeToDefault=function(){if(e.soundChannelObject)for(var t in e.soundChannelObject){var i=e.soundChannelObject[t];i.volume=e.defaultVolumeObject[t]}},e.setDefaultVolume=function(t,i){if(!e.soundObject)throw new Error("该音效尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音效尚未被注册和实例化");e.defaultVolumeObject[t]=i},e.getDefaultVolume=function(t){if(!e.soundObject)throw new Error("该音效尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音效尚未被注册和实例化");return e.defaultVolumeObject[t]},e.getSoundChannel=function(t){if(!e.soundObject)throw new Error("该音效尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音效尚未被注册和实例化");return e.soundChannelObject?e.soundChannelObject[t]:void 0},e.hashMap=new HashMap,e._isSoundOpen=!0,e}();e.SoundEffectManager=t,egret.registerClass(t,"esm.SoundEffectManager")}(esm||(esm={}));var esm;!function(e){var t=function(){function e(){throw new Error(this.__class__+" 是静态方法集成类，不需要实例化")}var t=__define,i=e;return i.prototype,t(e,"isOpen",function(){return e._isSoundOpen},function(t){e._isSoundOpen=t,e._isSoundOpen?e.setAllVolumeToDefault():(e.setAllVolume(0),e.stopAllSound())}),e.registerSound=function(t,i,r){if(void 0===r&&(r=1),!i)throw new Error("用于注册的音乐不能为null，请检查声音文件是否已成功加载(url是否正确？是否已添加到groups的keys？)");if(e.soundObject||(e.soundObject=new Object,e.defaultVolumeObject=new Object),e.soundObject[t])throw new Error("该音乐名称已被注册");i.type=egret.Sound.MUSIC,e.soundObject[t]=i,e.defaultVolumeObject[t]=r},e.initAllSoundWithExtreme=function(){if(!e.soundObject)throw new Error("该音乐尚未被注册和实例化");var t=e.isOpen;e.isOpen=!0;for(var i in e.soundObject)e.playSound(i,0,1,0,0);e.stopAllSound(),e.isOpen=t},e.playSoundSingle=function(t,i,r,n,s){if(void 0===i&&(i=0),void 0===r&&(r=1),void 0===n&&(n=i),void 0===s&&(s=NaN),!e.soundObject)throw new Error("该音乐尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音乐尚未被注册和实例化");e.stopAllSound(),e.playSound(t,i,r,n,s)},e.playSound=function(t,i,r,n,s){if(void 0===i&&(i=0),void 0===r&&(r=1),void 0===n&&(n=i),void 0===s&&(s=NaN),!e.soundObject)throw new Error("该音乐尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音乐尚未被注册和实例化");if(!egret.Capabilities.isMobile||e.isOpen){var a=e.soundObject[t];e.soundChannelObject||(e.soundChannelObject=new Object),e.soundChannelObject[t]&&e.soundChannelObject[t].stop(),e.isOpen?isNaN(s)&&(s=e.defaultVolumeObject[t]):s=0,e.stopSound(t);var o,l=[t,r,n,s];0!=i&&1!=Math.ceil(r)&&n!=i?(o=a.play(i,1),o.addEventListener(egret.Event.SOUND_COMPLETE,e.onSoundComplete,e)):(o=a.play(n,r),0!=r&&o.addEventListener(egret.Event.SOUND_COMPLETE,e.onSoundEnd,e)),o.volume=s,e.hashMap.editPair(o,l),e.soundChannelObject[t]=o}},e.onSoundComplete=function(t){var i=t.currentTarget,r=e.hashMap.getObject(i);e.hashMap.deletePair(i);var n=r[0],s=r[1],a=r[2],o=r[3],l=e.soundObject[n];e.stopSound(n),0==Math.ceil(s)?i=l.play(a,0):(i=l.play(a,Math.ceil(s)-1),i.addEventListener(egret.Event.SOUND_COMPLETE,e.onSoundEnd,e)),i.volume=o,e.hashMap.editPair(i,r),e.soundChannelObject[n]=i,i.removeEventListener(egret.Event.SOUND_COMPLETE,e.onSoundComplete,e)},e.onSoundEnd=function(t){var i=t.currentTarget,r=e.hashMap.getObject(i),n=r[0];i.removeEventListener(egret.Event.SOUND_COMPLETE,e.onSoundEnd,e),e.hashMap.deletePair(i),delete e.soundChannelObject[n]},e.stopSound=function(t){if(!e.soundObject)throw new Error("该音乐尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音乐尚未被注册和实例化");if(e.soundChannelObject||(e.soundChannelObject=new Object),e.soundChannelObject[t]){var i=e.soundChannelObject[t];i.stop(),i.removeEventListener(egret.Event.SOUND_COMPLETE,e.onSoundComplete,e),i.removeEventListener(egret.Event.SOUND_COMPLETE,e.onSoundEnd,e),e.hashMap.deletePair(i),delete e.soundChannelObject[t]}},e.stopAllSound=function(){if(e.soundChannelObject)for(var t in e.soundChannelObject){var i=e.soundChannelObject[t];i.stop(),i.removeEventListener(egret.Event.SOUND_COMPLETE,e.onSoundComplete,e),i.removeEventListener(egret.Event.SOUND_COMPLETE,e.onSoundEnd,e),e.hashMap.deletePair(i),delete e.soundChannelObject[t]}},e.setVolume=function(t,i){if(!e.soundObject)throw new Error("该音乐尚未被注册和实例化");if(e.soundChannelObject||(e.soundChannelObject=new Object),(e.isOpen||0==i)&&e.soundChannelObject[t]){var r=e.soundChannelObject[t];r.volume=i}},e.setAllVolume=function(t){if(e.soundChannelObject&&(e.isOpen||0==t))for(var i in e.soundChannelObject){var r=e.soundChannelObject[i];r.volume=t}},e.setVolumeToDefault=function(t){if(!e.soundObject)throw new Error("该音乐尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音乐尚未被注册和实例化");if(e.soundChannelObject[t]&&(e.isOpen||0==e.defaultVolumeObject[t])){var i=e.soundChannelObject[t];i.volume=e.defaultVolumeObject[t]}},e.setAllVolumeToDefault=function(){if(e.soundChannelObject)for(var t in e.soundChannelObject){var i=e.soundChannelObject[t];i.volume=e.defaultVolumeObject[t]}},e.setDefaultVolume=function(t,i){if(!e.soundObject)throw new Error("该音乐尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音乐尚未被注册和实例化");e.defaultVolumeObject[t]=i},e.getDefaultVolume=function(t){if(!e.soundObject)throw new Error("该音乐尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音乐尚未被注册和实例化");return e.defaultVolumeObject[t]},e.getSoundChannel=function(t){if(!e.soundObject)throw new Error("该音乐尚未被注册和实例化");if(!e.soundObject[t])throw new Error("该音乐尚未被注册和实例化");return e.soundChannelObject?e.soundChannelObject[t]:void 0},e.hashMap=new HashMap,e._isSoundOpen=!0,e}();e.SoundMusicManager=t,egret.registerClass(t,"esm.SoundMusicManager")}(esm||(esm={}));var AboutBrowser=function(){function e(){}var t=__define,i=e;return i.prototype,t(e,"info",function(){if(e.sys)return e.sys;var t=new BrowserInfo;e.sys=t;var i=navigator.userAgent,r="unAutoPlaySound",n="unControllable",s="unSmooth",a="unWebgl",o="unPluralSounds",l="unOrientation";i.indexOf("MQQBrowser")>-1?(t.browserKey="MQQBrowser",t.description="QQ浏览器","Android"==egret.Capabilities.os&&(t.assess="目前所知最理想的浏览器，美中不足是播放声音稍有延迟",t.fullScreen=3)):i.indexOf("UCBrowser")>-1?(t.browserKey="UCBrowser",t.description="UC浏览器","Android"==egret.Capabilities.os&&(t.isAdvise=!0,t.assess="这款浏览器在安卓系统下，不能控制正在播放的声音的音量，不开启浏览器自带的渲染加速引擎就卡成狗，开了加速又可能会造成破图\n坑爹指数：★★",t.defectList=[s,n])):i.indexOf("DolphinBrowser")>-1?(t.browserKey="DolphinBrowser",t.description="海豚浏览器","Android"==egret.Capabilities.os&&(t.isAdvise=!0,t.assess="这款浏览器在安卓系统下，未手动触发过的声音不能自动播放，必须手动关闭极速内核，才能打开webGL渲染，否则会卡顿或缺失部分UI元素\n坑爹指数：★★",t.defectList=[r])):i.indexOf("2345Browser")>-1?(t.browserKey="2345Browser",t.description="2345浏览器","Android"==egret.Capabilities.os&&(t.isAdvise=!0,t.assess="这款浏览器在安卓系统下，未手动触发过的声音不能自动播放；全屏后不能隐藏手机顶端的信息栏\n坑爹指数：★☆",t.defectList=[r],t.fullScreen=2)):i.indexOf("LeBrowser")>-1?(t.browserKey="LeBrowser",t.description="绿茶浏览器","Android"==egret.Capabilities.os&&(t.isAdvise=!0,t.assess="这款浏览器在安卓系统下，未手动触发过的声音不能自动播放；没有重力感应事件，不能自动转屏\n坑爹指数：★★☆",t.defectList=[r,l],t.fullScreen=2)):i.indexOf("baidubrowser")>-1?i.indexOf("baidubrowser/4")>-1?(t.browserKey="baidubrowser.4",t.description="百度浏览器极速","Android"==egret.Capabilities.os&&(t.isAdvise=!0,t.assess="这款浏览器在安卓系统下，未手动触发过的声音不能自动播放；全屏后打开“设置-->取消 全屏浏览时显示系统通知栏”才能隐藏手机顶端的信息栏\n坑爹指数：★☆",t.defectList=[r],t.fullScreen=2)):i.indexOf("baidubrowser/7")>-1&&(t.browserKey="baidubrowser.7",t.description="百度浏览器","Android"==egret.Capabilities.os&&(t.isAdvise=!0,t.assess="这款浏览器在安卓系统下，未手动触发过的声音不能自动播放，而且不能同时播放2个或2个以上的声音；全屏后打开“设置-->取消 全屏浏览时显示系统通知栏”才能隐藏手机顶端的信息栏 不支持webGL渲染\n坑爹指数：★★☆",t.defectList=[r,o,s],t.fullScreen=2)):i.indexOf("Ydb")>-1?(t.browserKey="Ydb",t.description="悦动浏览器","Android"==egret.Capabilities.os&&(t.isAdvise=!0,t.assess="这款浏览器在安卓系统下，未手动触发过的声音不能自动播放\n坑爹指数：★",t.defectList=[r],t.fullScreen=3)):i.indexOf("chinabrowser")>-1?(t.browserKey="chinabrowser",t.description="中华浏览器","Android"==egret.Capabilities.os&&(t.isAdvise=!0,t.assess="这款浏览器在安卓系统下，未手动触发过的声音不能自动播放\n坑爹指数：★",t.defectList=[r],t.fullScreen=3)):i.indexOf("tiantian")>-1?(t.browserKey="tiantian",t.description="天天浏览器","Android"==egret.Capabilities.os&&(t.isAdvise=!0,t.assess="这款浏览器在安卓系统下，未手动触发过的声音不能自动播放\n坑爹指数：★",t.defectList=[r],t.fullScreen=3)):i.indexOf("SwiftBrowser")>-1?(t.browserKey="SwiftBrowser",t.description="雨燕浏览器","Android"==egret.Capabilities.os&&(t.isAdvise=!0,t.assess="这款浏览器在安卓系统下，未手动触发过的声音不能自动播放；不支持webgl渲染，页面动画不够流畅；没有重力感应事件，不能自动转屏；\n坑爹指数：★★★",t.defectList=[r,s,a,l],t.fullScreen=0)):i.indexOf("MxBrowser")>-1?(t.browserKey="MxBrowser",t.description="遨游云浏览器(android)","Android"==egret.Capabilities.os?(t.isAdvise=!0,t.assess="这款浏览器在安卓系统下，未手动触发过的声音不能自动播放;全屏后 打开“设置-->页面控制-->身临其境模式”才能隐藏手机顶端的信息栏\n坑爹指数：★☆",t.defectList=[r],t.fullScreen=2):t.description="遨游云浏览器"):i.indexOf("LieBaoFast")>-1?(t.browserKey="LieBaoFast",t.description="猎豹浏览器","Android"==egret.Capabilities.os&&(t.isAdvise=!0,t.assess="这款浏览器在安卓系统下，未手动触发过的声音不能自动播放\n坑爹指数：★",t.defectList=[r],t.fullScreen=1)):i.indexOf("360 Aphone Browser")>-1?(t.browserKey="360 Aphone Browser",t.description="360 Aphone浏览器","Android"==egret.Capabilities.os&&(i.indexOf("360browser")>-1&&(t.browserKey="360browser",t.description="360极速浏览器"),t.isAdvise=!0,t.assess="这款浏览器在安卓系统下，未手动触发过的声音不能自动播放\n坑爹指数：★",t.defectList=[r],t.fullScreen=3)):i.indexOf("HaoWangZhiDaQuanHD")>-1?(t.isAdvise=!0,t.browserKey="HaoWangZhiDaQuanHD",t.description="好网址大全浏览器。为了更好的体验，建议更换其他主流浏览器打开本页面"):i.indexOf("SogouMobileBrowser")>-1?(t.browserKey="SogouMobileBrowser","Android"==egret.Capabilities.os&&(t.isAdvise=!0,t.description="搜狗浏览器",t.assess="这款浏览器在安卓系统下，未手动触发过的声音不能自动播放；不支持webgl渲染，页面动画不流畅\n坑爹指数：★★★",t.defectList=[r,s,a],t.fullScreen=3)):i.indexOf("Firefox")>-1?(t.browserKey="Firefox","Android"==egret.Capabilities.os?(t.description="火狐浏览器(android)",t.fullScreen=1):t.description="火狐浏览器"):"Android"==egret.Capabilities.os&&(t.isAdvise=!0,t.defectList=[r,n,a],t.description="您当前使用的浏览器具体名称不详",t.assess="无法识别的安卓浏览器，一律当做不能自动播放声音、不能控制音量的情况处理"),"unkonw"==t.browserKey&&(i.indexOf("Chrome")>-1&&i.indexOf("Safari")>-1?(t.browserKey="Chrome&Safari","Android"==egret.Capabilities.os?t.description="谷歌或其他无法识别的谷歌内核浏览器(android)":t.description="谷歌或其他无法识别的谷歌内核浏览器"):i.indexOf(" OPR")>-1&&i.indexOf("Safari")>-1?(t.browserKey="OPR&Safari","Android"==egret.Capabilities.os?(t.isAdvise,t.description="欧朋浏览器(android)",t.defectList=[r],t.assess="在安卓系统下，不推荐使用欧朋浏览器浏览本页面"):t.description="欧朋浏览器"):i.indexOf("Chrome")>-1?(t.browserKey="Chrome",t.description="您当前使用的浏览器属于Chrome类型，具体名称不详。为了更好的体验，建议更换其他主流浏览器打开本页面"):i.indexOf("Safari")>-1&&(t.browserKey="Safari",t.description="Safari或无法识别的Safari类型浏览器")),"iOS"==egret.Capabilities.os&&(e.info.isWebgl=!1);for(var h in t.defectList){var u=String(t.defectList[h]),c=u.replace("un","is");t[c]=!1}return t}),e.unAutoPlaySound="unAutoPlaySound",e.unControllable="unControllable",e.unSmooth="unSmooth",e.unWebgl="unWebgl",e.unPluralSounds="unPluralSounds",e.unOrientation="unOrientation",e.browserKeyCollection=["UCBrowser","2345Browser","JiSuLiuLanQiHD","searchBrowser","chinabrowser","LeBrowser","CriOS","MQQBrowser","DolphinBrowser","OPiOS","BaiduHD","FlyFlow","baidubrowser","tiantian","SwiftBrowser","FxiOS","FingerBrowser","MXiOS","MxBrowser","LieBaoFast","HaoWangZhiDaQuanHD","SogouMobileBrowser","360 Aphone Browser","360browser","Ydb","Chrome","Firefox","OPR"],e}();egret.registerClass(AboutBrowser,"AboutBrowser");var BrowserInfo=function(){function e(){this.browserKey="unkonw",this.isAdvise=!1,this.description="不知名浏览器",this.fullScreen=0,this.assess="",this.defectList=[],this.isAutoPlaySound=!0,this.isControllable=!0,this.isSmooth=!0,this.isWebgl=!0,this.isPluralSounds=!0,this.isOrientation=!0}var t=(__define,e);return t.prototype,e}();egret.registerClass(BrowserInfo,"BrowserInfo");var ActivateRunTimes=function(){function e(){throw new Error(this.__class__+" 是静态成员集成类，无需实例化")}var t=__define,i=e;return i.prototype,e.start=function(){e.timer&&(e.timer.stop(),e.timer.removeEventListener(egret.TimerEvent.TIMER,e.timerHandler,e)),e.$activateRunTime=0,e.$lastStepTime=egret.getTimer(),e.atStart=e.$lastStepTime,e.getTimerOnStart=e.$lastStepTime,e.timer=new egret.Timer(e.delta),e.timer.addEventListener(egret.TimerEvent.TIMER,e.timerHandler,e),e.timer.start(),e.$isStartUsing=!0},e.stop=function(){e.timer&&(e.timer.stop(),e.timer.removeEventListener(egret.TimerEvent.TIMER,e.timerHandler,e)),e.$isStartUsing=!1},e.addCallbackBeforeStep=function(t,i,r){e.beforeFunHashMap.editPair(t,i.bind(r))},e.removeCallbackBeforeStep=function(t){e.beforeFunHashMap.deletePair(t)},e.addCallbackAfterStep=function(t,i,r){e.afterFunHashMap.editPair(t,i.bind(r))},e.removeCallbackAfterStep=function(t){e.afterFunHashMap.deletePair(t)},e.timerHandler=function(){e.funArray=e.beforeFunHashMap.getObjectListCopy();for(var t in e.funArray)e.funArray[t].call(null);e.$activateRunTime+=e.delta,e.$lastStepTime=egret.getTimer(),e.funArray=e.afterFunHashMap.getObjectListCopy();for(var i in e.funArray)e.funArray[i].call(null)},t(e,"isStartUsing",function(){return e.$isStartUsing}),t(e,"activateTimes",function(){return e.$isStartUsing?Math.round(e.$activateRunTime):(trace("ActivateRunTimes.start() 未被启用"),NaN)}),t(e,"startedTimes",function(){return e.$isStartUsing?Math.round(egret.getTimer()-e.getTimerOnStart):(trace("ActivateRunTimes.start() 未被启用"),
NaN)}),t(e,"deviationTotalTimes",function(){return e.$isStartUsing?Math.round(e.startedTimes-e.$activateRunTime):(trace("ActivateRunTimes.start() 未被启用"),NaN)}),t(e,"deviationCurrentTimes",function(){return e.$isStartUsing?Math.round(egret.getTimer()-e.$lastStepTime):(trace("ActivateRunTimes.start() 未被启用"),NaN)}),e.delta=1e3/60,e.funArray=new Array,e.beforeFunHashMap=new HashMap,e.afterFunHashMap=new HashMap,e}();egret.registerClass(ActivateRunTimes,"ActivateRunTimes");var DragonBonesDataTree=function(){function e(){throw new Error(this.__class__+" 是静态成员集成类，无需实例化")}var t=(__define,e);return t.prototype,e.read=function(t,i){void 0===i&&(i=!1),e.detailed=i;var r=new egret.URLLoader;r.addEventListener(egret.Event.COMPLETE,e.onComplete,e),r.addEventListener(egret.IOErrorEvent.IO_ERROR,e.onError,e),r.load(new egret.URLRequest(t))},e.onError=function(e){trace("读取信息错误,请检查龙骨文件是否存在，或文件的url是否正确")},e.onComplete=function(t){var i=JSON.parse(t.target.data),r=i.armature;trace("数据版本:",i.version),trace("帧频:",i.frameRate,"fps"),trace("文件名:",i.name);for(var n=0,s=0;s<r.length;s++)r[s]&&r[s].name&&n++;if(trace("骨架数量:",n),e.detailed){trace("骨架名称:");for(var a=0;a<r.length;a++)r[a]&&r[a].name&&trace("    ["+a+"] "+r[a].name)}for(a=0;a<r.length;a++){trace("\n\n    "+i.name+" 数据骨架列表节点下标为 ["+a+"] 的骨架名称(data根节点.armature["+a+"].name):",r[a].name),e.detailed&&trace("\n        data根节点.armature["+a+"] 拥有以下子节点对象：");var o,l=r[a];if(e.detailed)for(o in l)trace("                                "+o);o="animation";var h=l.animation,u="";trace("\n        data根节点.armature["+a+"] 节点的骨骼动画信息列表(长度为 "+h.length+"):");for(var c in h)e.detailed?Number(i.version)>=4?trace("                                动画名称(animation["+c+"].name):"+h[c].name,"  总帧数(animation["+c+"].duration):"+(h[c].duration+1),"  默认循环次数(animation["+c+"].playTimes):"+(void 0==h[c].playTimes?1:h[c].playTimes),"  预计默认循环耗时:"+(h[c].duration/i.frameRate).toFixed(4)):trace("                                动画名称(animation["+c+"].name):"+h[c].name,"  总帧数(animation["+c+"].duration):"+(h[c].duration+1),"  默认循环次数(animation["+c+"].loop):"+(void 0==h[c].loop?1:h[c].loop),"  预计默认循环耗时:"+(h[c].duration/i.frameRate).toFixed(4)):u+="\n                                "+h[c].name;e.detailed||trace(u),u="",o="bone";var d,m=l.bone;if(l.slot&&(d=l.slot.concat()),Number(i.version)<4&&r[a].skin&&r[a].skin.length&&(d=r[a].skin[0].slot.concat(),r[a].skin.length>1))for(var p=1;p<r[a].skin.length;p++)r[a].skin[p].slot&&d.concat(r[a].skin[p].slot);trace("\n        data根节点.armature["+a+"] 节点的骨骼部件名称列表(长度为 "+m.length+"):");for(var v in m){var f="undefined";for(var g in d){var y=d[g];if(Number(i.version)>=4){if(y.parent&&y.parent==m[v].name){f=y.name;break}}else if(y.name==m[v].name){f=y.name;break}}e.detailed?"undefined"==f?trace("                                骨骼名称(bone["+v+"].name):"+m[v].name,"  ------未绑定插槽------"):Number(i.version)>=4?trace("                                骨骼名称(bone["+v+"].name):"+m[v].name,"  绑定的插槽名称(slot["+g+"].name):"+f):trace("                                骨骼名称(bone["+v+"].name):"+m[v].name,"  绑定的插槽名称(skin[0].slot["+g+"].name):"+f):u+="\n                                "+m[v].name}if(e.detailed||trace(u),e.detailed){var b=l.skin;trace("\n        data根节点.armature["+a+"] 节点的皮肤信息列表(长度为 "+b.length+"):");for(var p=0;p<b.length;p++){var d=b[p].slot;trace("\n            下标为 ["+p+"] 的皮肤名称(skin["+p+"].name):"+b[p].name+" , 插槽信息列表(长度为"+d.length+"): ");for(var g in d){var C="",E=d[g].display;for(var T in E)C+="   "+E[T].name;var A="";E.length>1&&(A="("+E.length+"个)"),trace(E.length>0?"                                插槽名称 (skin["+p+"].slot["+g+"].name):"+d[g].name+"    嵌入的图像列表(skin["+p+"].slot["+g+"].display)清单"+A+":  "+C:"                                插槽名称 (skin["+p+"].slot["+g+"].name):"+d[g].name+"    ------未嵌入图像------")}}}trace("\n>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>"),trace("<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<")}},e}();egret.registerClass(DragonBonesDataTree,"DragonBonesDataTree");var FrameDelayCaller=function(){function e(){throw new Error(this.__class__+" 是静态成员集成类，无需实例化")}var t=__define,i=e;return i.prototype,e.addCallerOnce=function(t,i,r,n){for(var s=[],a=4;a<arguments.length;a++)s[a-4]=arguments[a];return e.addCallerRepeat.apply(e,[t,i,r,n,1].concat(s))},e.addCallerRepeat=function(t,i,r,n,s){void 0===s&&(s=0);for(var a=[],o=5;o<arguments.length;o++)a[o-5]=arguments[o];if(1>n&&(n=1,trace("提示：间隔帧数intervalFrames 不应该小于1")),null==i)throw new Error("错误：提供给 FrameDelayCaller 的回调函数不能为null");var l;e.objKeyFromCallerHash.getObject(t)?l=e.objKeyFromCallerHash.getObject(t):(e.$objID++,l="objKey"+e.$objID,e.objKeyFromCallerHash.editPair(t,l)),e.idArrFromObjKey[l]||(e.idArrFromObjKey[l]=new Array),e.$useAbleID++;var h=new egret.Shape,u="runnerKey"+e.$useAbleID;e.runnerKeyFromRunnerHash.editPair(h,u),e.idFromRunnerKey[u]=e.$useAbleID,e.functionFromID[e.$useAbleID]=i.bind(r),e.runnerFromID[e.$useAbleID]=h,e.currentFramesFromID[e.$useAbleID]=0,e.intervalFramesFromID[e.$useAbleID]=Math.floor(n),e.currentRepeatsFromID[e.$useAbleID]=0,e.totalRepeatsFromID[e.$useAbleID]=s,e.paramsFromID[e.$useAbleID]=a,e.isPauseFromID[e.$useAbleID]="run",e.objKeyFromID[e.$useAbleID]=l;var c=e.idArrFromObjKey[l];return c.push(e.$useAbleID),h.addEventListener(egret.Event.ENTER_FRAME,e.frameHandler,e),e.$useAbleID},e.frameHandler=function(t){var i=t.currentTarget,r=e.runnerKeyFromRunnerHash.getObject(i),n=e.idFromRunnerKey[r];if("pause"!=e.isPauseFromID[n]&&(e.currentFramesFromID[n]++,!(e.currentFramesFromID[n]<e.intervalFramesFromID[n]))){e.currentFramesFromID[n]=0,e.currentRepeatsFromID[n]++,e.$currentID=n,e.$currentRepeats=e.currentRepeatsFromID[n];var s=e.functionFromID[n],a=e.paramsFromID[n];s.apply(null,a),e.currentRepeatsFromID[n]>=e.totalRepeatsFromID[n]&&e.totalRepeatsFromID[n]>0&&e.clearCallerByID(n),e.$currentID=NaN,e.$currentRepeats=NaN}},e.clearCallerByID=function(t){var i=t;if(e.runnerFromID[i]){var r=e.runnerFromID[i],n=e.runnerKeyFromRunnerHash.getObject(r),s=e.objKeyFromID[i];delete e.idFromRunnerKey[n],delete e.runnerFromID[i],delete e.functionFromID[i],delete e.paramsFromID[i],delete e.currentFramesFromID[i],delete e.intervalFramesFromID[i],delete e.currentRepeatsFromID[i],delete e.totalRepeatsFromID[i],delete e.isPauseFromID[i],delete e.objKeyFromID[i];var a=e.idArrFromObjKey[s],o=a.indexOf(i);a.splice(o,1),0==a.length&&(e.objKeyFromCallerHash.reverseDeletePair(s),delete e.idArrFromObjKey[s]),e.runnerKeyFromRunnerHash.deletePair(r),r.removeEventListener(egret.Event.ENTER_FRAME,e.frameHandler,e)}},e.clearCallerAt=function(t){if(e.objKeyFromCallerHash.getObject(t)){var i=e.objKeyFromCallerHash.getObject(t),r=e.idArrFromObjKey[i],n=r.concat();for(var s in n)e.clearCallerByID(n[s])}},e.clearAllCallers=function(){for(var t in e.idFromRunnerKey)e.clearCallerByID(e.idFromRunnerKey[t]);e.$useAbleID=0,e.$objID=0},e.isPause=function(t){var i=t;return!!e.runnerFromID[i]&&"pause"==e.isPauseFromID[i]},e.pauseCallerByID=function(t){var i=t;if(e.runnerFromID[i]&&!e.isPause(t)){var r=e.runnerFromID[i];r.removeEventListener(egret.Event.ENTER_FRAME,e.frameHandler,e),e.isPauseFromID[i]="pause"}},e.pauseCallerAt=function(t){if(e.objKeyFromCallerHash.getObject(t)){var i=e.objKeyFromCallerHash.getObject(t),r=e.idArrFromObjKey[i],n=r.concat();for(var s in n)e.pauseCallerByID(n[s])}},e.pauseAllCallers=function(){for(var t in e.idFromRunnerKey)e.pauseCallerByID(e.idFromRunnerKey[t])},e.resumeCallerByID=function(t){var i=t;if(e.runnerFromID[i]&&e.isPause(t)){var r=e.runnerFromID[i];r.addEventListener(egret.Event.ENTER_FRAME,e.frameHandler,e),e.isPauseFromID[i]="run"}},e.resumeCallerAt=function(t){if(e.objKeyFromCallerHash.getObject(t)){var i=e.objKeyFromCallerHash.getObject(t),r=e.idArrFromObjKey[i],n=r.concat();for(var s in n)e.resumeCallerByID(n[s])}},e.resumeAllCallers=function(){for(var t in e.idFromRunnerKey)e.resumeCallerByID(e.idFromRunnerKey[t])},e.getCurrentID=function(){return isNaN(e.$currentID)?NaN:e.$currentID},e.getCurrentRepeats=function(){return isNaN(e.$currentRepeats)?NaN:e.$currentRepeats},t(e,"delayCallerList",function(){var t=e.objKeyFromCallerHash.getKeyListCopy();return t?0==t.length?null:t:null}),t(e,"callerIDList",function(){var t=new Array;if(e.idFromRunnerKey)for(var i in e.idFromRunnerKey)t.push(e.idFromRunnerKey[i]);return 0==t.length?null:t}),e.runnerFromID=new Object,e.idFromRunnerKey=new Object,e.currentFramesFromID=new Object,e.intervalFramesFromID=new Object,e.functionFromID=new Object,e.paramsFromID=new Object,e.currentRepeatsFromID=new Object,e.totalRepeatsFromID=new Object,e.idArrFromObjKey=new Object,e.isPauseFromID=new Object,e.objKeyFromID=new Object,e.$useAbleID=0,e.runnerKeyFromRunnerHash=new HashMap,e.$objID=0,e.objKeyFromCallerHash=new HashMap,e}();egret.registerClass(FrameDelayCaller,"FrameDelayCaller");var GetNumChildrenTotal=function(){function e(){}var t=(__define,e);return t.prototype,e.getTotalAt=function(t){return e.count=0,e.getNumChildrenTotal(t),e.count},e.getListAt=function(t){e.lastDisplayObjectArray=e.currentDisplayObjectArray,e.currentDisplayObjectArray=new Array,e.getNumChildrenList(t),e.addedDisplayObjectArray=new Array,e.removedDisplayObjectArray=new Array;for(var i in e.currentDisplayObjectArray)-1==e.lastDisplayObjectArray.indexOf(e.currentDisplayObjectArray[i])&&e.addedDisplayObjectArray.push(e.currentDisplayObjectArray[i]);for(i in e.lastDisplayObjectArray)-1==e.currentDisplayObjectArray.indexOf(e.lastDisplayObjectArray[i])&&e.removedDisplayObjectArray.push(e.lastDisplayObjectArray[i]);var r=[e.currentDisplayObjectArray,e.addedDisplayObjectArray,e.removedDisplayObjectArray];return r},e.getNumChildrenTotal=function(t){e.count+=t.numChildren;for(var i=0;i<t.numChildren;i++)egret.is(t.getChildAt(i),"egret.DisplayObjectContainer")&&e.getNumChildrenTotal.call(null,t.getChildAt(i))},e.getNumChildrenList=function(t){for(var i=0;i<t.numChildren;i++)e.currentDisplayObjectArray.push(t.getChildAt(i)),egret.is(t.getChildAt(i),"egret.DisplayObjectContainer")&&e.getNumChildrenList.call(null,t.getChildAt(i))},e.currentDisplayObjectArray=new Array,e}();egret.registerClass(GetNumChildrenTotal,"GetNumChildrenTotal");var popupAble=!0,TimerDelayCaller=function(){function e(){throw new Error(this.__class__+" 是静态成员集成类，无需实例化")}var t=__define,i=e;return i.prototype,e.addCallerOnce=function(t,i,r,n){for(var s=[],a=4;a<arguments.length;a++)s[a-4]=arguments[a];return e.addCallerRepeat.apply(e,[t,i,r,n,1].concat(s))},e.addCallerRepeat=function(t,i,r,n,s){void 0===s&&(s=0);for(var a=[],o=5;o<arguments.length;o++)a[o-5]=arguments[o];if(0>s)throw new Error("参数 repeatCount 不能小于0");e.$useAbleID++;var l=new egret.Timer(n);if(l.addEventListener(egret.TimerEvent.TIMER,e.timerHandler,e),!e.idVectorFromDelayCallerHash.getObject(t)){var h=new Array;e.idVectorFromDelayCallerHash.editPair(t,h)}return e.idVectorFromDelayCallerHash.getObject(t).push(e.$useAbleID),e.idFromTimerHash.editPair(l,e.$useAbleID),e.delayCallerFromID[e.$useAbleID]=t,e.totalRunTimesFromID[e.$useAbleID]=s,e.currentRunTimesFromID[e.$useAbleID]=0,e.timerFromID[e.$useAbleID]=l,e.functionFromID[e.$useAbleID]=i.bind(r),e.paramsFromID[e.$useAbleID]=a,e.defaultDelayFromID[e.$useAbleID]=n,ActivateRunTimes.isStartUsing?e.startTimeFromID[e.$useAbleID]=ActivateRunTimes.activateTimes:e.startTimeFromID[e.$useAbleID]=egret.getTimer(),e.passTimeFromID[e.$useAbleID]=0,l.start(),e.$useAbleID},e.timerHandler=function(t){var i,r=t.currentTarget,n=e.idFromTimerHash.getObject(r),s=e.functionFromID[n],a=e.paramsFromID[n];if(e.currentRunTimesFromID[n]++,e.currentRunTimesFromID[n]>=e.totalRunTimesFromID[n]&&0!=e.totalRunTimesFromID[n]){if(e.delayCallerFromID[n]){i=e.delayCallerFromID[n];var o=e.idVectorFromDelayCallerHash.getObject(i),l=o.indexOf(n);o.splice(l,1),0==o.length&&e.idVectorFromDelayCallerHash.deletePair(i)}e.idFromTimerHash.deletePair(r),delete e.delayCallerFromID[n],delete e.timerFromID[n],delete e.currentRunTimesFromID[n],delete e.totalRunTimesFromID[n],delete e.functionFromID[n],delete e.paramsFromID[n],delete e.startTimeFromID[n],delete e.passTimeFromID[n],delete e.defaultDelayFromID[n],r.removeEventListener(egret.TimerEvent.TIMER,e.timerHandler,e),r.stop()}else r.delay!=e.defaultDelayFromID[n]&&(r.stop(),r.delay=e.defaultDelayFromID[n],r.start());s.apply(null,a)},e.clearCallerByID=function(t){if(e.timerFromID[t]){var i=e.timerFromID[t];if(e.delayCallerFromID[t]){var r=e.delayCallerFromID[t],n=e.idVectorFromDelayCallerHash.getObject(r);if(n){var s=n.indexOf(t);n.splice(s,1),e.idVectorFromDelayCallerHash.editPair(r,n),0==n.length&&e.idVectorFromDelayCallerHash.deletePair(r)}}e.idFromTimerHash.deletePair(i),delete e.delayCallerFromID[t],delete e.timerFromID[t],delete e.currentRunTimesFromID[t],delete e.totalRunTimesFromID[t],delete e.functionFromID[t],delete e.paramsFromID[t],delete e.startTimeFromID[t],delete e.passTimeFromID[t],delete e.defaultDelayFromID[t],i.removeEventListener(egret.TimerEvent.TIMER,e.timerHandler,e),i.stop()}},e.pauseCallerByID=function(t){if(e.timerFromID[t]){var i=e.timerFromID[t];i.running&&(ActivateRunTimes.isStartUsing?e.passTimeFromID[t]=ActivateRunTimes.activateTimes-e.startTimeFromID[t]:trace("ActivateRunTimes.start() 未被启用，无法计算中继时间"),i.stop())}},e.resumeCallerByID=function(t,i){if(void 0===i&&(i=!0),e.timerFromID[t]){var r=e.timerFromID[t];r.running||(i&&(ActivateRunTimes.isStartUsing?r.delay>e.passTimeFromID[t]?r.delay-=e.passTimeFromID[t]:r.delay=0:trace("ActivateRunTimes.start() 未被启用，无法计算中继时间")),e.startTimeFromID[t]=ActivateRunTimes.activateTimes,r.start())}},e.clearCallerAt=function(t){if(e.idVectorFromDelayCallerHash.getObject(t)){var i=e.idVectorFromDelayCallerHash.getObject(t).concat();for(var r in i)e.clearCallerByID(i[r])}},e.pauseCallerAt=function(t){if(e.idVectorFromDelayCallerHash.getObject(t)){var i=e.idVectorFromDelayCallerHash.getObject(t);for(var r in i)e.pauseCallerByID(i[r])}},e.resumeCallerAt=function(t,i){if(void 0===i&&(i=!0),e.idVectorFromDelayCallerHash.getObject(t)){var r=e.idVectorFromDelayCallerHash.getObject(t);for(var n in r)e.resumeCallerByID(r[n],i)}},e.clearAllCallers=function(){var t=e.idFromTimerHash.getObjectListCopy();for(var i in t)e.clearCallerByID(t[i]);e.$useAbleID=0},e.pauseAllCallers=function(){var t=e.idFromTimerHash.getObjectListCopy();for(var i in t)e.pauseCallerByID(t[i])},e.resumeAllCallers=function(t){void 0===t&&(t=!0);var i=e.idFromTimerHash.getObjectListCopy();for(var r in i)e.resumeCallerByID(i[r],t)},e.hasDelayCaller=function(t){for(var i in e.delayCallerFromID)if(e.delayCallerFromID[i]==t)return!0;return!1},t(e,"delayCallerList",function(){var t=new Array;for(var i in e.delayCallerFromID)t.push(e.delayCallerFromID[i]);return 0==t.length?null:t}),t(e,"callerIDList",function(){var t=e.idFromTimerHash.getObjectListCopy();return 0==t.length?null:t}),e.idVectorFromDelayCallerHash=new HashMap,e.idFromTimerHash=new HashMap,e.delayCallerFromID=new Object,e.timerFromID=new Object,e.functionFromID=new Object,e.totalRunTimesFromID=new Object,e.currentRunTimesFromID=new Object,e.paramsFromID=new Object,e.startTimeFromID=new Object,e.passTimeFromID=new Object,e.defaultDelayFromID=new Object,e.$useAbleID=0,e}();egret.registerClass(TimerDelayCaller,"TimerDelayCaller");var traceAble=!0,localData;!function(e){var t=function(){function e(){this.current=new Current,this.next=new Next}var t=(__define,e);return t.prototype,e}();e.DataValueObject=t,egret.registerClass(t,"localData.DataValueObject")}(localData||(localData={}));var Current=function(){function e(){}var t=__define,i=e,r=i.prototype;return t(r,"awardNumbers",function(){return this.$awardNumbers},function(e){var t=e.split(",");this.$awardNumbers=t[0]+","+t[1]+","+t[2]+","+t[3]+","+t[4]}),e}();egret.registerClass(Current,"Current");var Next=function(){function e(){}var t=(__define,e);return t.prototype,e}();egret.registerClass(Next,"Next");var localData;!function(e){var t=function(){function e(){}var t=(__define,e);return t.prototype,e}();e.RecordValueObject=t,egret.registerClass(t,"localData.RecordValueObject")}(localData||(localData={}));var localData;!function(e){var t=function(){function t(){throw new Error(this.__class__+" 是静态成员集成类，无需实例化")}var i=(__define,t);return i.prototype,t.data=new e.DataValueObject,t.record=new e.RecordValueObject,t}();e.Cache=t,egret.registerClass(t,"localData.Cache")}(localData||(localData={}));var localData;!function(e){var t=function(){function e(){}var t=(__define,e);return t.prototype,e.awardStatus=0,e}();e.CommonVariable=t,egret.registerClass(t,"localData.CommonVariable")}(localData||(localData={}));var Tween=egret.Tween,CommonVariable=localData.CommonVariable,Cache=localData.Cache,SoundEffectManager=esm.SoundEffectManager,SoundMusicManager=esm.SoundMusicManager,Bitmap=egret.Bitmap,DisplayObject=egret.DisplayObject,DisplayObjectContainer=egret.DisplayObjectContainer,Shape=egret.Shape,Sprite=egret.Sprite,TextField=egret.TextField,GameApplication=function(e){function t(){if(e.call(this),this.versionDate="201606281300",ActivateRunTimes.start(),AboutBrowser.info.isOrientation||alert("您的浏览器似乎不支持重力感应事件，不能自动转屏，建议您使用其他浏览器打开本页面"),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),"iOS"==egret.Capabilities.os&&self==top){var t=document.createElement("img");document.body.appendChild(t),this.setWindowTop(),window.scrollTo(0,document.body.scrollHeight),this.setTopID=egret.setInterval(this.setWindowTop,this,500)}this.subscribe(SubjectTypes.LINK_FAULT,this.onFault)}__extends(t,e);var i=(__define,t),r=i.prototype;return r.subscribe=function(e,t,i){void 0===i&&(i=this),ConcreteSubject.addObserver(this,e,t,i)},r.unsubscribe=function(e){void 0===e&&(e=null),ConcreteSubject.removeObserver(this,e)},r.onFault=function(){this.debugInfoLayer.graphics.beginFill(16777215),this.debugInfoLayer.graphics.drawRect(-10,-10,this.stage.stageWidth+20,this.stage.stageHeight+20),this.debugInfoLayer.graphics.endFill();var e=new egret.Bitmap;e.texture=RES.getRes("gameLinkFault_png"),e.x=(this.stage.stageWidth-e.width)/2,e.y=0,this.debugInfoLayer.addChild(e),this.gameLayer.visible=!1,SoundMusicManager.stopAllSound(),SoundMusicManager.isOpen=!1,SoundEffectManager.stopAllSound(),SoundEffectManager.isOpen=!1,TimerDelayCaller.clearAllCallers(),FrameDelayCaller.clearAllCallers(),ActivateRunTimes.stop()},r.setWindowTop=function(){window.scrollTo(0,0)},r.onAddToStage=function(e){egret.startTick(function(e){return dragonBones.WorldClock.clock.advanceTime(1/60),!1},this),!egret.Capabilities.isMobile,this.debugInfoLayer=new egret.Sprite,this.globalEffectLayer=new egret.Sprite,this.versionLayer=new egret.Sprite,this.loadingLayer=new egret.Sprite,this.infoLayer=new egret.Sprite,this.gameLayer=new egret.Sprite,this.addChild(this.gameLayer),this.addChild(this.infoLayer),this.addChild(this.loadingLayer),this.addChild(this.versionLayer),this.addChild(this.globalEffectLayer),this.addChild(this.debugInfoLayer),this.onOrientationChange(),this.stage.addEventListener(egret.StageOrientationEvent.ORIENTATION_CHANGE,this.onOrientationChange,this),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),InitConfig.isShowVersion&&(this.version_txt=new egret.TextField,this.version_txt.bold=!0,this.version_txt.text="ver."+this.versionDate,this.version_txt.size=16,this.version_txt.y=this.stage.stageHeight-20,this.versionLayer.addChild(this.version_txt)),this.subscribe(SubjectTypes.DYNAMIC_COMPLETE,this.onDymamicAssect),connect.NetworkConnector.connectToURL(InitConfig.res_path+"dynamic/dynamic.json",this.getDynamicJson,this)},r.getDynamicJson=function(e){if(e==connect.NetworkConnector.CONNECT_FAULT)this.onDymamicAssect();else{var t=JSON.parse(e);gameData.DynamicLoader.load(t)}},r.onDymamicAssect=function(){this.unsubscribe(SubjectTypes.DYNAMIC_COMPLETE),RES.loadConfig(InitConfig.res_path+"resource/default.res.json",InitConfig.res_path+"resource/")},r.onOrientationChange=function(){if(!egret.Capabilities.isMobile)return void(this.stage.scaleMode=egret.StageScaleMode.SHOW_ALL);if(window.hasOwnProperty("orientation")){var e=Number(window.orientation);0==e||180==e?this.stage.scaleMode=egret.StageScaleMode.SHOW_ALL:this.stage.scaleMode=egret.StageScaleMode.EXACT_FIT}},r.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.loadGroup("loadingFace")},r.onResourceLoadComplete=function(e){"loadingFace"==e.groupName?(document.getElementById("preloading").style.display="none",this.loadingView=new LoadingUI(this.globalEffectLayer),this.loadingLayer.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),this.preLoadList=["gameUI"],RES.loadGroup(this.preLoadList.shift())):this.preLoadList.length>0?RES.loadGroup(this.preLoadList.shift()):0==this.preLoadList.length&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),TimerDelayCaller.addCallerOnce(null,this.createGameScene,this,200))},r.onResourceLoadError=function(e){console.warn("Group:"+e.groupName+" has failed to load"),this.onResourceLoadComplete(e)},r.onResourceProgress=function(e){"loadingFace"!=e.groupName&&this.loadingView.setProgress(e.itemsLoaded,e.itemsTotal)},r.createGameScene=function(){SoundMusicManager.registerSound(SoundNames.BG_GAME,RES.getRes("backGroundMusic_mp3"),.5),SoundMusicManager.registerSound(SoundNames.PLAYING,RES.getRes("rolling_mp3"),.5),SoundEffectManager.registerSound(SoundNames.SECONDS,RES.getRes("second_mp3"),1),SoundEffectManager.registerSound(SoundNames.STOP,RES.getRes("stop_mp3"),1),this.stage.addEventListener("enterGame",this.enterGame,this),this.viewMediator=new gameModule.ViewMediator(this.infoLayer,this.gameLayer),ActivateRunTimes.start(),ActivateRunTimes.addCallbackBeforeStep("timeoutCheaking",this.deviationHandler,this)},r.deviationHandler=function(){ActivateRunTimes.deviationCurrentTimes>3e3&&(trace("等待超时,自动重新登入"),CommonVariable.awardStatus=0,this.loadingLayer.addChild(this.loadingView),this.loadingView.replay(),ConcreteSubject.notify(SubjectTypes.OVER_TIME),FrameDelayCaller.clearAllCallers(),TimerDelayCaller.clearAllCallers(),SoundEffectManager.stopAllSound(),SoundMusicManager.stopAllSound(),egret.Tween.removeAllTweens(),clearInterval(this.timeID),ActivateRunTimes.stop(),this.stage.removeEventListener("enterGame",this.enterGame,this),this.gameRestart())},r.gameRestart=function(){ActivateRunTimes.start(),this.stage.addEventListener("enterGame",this.enterGame,this),FrameDelayCaller.addCallerOnce(null,this.viewMediator.reStart,this.viewMediator,60)},r.enterGame=function(e){this.stage.removeEventListener("enterGame",this.enterGame,this),this.loadingLayer.removeChild(this.loadingView),this.loadingView.stop()},t}(egret.DisplayObjectContainer);egret.registerClass(GameApplication,"GameApplication",["IObserver"]);var LoadingUI=function(e){function t(t){e.call(this),this.container=t,this.createView(),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAdded,this)}__extends(t,e);var i=(__define,t),r=i.prototype;return r.onAdded=function(e){},r.createView=function(){this.loadingBG1=new Bitmap,this.loadingBG1.texture=RES.getRes("loadingBG1_jpg"),this.loadingBG1.scaleX=this.loadingBG1.scaleY=1.43,this.loadingBG2=new Bitmap,this.loadingBG2.texture=RES.getRes("loadingBG2_png"),this.loadingBG2.scaleX=this.loadingBG2.scaleY=1.43,this.loadingBG2.y=1.43*this.loadingBG1.height,this.loadingBG3=new Bitmap,this.loadingBG3.texture=RES.getRes("loadingBG3_jpg"),this.loadingBG3.scaleX=this.loadingBG3.scaleY=1.43,this.loadingBG3.y=this.loadingBG2.y+1.43*this.loadingBG2.height,this.loadingBar=new Bitmap,this.loadingBar.texture=RES.getRes("loadingBar_png"),this.loadingBar.scaleX=this.loadingBar.scaleY=1.43,this.loadingBar.x=-207,this.loadingBar.y=464,this.loadingBarBg=new Bitmap,this.loadingBarBg.texture=RES.getRes("loadingBarBG_jpg"),this.loadingBarBg.scaleX=this.loadingBarBg.scaleY=1.43,this.loadingBarBg.x=257,this.loadingBarBg.y=460,this.progress_txt=new egret.TextField,this.progress_txt.textAlign=egret.HorizontalAlign.CENTER,this.progress_txt.size=16,this.progress_txt.width=50,this.progress_txt.x=466,this.progress_txt.y=469,this.eye1=new disDev.AnimationLite(66,"loadingEyesLight",1,4),this.eye1.setDriver(disTypes.DriverType.FRAME,2.5),this.eye1.x=213,this.eye1.y=455,this.eye2=new disDev.AnimationLite(66,"loadingEyesLight",1,4),this.eye2.setDriver(disTypes.DriverType.FRAME,2.5),this.eye2.scaleX=-1,this.eye2.x=767,this.eye2.y=455,this.fire1=new bones.DragonBonesLoadingEyesFire,this.fire2=new bones.DragonBonesLoadingEyesFire,this.fire1.armature.display.x=528,this.fire1.armature.display.y=293,this.fire2.armature.display.x=453,this.fire2.armature.display.y=293,this.fire1.armature.display.rotation=-45,this.fire2.armature.display.rotation=45,this.fire2.armature.display.scaleX=-1,this.smoke1=new Bitmap,this.smoke1_2=new Bitmap,this.smoke2=new Bitmap,this.smoke2_2=new Bitmap,this.smoke3=new Bitmap,this.smoke1.texture=RES.getRes("smoke1_png"),this.smoke1_2.texture=RES.getRes("smoke1_png"),this.smoke1.scaleX=this.smoke1.scaleY=1.43,this.smoke1_2.scaleX=this.smoke1_2.scaleY=1.43,this.smoke2.texture=RES.getRes("smoke2_png"),this.smoke2_2.texture=RES.getRes("smoke2_png"),this.smoke2.scaleX=this.smoke2.scaleY=1.43,this.smoke2_2.scaleX=this.smoke2_2.scaleY=1.43,this.smoke3.texture=RES.getRes("smoke3_png"),this.smoke3.scaleX=this.smoke3.scaleY=1.43,this.smoke1.x=-97,this.smoke1.y=495,this.smoke1_2.x=this.smoke1.x+this.smoke1.width-138,this.smoke1_2.y=495,this.smoke2.x=-197,this.smoke2.y=495,this.smoke2_2.x=this.smoke2.x+this.smoke2.width-159,this.smoke2_2.y=495,this.smoke3.x=-269,this.smoke3.y=419,this.addChild(this.eye1),this.addChild(this.eye2);var e=new Sprite,t=new Sprite;this.addChild(this.loadingBarBg),this.addChild(this.loadingBar),this.addChild(this.loadingBG1),this.addChild(this.loadingBG2),this.addChild(this.loadingBG3),this.container.addChild(t),this.container.addChild(e),this.container.addChild(this.smoke3),t.addChild(this.smoke2),t.addChild(this.smoke2_2),e.addChild(this.smoke1),e.addChild(this.smoke1_2),this.addChild(this.fire1.armature.display),this.addChild(this.fire2.armature.display),this.addChild(this.progress_txt);for(var i in gameData.DynamicLoader.loadingAssets){var r=gameData.DynamicLoader.object[gameData.DynamicLoader.loadingAssets[i]];r&&this.addChild(r)}this.addEventListener(egret.Event.ENTER_FRAME,this.smokeHandler,this)},r.setProgress=function(e,t){var i=Math.floor(e/t*100);this.loadingBar.x=-207+459*i/100,this.progress_txt.text=i+"%"},r.smokeHandler=function(){this.smoke1.x-=.3,this.smoke1_2.x-=.3,this.smoke1.x+this.smoke1.width<0&&(this.smoke1.x=this.smoke1_2.x+this.smoke1_2.width-138,this.smoke1.parent.addChild(this.smoke1)),this.smoke1_2.x+this.smoke1_2.width<0&&(this.smoke1_2.x=this.smoke1.x+this.smoke1.width-138,this.smoke1_2.parent.addChild(this.smoke1_2)),this.smoke2.x-=.2,this.smoke2_2.x-=.2,this.smoke2.x+this.smoke2.width<0&&(this.smoke2.x=this.smoke2_2.x+this.smoke2_2.width-159,this.smoke2.parent.addChild(this.smoke2)),this.smoke2_2.x+this.smoke2_2.width<0&&(this.smoke2_2.x=this.smoke2.x+this.smoke2.width-159,this.smoke2_2.parent.addChild(this.smoke2_2))},r.replay=function(){this.eye1.play(),this.eye2.play(),this.fire1.armature.animation.play(),this.fire2.armature.animation.play()},r.stop=function(){this.eye1.stop(),this.eye2.stop(),this.fire1.armature.animation.stop(),this.fire2.armature.animation.stop()},r.destroy=function(){},t}(egret.Sprite);egret.registerClass(LoadingUI,"LoadingUI");var bones;!function(e){var t=function(){function e(){if(!e.dragonbonesFactory){var t=RES.getRes("loadingEyesFire_json"),i=RES.getRes("loadingEyesFiretexture_json"),r=RES.getRes("loadingEyesFiretexture_png");e.dragonbonesFactory=new dragonBones.EgretFactory,e.dragonbonesFactory.addDragonBonesData(dragonBones.DataParser.parseDragonBonesData(t)),e.dragonbonesFactory.addTextureAtlas(new dragonBones.EgretTextureAtlas(r,i))}var n=e.dragonbonesFactory,s=n.buildFastArmature("Armature");this.armature=s,e.anmcm?(e.anmcm.bindCacheUserArmature(s),s.enableCache=!0):e.anmcm=s.enableAnimationCache(60,null,!0),s.animation.gotoAndPlay("newAnimation",-1),dragonBones.WorldClock.clock.add(s)}var t=(__define,e);return t.prototype,e}();e.DragonBonesLoadingEyesFire=t,egret.registerClass(t,"bones.DragonBonesLoadingEyesFire")}(bones||(bones={}));var bones;!function(e){var t=function(){function e(){if(!e.dragonbonesFactory){var t=RES.getRes("seraph_json"),i=RES.getRes("seraphtexture_json"),r=RES.getRes("seraphtexture_png");e.dragonbonesFactory=new dragonBones.EgretFactory,e.dragonbonesFactory.addDragonBonesData(dragonBones.DataParser.parseDragonBonesData(t)),e.dragonbonesFactory.addTextureAtlas(new dragonBones.EgretTextureAtlas(r,i))}var n=e.dragonbonesFactory,s=n.buildArmature("Armature");this.armature=s,dragonBones.WorldClock.clock.add(s)}var t=(__define,e);return t.prototype,e}();e.DragonBonesSeraph=t,egret.registerClass(t,"bones.DragonBonesSeraph")}(bones||(bones={}));var gameData;!function(e){var t=function(){function e(){throw new Error(e.__class__+" 是静态方法集成类，不需要实例化")}var t=(__define,e);return t.prototype,e.getData=function(){var t=InitConfig.req_host;InitConfig.isRelease?connect.NetworkConnector.connectToURL(t+"xjssc/ajax?ajaxhandler=GetAwardData&t="+Math.random(),e.onGetData,e):connect.NetworkConnector.connectToURL("localData.json",e.onGetData,e)},e.onGetData=function(t){if(t==connect.NetworkConnector.CONNECT_FAULT)return void(e.dataRequestTimes<10?(egret.setTimeout(e.getData,e,500),e.dataRequestTimes++,trace("reconnect  "+e.dataRequestTimes)):(ConcreteSubject.notify(SubjectTypes.LINK_FAULT),trace("多次访问服务器失败，请检查网络链接并手动刷新页面")));try{var i=JSON.parse(t)}catch(r){return trace("JSON数据解析异常，重新请求数据!"),void e.getData()}e.dataRequestTimes=0;var n=localData.Cache.data;n.time=i.time.toString(),n.current.periodNumber=i.current.periodNumber.toString(),n.current.awardTime=i.current.awardTime.toString(),n.current.awardNumbers=i.current.awardNumbers.toString(),n.next.periodNumber=i.next.periodNumber.toString(),n.next.awardTime=i.next.awardTime.toString(),n.next.awardTimeInterval=i.next.awardTimeInterval.toString(),n.next.delayTimeInterval=i.next.delayTimeInterval.toString(),localData.CommonVariable.resultArray=n.current.awardNumbers.split(","),localData.CommonVariable.timeInterval=Math.round(Number(localData.Cache.data.next.awardTimeInterval)/1e3+Number(localData.Cache.data.next.delayTimeInterval)),trace(CommonVariable.awardStatus),CommonVariable.awardStatus<2?ConcreteSubject.notify(SubjectTypes.GET_INITDATA):Number(n.next.awardTimeInterval)>0&&ConcreteSubject.notify(SubjectTypes.GET_REALDATA)},e.dataRequestTimes=0,e.recordRequestTimes=0,e}();e.DataRequester=t,egret.registerClass(t,"gameData.DataRequester")}(gameData||(gameData={}));var gameData;!function(e){var t=function(){function e(){throw new Error(this.__class__+" 是静态成员集成类，无需实例化")}var t=__define,i=e;return i.prototype,t(e,"CONNECT_COMPLETE",function(){return"connect complete"}),t(e,"CONNECT_FAULT",function(){return"connect fault"}),e.load=function(t){"string"==typeof t&&(t=JSON.parse(t)),e.object.total=t.loading.length+t.game.length,e.object.current=0;for(var i=0;i<t.loading.length;i++)if(t.loading[i].url&&""!=t.loading[i].url){var r=new egret.ImageLoader;r.once(egret.Event.COMPLETE,this.completeHandler,this),r.once(egret.IOErrorEvent.IO_ERROR,this.errorHandler,this),e.loadingAssets.push(t.loading[i].key),editHashPair(r,t.loading[i]),r.load(InitConfig.res_path+t.loading[i].url)}else e.object.current++;
for(var n=0;n<t.game.length;n++)if(t.game[n].url&&""!=t.game[n].url){var r=new egret.ImageLoader;r.once(egret.Event.COMPLETE,this.completeHandler,this),r.once(egret.IOErrorEvent.IO_ERROR,this.errorHandler,this),e.gameAssets.push(t.game[n].key),editHashPair(r,t.game[n]),r.load(InitConfig.res_path+t.game[n].url)}else e.object.current++},e.completeHandler=function(t){var i=t.currentTarget,r=i.data,n=new egret.Bitmap(r),s=getHashObject(i).property;for(var a in s)n[a]=Number(s[a]);e.object[getHashObject(i).key]=n,deleteHashPair(i),e.object.current++,e.object.current==e.object.total&&ConcreteSubject.notify(SubjectTypes.DYNAMIC_COMPLETE)},e.errorHandler=function(t){var i=t.currentTarget;deleteHashPair(i),e.object.current++,e.object.current==e.object.total&&ConcreteSubject.notify(SubjectTypes.DYNAMIC_COMPLETE)},e.loadingAssets=[],e.gameAssets=[],e.object=new Object,e}();e.DynamicLoader=t,egret.registerClass(t,"gameData.DynamicLoader")}(gameData||(gameData={}));var gameModule;!function(e){var t=function(t){function i(){t.call(this),this.isFirst=!0,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAdded,this)}__extends(i,t);var r=(__define,i),n=r.prototype;return n.subscribe=function(e,t,i){void 0===i&&(i=this),ConcreteSubject.addObserver(this,e,t,i)},n.unsubscribe=function(e){void 0===e&&(e=null),ConcreteSubject.removeObserver(this,e)},n.onAdded=function(){this.buildView(),this.addEvents()},n.buildView=function(){this.gameBG=new Bitmap,this.gameBG.texture=RES.getRes("gameBG_png"),this.gameBG.scaleX=this.gameBG.scaleY=1/.7,this.gameBoardBG=new Bitmap,this.gameBoardBG.texture=RES.getRes("gameBoardBG_jpg"),this.gameBoardBG.scaleX=this.gameBoardBG.scaleY=1/.7,this.gameBoardBG.x=171,this.gameBoardBG.y=147,this.boardContainer=new Sprite,this.boardProxy=new viewProxy.BoardProxy(this.boardContainer),this.addChild(this.gameBoardBG),this.addChild(this.boardContainer),this.addChild(this.gameBG);var t=new disDev.AnimationLite(240,"ImageBat1_",0,3);t.setDriver(disTypes.DriverType.FRAME,2.5),t.x=43.8,t.y=43.5,this.addChild(t);var i=new disDev.AnimationLite(250,"ImageBat2_",0,3);i.setDriver(disTypes.DriverType.FRAME,2.5),i.x=612.6,i.y=50.5,this.addChild(i);var r=new disDev.AnimationLite(66,"loadingEyesLight",1,4);r.setDriver(disTypes.DriverType.FRAME,2.5),r.x=148,r.y=128;var n=new disDev.AnimationLite(66,"loadingEyesLight",1,4);n.setDriver(disTypes.DriverType.FRAME,2.5),n.scaleX=-1,n.x=831,n.y=128,this.addChild(r),this.addChild(n);var s=new bones.DragonBonesLoadingEyesFire,a=new bones.DragonBonesLoadingEyesFire;s.armature.display.x=519,s.armature.display.y=20,a.armature.display.x=461,a.armature.display.y=20,s.armature.display.rotation=-35,a.armature.display.rotation=35,a.armature.display.scaleX=-1,this.addChild(s.armature.display),this.addChild(a.armature.display),this.miniBtn=new disDev.ButtonLite("moniBtn0001_png","moniBtn0002_png"),this.miniBtn.x=377,this.miniBtn.y=523,this.addChild(this.miniBtn),this.unMoniAble=new disDev.AnimationLite(7,"unMiniBtn",1,4,1,(!1)),this.unMoniAble.x=377,this.unMoniAble.y=523,this.addChild(this.unMoniAble),this.unMoniAble.visible=!1,this.unMoniAble.setDriver(disTypes.DriverType.FRAME,2.5),this.unMoniAble.addFrameScript(this.unMoniAble.totalFrames-1,function(){this.stop()},this.unMoniAble);var o,l,h,u;o=new disDev.ButtonLite("musicOpen000_png","musicOpen001_png"),l=new disDev.ButtonLite("musicClose000_png","musicClose001_png"),h=new disDev.ButtonLite("effectOpen000_png","effectOpen001_png"),u=new disDev.ButtonLite("effectClose000_png","effectClose001_png"),o.x=886,o.y=7,l.x=886,l.y=7,h.x=927,h.y=41,u.x=927,u.y=41,this.addChild(o),this.addChild(l),this.addChild(h),this.addChild(u),this.soundMediator=new e.SoundMediator(o,l,h,u)},n.addEvents=function(){this.subscribe(SubjectTypes.GET_INITDATA,this.getInitData),this.subscribe(SubjectTypes.GAME_UNMONI,this.unAbleHandler),this.subscribe(SubjectTypes.GAME_INIT,this.gameInit),this.subscribe(SubjectTypes.GAME_START,this.gameStart),this.subscribe(SubjectTypes.GET_MONIDATA,this.getNewData),this.subscribe(SubjectTypes.GET_REALDATA,this.getNewData),this.miniBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.moniHandler,this)},n.init=function(){this.getInitData(),this.isFirst&&(this.isFirst=!1,"iOS"==egret.Capabilities.os?popup("很抱歉，由于IOS系统不允许浏览器自动播放音频，请手动打开声音开关。"):"Android"==egret.Capabilities.os&&(AboutBrowser.info.isAutoPlaySound||popup("很抱歉，您当前所使用的浏览器不支持自动播放音频，请手动打开声音开关。")))},n.gameInit=function(){this.unMoniAble.gotoAndStop(1),CommonVariable.timeInterval<40?this.unAbleHandler():(this.miniBtn.visible=!0,this.unMoniAble.visible=!1),SoundMusicManager.playSoundSingle(SoundNames.BG_GAME,0,0)},n.getInitData=function(){this.boardProxy.getNewData(),this.unMoniAble.gotoAndStop(1),CommonVariable.timeInterval<40?this.unAbleHandler():(this.miniBtn.visible=!0,this.unMoniAble.visible=!1)},n.unAbleHandler=function(){this.miniBtn.visible=!1,this.unMoniAble.visible=!0,this.unMoniAble.currentFrame!=this.unMoniAble.totalFrames&&this.unMoniAble.play()},n.moniHandler=function(e){CommonVariable.isSimulating=!0,this.unMoniAble.gotoAndStop(1),this.unAbleHandler(),ConcreteSubject.notify(SubjectTypes.GAME_START)},n.gameStart=function(){this.boardProxy.play(),SoundMusicManager.playSoundSingle(SoundNames.PLAYING,0,0)},n.getNewData=function(){2==CommonVariable.awardStatus&&(CommonVariable.awardStatus=3),CommonVariable.isSimulating?this.boardProxy.getResult(CommonVariable.resultArray):(CommonVariable.resultArray=Cache.data.current.awardNumbers.split(","),this.boardProxy.getResult(CommonVariable.resultArray))},i}(egret.DisplayObjectContainer);e.GameView=t,egret.registerClass(t,"gameModule.GameView",["IObserver"])}(gameModule||(gameModule={}));var gameModule;!function(e){var t=function(e){function t(){e.call(this),this.buildView(),this.addEvents()}__extends(t,e);var i=(__define,t),r=i.prototype;return r.subscribe=function(e,t,i){void 0===i&&(i=this),ConcreteSubject.addObserver(this,e,t,i)},r.unsubscribe=function(e){void 0===e&&(e=null),ConcreteSubject.removeObserver(this,e)},r.buildView=function(){this.xiaqi=new Bitmap,this.diXqi1=new Bitmap,this.diXqi2=new Bitmap,this.xiaqi.texture=RES.getRes("xiaqi_png"),this.xiaqi.x=67,this.xiaqi.y=237,this.addChild(this.xiaqi),this.diXqi1.texture=RES.getRes("diXqi_png"),this.diXqi1.x=50,this.diXqi1.y=258,this.addChild(this.diXqi1),this.diXqi2.texture=RES.getRes("diXqi_png"),this.diXqi2.x=53,this.diXqi2.y=308,this.addChild(this.diXqi2),this.next_periodNumber=new TextField,this.next_periodNumber.size=14,this.next_periodNumber.textColor=4899402,this.next_periodNumber.bold=!0,this.next_periodNumber.fontFamily="Microsoft YaHei",this.next_periodNumber.textAlign=egret.HorizontalAlign.CENTER,this.next_periodNumber.x=36,this.next_periodNumber.y=261,this.next_periodNumber.width=100,this.next_periodNumber.text="303",this.addChild(this.next_periodNumber),this.clock_txt=new TextField,this.clock_txt.size=20,this.clock_txt.textColor=16766252,this.clock_txt.bold=!0,this.clock_txt.fontFamily="Microsoft YaHei",this.clock_txt.textAlign=egret.HorizontalAlign.CENTER,this.clock_txt.x=216,this.clock_txt.y=120,this.clock_txt.width=100,this.clock_txt.text="00:00:00",this.addChild(this.clock_txt),this.clockProxy=new viewProxy.ClockProxy(this.clock_txt),this.current_periodNumber=new TextField,this.current_periodNumber.size=14,this.current_periodNumber.textColor=4899402,this.current_periodNumber.bold=!0,this.current_periodNumber.fontFamily="Microsoft YaHei",this.current_periodNumber.textAlign=egret.HorizontalAlign.CENTER,this.current_periodNumber.x=39,this.current_periodNumber.y=311,this.current_periodNumber.width=100,this.current_periodNumber.text="302",this.addChild(this.current_periodNumber),this.numArray=new Array(5);for(var e=0;5>e;e++)this.numArray[e]=new disDev.AnimationLite(10,"infoNums_",0,3,1,(!1)),this.numArray[e].x=28+24*e,this.numArray[e].y=337,this.addChild(this.numArray[e]);for(var t in gameData.DynamicLoader.gameAssets){var i=gameData.DynamicLoader.object[gameData.DynamicLoader.gameAssets[t]];i&&this.addChild(i)}},r.addEvents=function(){this.subscribe(SubjectTypes.GAME_START,this.gameStart),this.subscribe(SubjectTypes.GET_REALDATA,this.getRealData),this.subscribe(SubjectTypes.GAME_INIT,this.getInitData),this.subscribe(SubjectTypes.OVER_TIME,this.timeOver)},r.allSoundinit=function(){SoundMusicManager.initAllSoundWithExtreme(),SoundEffectManager.initAllSoundWithExtreme()},r.closeSoundHandler=function(e){},r.openSoundHandler=function(e){},r.init=function(){this.getInitData(),this.clockProxy.start()},r.getInitData=function(){for(var e=Cache.data.current.awardNumbers.split(","),t=0;5>t;t++){var i=Number(e[t]);this.numArray[t].gotoAndStop(i+1),this.numArray[t].visible=!0}this.diXqi1.visible=!0,this.diXqi2.visible=!0,this.next_periodNumber.text=Cache.data.next.periodNumber,this.current_periodNumber.text=Cache.data.current.periodNumber,this.clockProxy.showNumber()},r.getRealData=function(){this.clockProxy.start()},r.gameStart=function(){if(!CommonVariable.isSimulating){this.diXqi1.visible=!1,this.diXqi2.visible=!1,this.next_periodNumber.text="开奖中",this.current_periodNumber.text="开奖中";for(var e=0;5>e;e++)this.numArray[e].visible=!1}},r.timeOver=function(){this.clockProxy.stop()},t}(egret.Sprite);e.InfoView=t,egret.registerClass(t,"gameModule.InfoView",["IObserver"])}(gameModule||(gameModule={}));var gameModule;!function(e){var t=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];this.musicOpenBtn=e[0],this.musicCloseBtn=e[1],this.effectOpenBtn=e[2],this.effectCloseBtn=e[3],"iOS"!=egret.Capabilities.os&&AboutBrowser.info.isAutoPlaySound?(this.musicCloseBtn.visible=!1,this.effectCloseBtn.visible=!1):(SoundEffectManager.isOpen=!1,SoundMusicManager.isOpen=!1,this.musicOpenBtn.visible=!1,this.effectOpenBtn.visible=!1,this.musicCloseBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.initAllSounds,this),this.effectCloseBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.initAllSounds,this)),this.musicOpenBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.musicCloseHandler,this),this.musicCloseBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.musicOpenHandler,this),this.effectOpenBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.effectCloseHandler,this),this.effectCloseBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.effectOpenHandler,this),this.subscribe(SubjectTypes.SOUND_READY,this.soundReadyHandler)}var t=(__define,e),i=t.prototype;return i.subscribe=function(e,t,i){void 0===i&&(i=this),ConcreteSubject.addObserver(this,e,t,i)},i.unsubscribe=function(e){void 0===e&&(e=null),ConcreteSubject.removeObserver(this,e)},i.initAllSounds=function(){SoundMusicManager.initAllSoundWithExtreme(),SoundEffectManager.initAllSoundWithExtreme(),this.musicCloseBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.initAllSounds,this),this.effectCloseBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.initAllSounds,this)},i.soundReadyHandler=function(){},i.musicCloseHandler=function(){SoundMusicManager.isOpen=!1,this.musicOpenBtn.visible=!1,this.musicCloseBtn.visible=!0},i.musicOpenHandler=function(){SoundMusicManager.isOpen=!0,CommonVariable.awardStatus<2?SoundMusicManager.playSoundSingle(SoundNames.BG_GAME,0,0):SoundMusicManager.playSoundSingle(SoundNames.PLAYING,0,0),this.musicOpenBtn.visible=!0,this.musicCloseBtn.visible=!1},i.effectCloseHandler=function(){SoundEffectManager.isOpen=!1,this.effectOpenBtn.visible=!1,this.effectCloseBtn.visible=!0},i.effectOpenHandler=function(){SoundEffectManager.isOpen=!0,this.effectOpenBtn.visible=!0,this.effectCloseBtn.visible=!1},e}();e.SoundMediator=t,egret.registerClass(t,"gameModule.SoundMediator",["IObserver"])}(gameModule||(gameModule={}));var gameModule;!function(e){var t=function(){function t(t,i){this.subscribe(SubjectTypes.GET_INITDATA,this.initGetData,this),this.subscribe(SubjectTypes.LINK_FAULT,this.onFault,this),this.subscribe(SubjectTypes.GAME_INIT,this.init),this.subscribe(SubjectTypes.GET_REALDATA,this.onGetRealData),this.gameView=new e.GameView,this.infoView=new e.InfoView,this.seraphProxy=new viewProxy.SeraphProxy(t),i.addChild(this.gameView),t.addChild(this.infoView),this.gameView.visible=!1,this.infoView.visible=!1,gameData.DataRequester.getData()}var i=(__define,t),r=i.prototype;return r.subscribe=function(e,t,i){void 0===i&&(i=this),ConcreteSubject.addObserver(this,e,t,i)},r.unsubscribe=function(e){void 0===e&&(e=null),ConcreteSubject.removeObserver(this,e)},r.reStart=function(){this.$initRecord=this.$initData=!1,clearTimeout(this.requestID),clearInterval(this.requestID),this.gameView.visible=!1,this.infoView.visible=!1,gameData.DataRequester.getData()},r.initGetData=function(){this.infoView.init(),this.gameView.init(),clearTimeout(this.requestID),clearInterval(this.requestID),this.$initData||(this.gameView.visible=!0,this.infoView.visible=!0,this.gameView.dispatchEvent(new egret.Event("enterGame",(!0))),this.subscribe(SubjectTypes.GET_INITDATA,this.getData,this),this.subscribe(SubjectTypes.GAME_START,this.onGameStart),ConcreteSubject.notify(SubjectTypes.SOUND_READY),ConcreteSubject.notify(SubjectTypes.GAME_INIT)),this.$initData=!0},r.getData=function(){2==CommonVariable.awardStatus&&Number(Cache.data.next.awardTimeInterval)>0&&(clearInterval(this.requestID),clearInterval(this.requestID),CommonVariable.awardStatus=3,TimerDelayCaller.addCallerOnce(null,ConcreteSubject.notify,ConcreteSubject,5e3,SubjectTypes.GAME_END),TimerDelayCaller.addCallerOnce(null,this.init,this,6e3))},r.onFault=function(){clearTimeout(this.requestID),clearInterval(this.requestID)},r.init=function(){clearTimeout(this.requestID),clearInterval(this.requestID),CommonVariable.awardStatus=0,CommonVariable.isSimulating=!1},r.onGetRealData=function(){clearTimeout(this.requestID),clearInterval(this.requestID)},r.onGameStart=function(){CommonVariable.awardStatus=2,this.requestID=setTimeout(this.tryToGetResult.bind(this),6e3)},r.tryToGetResult=function(){if(clearTimeout(this.requestID),CommonVariable.isSimulating){for(var e=0;5>e;e++)CommonVariable.resultArray[e]=Math.floor(10*Math.random()).toString();ConcreteSubject.notify(SubjectTypes.GET_MONIDATA)}else this.requestID=setInterval(gameData.DataRequester.getData.bind(this),3e3)},t}();e.ViewMediator=t,egret.registerClass(t,"gameModule.ViewMediator",["IObserver"])}(gameModule||(gameModule={}));var viewProxy;!function(e){var t=function(){function e(e){this.playCount=0,this.stopCount=0,this.luzhuCount=0,this.boardContainer=e;for(var t=0;5>t;t++)this["boardNums"+t]=new Bitmap,this["boardNums"+t].texture=RES.getRes("gameBoardNums_png"),this["boardNums"+t].scaleX=this["boardNums"+t].scaleY=1/.7,this["boardNums"+t].x=197+118*t,this["boardNums"+t].y=-1096,this["boardFilter"+t]=new Bitmap,this["boardFilter"+t].texture=RES.getRes("gameBoardFilter_png"),this["boardFilter"+t].scaleX=this["boardFilter"+t].scaleY=1/.7,this["boardFilter"+t].anchorOffsetY=10,this["boardFilter"+t].x=197+118*t,this["boardFilter"+t].y=-1096,this["dx"+t]=new Bitmap,this["ds"+(t+10)]=new Bitmap,this["dx"+t].visible=!1,this["ds"+(t+10)].visible=!1,this["boardNums"+t].visible=!1;this.numResult=new Array(5),this.numArray=new Array(15);for(var t=0;15>t;t++)this["num"+t]=new disDev.AnimationLite(10,"gameNum",0,4),this.numArray.push(this["num"+t]),this["num"+t].y=114*Math.floor(t/5)+158,this.boardContainer.addChild(this["num"+t]),this["num"+t].scaleX=this["num"+t].scaleY=1/.7;for(var t=0;5>t;t++)this["num"+t].x=197+118*t,this["num"+(t+5)].x=197+118*t,this["num"+(t+10)].x=197+118*t,this["kuang"+t]=new disDev.AnimationLite(35,"gameKuang",1,4),this["kuang"+t].setDriver(disTypes.DriverType.FRAME,2.5),this["kuang"+t].x=198+118*t,this["kuang"+t].scaleX=this["kuang"+t].scaleY=1/.7,this["kuang"+t].y=272,this.boardContainer.addChild(this["kuang"+t]);this.kuang4.gotoAndPlay(1),this.kuang3.gotoAndPlay(13),this.kuang2.gotoAndPlay(25),this.kuang1.gotoAndPlay(1),this.kuang0.gotoAndPlay(13)}var t=(__define,e),i=t.prototype;return i.playHandler=function(e){for(var t=0;5>t;t++)this["boardFilter"+t].y+=18,this["boardFilter"+t].y>=44&&(this["boardFilter"+t].y-=1140)},i.getNewData=function(e){void 0===e&&(e=null);var t=e;t||(t=Cache.data.current.awardNumbers.split(","));for(var i=0;5>i;i++){var r=Number(t[i]);this["boardNums"+i].y=-1096+114*r,this["num"+(i+5)].gotoAndStop(r+1),this["num"+(i+5)].visible=!0;var n=r+1,s=r-1;n>9&&(n=0),-1==s&&(s=9),this["num"+i].gotoAndStop(n+1),this["num"+(i+10)].gotoAndStop(s+1),this["num"+i].visible=!1,this["num"+(i+10)].visible=!1,this["dx"+i].visible=!0,this["dx"+i].alpha=1,this["ds"+(i+10)].visible=!0,this["ds"+(i+10)].alpha=1,this["dx"+i].parent||(this.boardContainer.addChild(this["dx"+i]),this["dx"+i].x=this["num"+i].x,this["dx"+i].y=this["num"+i].y),this["ds"+(i+10)].parent||(this.boardContainer.addChild(this["ds"+(i+10)]),this["ds"+(i+10)].x=this["num"+(i+10)].x,this["ds"+(i+10)].y=this["num"+(i+10)].y),5>r?this["dx"+i].texture=RES.getRes("xiao_mc_png"):this["dx"+i].texture=RES.getRes("da_mc_png"),r%2==0?this["ds"+(i+10)].texture=RES.getRes("shuang_mc_png"):this["ds"+(i+10)].texture=RES.getRes("dan_mc_png"),this["boardNums"+i].parent&&this["boardNums"+i].parent.removeChild(this["boardNums"+i]),this["boardFilter"+i].parent&&this["boardFilter"+i].parent.removeChild(this["boardFilter"+i]),this["boardNums"+i].visible=!1,this["boardFilter"+i].visible=!1,this["kuang"+i].play(),this["kuang"+i].visible=!0,this["kuang"+i].alpha=1}},i.play=function(){this.playCount=0,this.stopCount=0,this.luzhuCount=0,FrameDelayCaller.clearCallerAt(this);for(var e=0;5>e;e++)this["num"+e].visible=!1,this["num"+(e+5)].visible=!1,this["num"+(e+10)].visible=!1,this["dx"+e].visible=!1,this["dx"+e].alpha=0,this["ds"+(e+10)].visible=!1,this["ds"+(e+10)].alpha=0,this["kuang"+e].stop(),this["kuang"+e].visible=!1,this["boardNums"+e].visible=!0,this["boardFilter"+e].visible=!1,this.boardContainer.addChild(this["boardNums"+e]),this.boardContainer.addChild(this["boardFilter"+e]);FrameDelayCaller.addCallerRepeat(this,this.playOneByOne,this,10,5),FrameDelayCaller.addCallerRepeat(this,this.playing,this,1)},i.playOneByOne=function(){this.playCount++,this["boardNums"+(this.playCount-1)].visible=!1,this["boardFilter"+(this.playCount-1)].visible=!0},i.playing=function(){for(var e=this.stopCount;e<this.playCount;e++)this["boardFilter"+e].y+=18+3*e,this["boardFilter"+e].y>=44&&(this["boardFilter"+e].y-=1140)},i.getResult=function(e){for(var t=0;5>t;t++)this.numResult[t]=Number(e[t]);FrameDelayCaller.addCallerRepeat(this,this.stopOneByOne,this,20,5)},i.stopOneByOne=function(){this.stopCount++,1==this.stopCount&&SoundEffectManager.playSoundSingle(SoundNames.STOP,0,2),this["boardNums"+(this.stopCount-1)].visible=!0,this["boardFilter"+(this.stopCount-1)].visible=!1,this["boardNums"+(this.stopCount-1)].y=this["boardFilter"+(this.stopCount-1)].y,FrameDelayCaller.addCallerRepeat(this["boardNums"+(this.stopCount-1)],this.stopping,this,1,0,this["boardNums"+(this.stopCount-1)],this.stopCount),FrameDelayCaller.addCallerOnce(this["boardNums"+(this.stopCount-1)],this.stopped,this,40,this["boardNums"+(this.stopCount-1)])},i.stopping=function(e,t){e.y+=30+2.5*(t-1),e.y>=44&&(e.y-=1140)},i.stopped=function(e){if(FrameDelayCaller.clearCallerAt(e),e==this.boardNums0)e.y=-1096+114*this.numResult[0];else if(e==this.boardNums1)e.y=-1096+114*this.numResult[1];else if(e==this.boardNums2)e.y=-1096+114*this.numResult[2];else if(e==this.boardNums3){var t=void 0;t=0!=this.numResult[3]?-1096+114*this.numResult[3]:44,e.y=t-150,egret.Tween.get(e).to({y:t},500,egret.Ease.bounceOut)}else if(e==this.boardNums4){var t=void 0;t=0!=this.numResult[4]?-1096+114*this.numResult[4]:44,e.y=t-240,egret.Tween.get(e).to({y:t},800,egret.Ease.bounceOut).call(this.onComplete,this)}},i.onComplete=function(){FrameDelayCaller.clearCallerAt(this),this.luzhuCount=0,this.getNewData(this.numResult);for(var e=0;5>e;e++)this["num"+e].visible=!0,this["num"+(e+5)].visible=!0,this["num"+(e+10)].visible=!0,this["num"+e].alpha=1,this["num"+(e+10)].alpha=1,this["dx"+e].visible=!0,this["dx"+e].alpha=0,this["ds"+(e+10)].visible=!0,this["ds"+(e+10)].alpha=0,this["kuang"+e].play(),this["kuang"+e].visible=!0,this["kuang"+e].alpha=0,this["boardNums"+e].parent&&this["boardNums"+e].parent.removeChild(this["boardNums"+e]),this["boardFilter"+e].parent&&this["boardFilter"+e].parent.removeChild(this["boardFilter"+e]);FrameDelayCaller.addCallerRepeat(this,this.showLuZhu,this,30,5)},i.showLuZhu=function(){this.luzhuCount++;var e=this.luzhuCount-1;egret.Tween.get(this["num"+e]).to({alpha:0},500),egret.Tween.get(this["dx"+e]).wait(300).to({alpha:1},500),egret.Tween.get(this["num"+(e+10)]).to({alpha:0},500),egret.Tween.get(this["ds"+(e+10)]).wait(300).to({alpha:1},500),egret.Tween.get(this["kuang"+e]).to({alpha:1},800),4==e&&FrameDelayCaller.addCallerOnce(this,ConcreteSubject.notify,ConcreteSubject,120,SubjectTypes.GAME_INIT)},e}();e.BoardProxy=t,egret.registerClass(t,"viewProxy.BoardProxy")}(viewProxy||(viewProxy={}));var viewProxy;!function(e){var t=function(){function e(e){this.timeID=0,this.unMoniTips=!1,this.clock_txt=e}var t=(__define,e),i=t.prototype;return i.stop=function(){clearInterval(this.timeID)},i.start=function(){clearInterval(this.timeID),CommonVariable.timeInterval<10&&(CommonVariable.timeInterval=10),this.unMoniTips=!1,CommonVariable.timeInterval++,this.playing(),this.timeID=setInterval(this.playing.bind(this),1e3)},i.playing=function(){CommonVariable.timeInterval--,CommonVariable.timeInterval>359999&&(CommonVariable.timeInterval=359999),CommonVariable.timeInterval<=10&&CommonVariable.timeInterval>0&&(CommonVariable.awardStatus=1,SoundEffectManager.playSound(SoundNames.SECONDS)),CommonVariable.timeInterval<=0&&(CommonVariable.timeInterval=0),CommonVariable.timeInterval<40&&!this.unMoniTips&&(this.unMoniTips=!0,ConcreteSubject.notify(SubjectTypes.GAME_UNMONI));var e=Math.floor(CommonVariable.timeInterval/3600),t=2==e.toString().length?e.toString():"0"+e,i=Math.floor(CommonVariable.timeInterval%3600/60),r=2==i.toString().length?i.toString():"0"+i,n=CommonVariable.timeInterval%60,s=2==n.toString().length?n.toString():"0"+n;CommonVariable.awardStatus<2||CommonVariable.isSimulating?this.clock_txt.text=t+":"+r+":"+s:!CommonVariable.isSimulating&&CommonVariable.timeInterval<=0&&clearInterval(this.timeID),CommonVariable.timeInterval<=0&&CommonVariable.awardStatus<2&&(this.clock_txt.text="开奖中",CommonVariable.isSimulating=!1,CommonVariable.awardStatus=2,ConcreteSubject.notify(SubjectTypes.GAME_START))},i.showNumber=function(){CommonVariable.timeInterval++,this.playing()},e}();e.ClockProxy=t,egret.registerClass(t,"viewProxy.ClockProxy")}(viewProxy||(viewProxy={}));var viewProxy;!function(e){var t=function(){function e(e){this.dragonBonesSeraph=new bones.DragonBonesSeraph,this.armature=this.dragonBonesSeraph.armature,e.addChild(this.armature.display),this.armature.display.x=872,this.armature.display.y=340,this.armature.display.anchorOffsetX=0,this.armature.display.anchorOffsetY=0;var t=this.armature.display;this.display=t,this.armature.animation.timeScale=1,e.addChild(this.armature.display),this.armature.display.visible=!1,this.subscribe(SubjectTypes.GAME_INIT,this.init),this.armature.addEventListener(dragonBones.FrameEvent.ANIMATION_FRAME_EVENT,this.customEvent,this),this.subscribe(SubjectTypes.OVER_TIME,this.timeOver),this.subscribe(SubjectTypes.GAME_START,this.gameStart)}var t=(__define,e),i=t.prototype;return i.subscribe=function(e,t,i){void 0===i&&(i=this),ConcreteSubject.addObserver(this,e,t,i)},i.unsubscribe=function(e){void 0===e&&(e=null),ConcreteSubject.removeObserver(this,e)},i.init=function(){this.armature.display.visible||(this.armature.display.visible=!0,this.gotoAndPlay("in_fly",1),TimerDelayCaller.clearCallerAt(this))},i.timeOver=function(){this.currentAction="",TimerDelayCaller.clearCallerAt(this),this.armature.display.visible=!1},i.gameStart=function(){"await"==this.currentAction&&(TimerDelayCaller.clearCallerAt(this),this.gotoAndPlay("attack"))},i.gotoAndPlay=function(e,t,i,r){void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=1);var n=this.armature.display;n.touchEnabled=!1,this.anms=this.armature.animation.gotoAndPlay(e,0,0,t),this.anms.setCurrentTime(i),this.armature.animation.timeScale=r,this.currentAction=e},i.stop=function(){this.anms&&this.anms.isPlaying&&this.anms.stop()},i.customEvent=function(e){this.armature.display,"in_end"==e.frameLabel?(this.gotoAndPlay("await",0),TimerDelayCaller.addCallerOnce(this,this.gotoAndPlay,this,18e3+5e3*Math.random(),"out_fly",1)):"attack_end"==e.frameLabel?(this.gotoAndPlay("await",0),TimerDelayCaller.addCallerOnce(this,this.gotoAndPlay,this,1e4+3e3*Math.random(),"out_fly",1)):"out_end"==e.frameLabel&&(this.stop(),TimerDelayCaller.addCallerOnce(this,this.gotoAndPlay,this,5e3+2e3*Math.random(),"in_fly",1))},e}();e.SeraphProxy=t,egret.registerClass(t,"viewProxy.SeraphProxy",["IObserver"])}(viewProxy||(viewProxy={}));var SubjectBase=function(){function e(){this.observerCollection={},this.subjectTypeCollection={},this.callBackFunctionsArrayCollection={},this.notifyCollection={},this.obsArray=new Array,this.keyArray=new Array,this.currentKey=0}var t=(__define,e),i=t.prototype;return i.addObserver=function(e,t,i,r){if(null==i)throw new Error("错误：提供给 ConcreteSubject 的回调函数不能为null");var n=this.getKeyByObserver(e);"undefined"==n&&(n=this.createKeyByObserver(e)),(null==this.observerCollection[n]||null==this.observerCollection[n][t])&&(null==this.observerCollection[n]&&(this.observerCollection[n]={}),this.observerCollection[n][t]=i,null==this.callBackFunctionsArrayCollection[t]&&(this.callBackFunctionsArrayCollection[t]=new Array),this.callBackFunctionsArrayCollection[t].push(i.bind(r)),null==this.subjectTypeCollection[t]&&(this.subjectTypeCollection[t]=new Array),this.subjectTypeCollection[t].push(e))},i.removeObserver=function(e,t){void 0===t&&(t=null);var i=this.getKeyByObserver(e);if("undefined"!=i){var r;if(null==t||""==t){for(var n in this.observerCollection[i])r=this.callBackFunctionsArrayCollection[n].indexOf(this.observerCollection[i][n]),this.callBackFunctionsArrayCollection[n].splice(r,1),delete this.observerCollection[i][n],r=this.subjectTypeCollection[n].indexOf(e),this.subjectTypeCollection[n].splice(r,1),0==this.subjectTypeCollection[n].length&&delete this.subjectTypeCollection[n];delete this.observerCollection[i]}else{if(null==this.observerCollection[i][t])return;r=this.callBackFunctionsArrayCollection[t].indexOf(this.observerCollection[i][t]),this.callBackFunctionsArrayCollection[t].splice(r,1),delete this.observerCollection[i][t],r=this.subjectTypeCollection[t].indexOf(e),this.subjectTypeCollection[t].splice(r,1),0==this.subjectTypeCollection[t].length&&delete this.subjectTypeCollection[t];for(n in this.observerCollection[i])if(this.observerCollection[i][n])return;this.clearKeyByObserver(e),delete this.observerCollection[i]}}},i.notify=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(null!=this.callBackFunctionsArrayCollection[e]){this.notifyingSubjectType=e;var r=this.callBackFunctionsArrayCollection[e].concat();for(var n in r){var s=r[n];null!=s&&s.call.apply(s,[null].concat(t))}this.notifyingSubjectType=null}},i.notifyWeakly=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(null!=this.callBackFunctionsArrayCollection[e]){if(null!=this.notifyCollection[e])return this.notifyCollection[e]=null,delete this.notifyCollection[e],void(this.notifyingSubjectType=null);this.notifyCollection[e]=!0,this.notifyingSubjectType=e;var r=this.callBackFunctionsArrayCollection[e].concat();for(var n in r){var s=r[n];null!=s&&s.call.apply(s,[null].concat(t))}this.notifyCollection[e]=null,delete this.notifyCollection[e],this.notifyingSubjectType=null}},i.getObserversFromSubjectType=function(e){var t;return null!=this.subjectTypeCollection[e]&&(t=this.subjectTypeCollection[e].concat()),t},i.hasObserverAndSubjectType=function(e,t){var i=this.getKeyByObserver(e);return null!=this.observerCollection[i]&&null!=this.observerCollection[i][t]},i.getSubjectTypesFromObserver=function(e){var t,i=this.getKeyByObserver(e);if("undefined"!=i){t=new Array;for(var r in this.observerCollection[i])t.push(r)}return t},i.getCurrentSubject=function(){return this.notifyingSubjectType},i.getKeyByObserver=function(e){var t=this.obsArray.indexOf(e);return-1==t?"undefined":this.keyArray[t]},i.createKeyByObserver=function(e){return this.obsArray.push(e),this.keyArray.push("key"+this.currentKey.toString()),("key"+this.currentKey++).toString()},i.clearKeyByObserver=function(e){var t=this.obsArray.indexOf(e);this.obsArray.splice(t,1),this.keyArray.splice(t,1)},e}();egret.registerClass(SubjectBase,"SubjectBase",["ISubject"]);var ConcreteSubject=function(){function e(){throw new Error(e.__class__+" 是静态成员集成类，无需实例化")}var t=(__define,e);return t.prototype,e.addObserver=function(t,i,r,n){e.subjectObj.addObserver(t,i,r,n)},e.removeObserver=function(t,i){void 0===i&&(i=null),e.subjectObj.removeObserver(t,i)},e.notify=function(t){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];(n=e.subjectObj).notify.apply(n,[t].concat(i));var n},e.notifyWeakly=function(t){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];(n=e.subjectObj).notifyWeakly.apply(n,[t].concat(i));var n},e.getObserversFromSubjectType=function(t){return e.subjectObj.getObserversFromSubjectType(t)},e.hasObserverAndSubjectType=function(t,i){return e.subjectObj.hasObserverAndSubjectType(t,i)},e.getSubjectTypesFromObserver=function(t){return e.subjectObj.getSubjectTypesFromObserver(t)},e.getCurrentSubject=function(){return e.subjectObj.getCurrentSubject()},e.subjectObj=new SubjectBase,e}();egret.registerClass(ConcreteSubject,"ConcreteSubject");var ObserverBase=function(){function e(e){this.subjectObj=e}var t=(__define,e),i=t.prototype;return i.subscribe=function(e,t,i){void 0===i&&(i=this),this.subjectObj.addObserver(this,e,t,i)},i.unsubscribe=function(e){void 0===e&&(e=null),this.subjectObj.removeObserver(this,e)},e}();egret.registerClass(ObserverBase,"ObserverBase",["IObserver"]);